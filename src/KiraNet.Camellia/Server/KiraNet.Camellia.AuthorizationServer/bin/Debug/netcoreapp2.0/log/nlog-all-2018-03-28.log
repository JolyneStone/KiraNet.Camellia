2018-03-28 14:25:38.5737|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 14:25:39.3843|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 14:25:39.9279|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 14:25:40.3084|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 14:25:40.5486|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 14:25:44.6412|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 14:25:46.5439|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 14:25:47.4248|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 14:25:48.2359|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (474ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 14:25:48.6417|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (194ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 14:25:48.8757|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 14:25:48.9823|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 14:25:49.0972|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 14:25:49.1538|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 14:25:49.2618|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 14:25:50.2322|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 14:26:05.5510|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 14:26:15.0446|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 24885.6154ms 
2018-03-28 14:26:15.3183|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 29373.8343ms 200 text/html; charset=utf-8 
2018-03-28 14:55:45.2904|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 14:55:46.5392|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (798ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 14:55:46.5863|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 15:25:46.7907|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:25:48.5667|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (396ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 15:25:49.2606|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 15:26:18.8456|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:26:19.1591|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:26:19.7842|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:26:20.2011|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:26:20.2896|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:26:20.4246|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:26:20.7257|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:26:20.9367|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:26:20.9912|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:26:22.6764|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3825.4826ms 200 application/json; charset=UTF-8 
2018-03-28 15:26:26.0664|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:26:26.1124|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:26:26.1338|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:26:26.1781|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:26:26.2589|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:26:26.2730|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:26:26.3363|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:26:26.4026|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:26:26.6077|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:26:26.6428|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:26:26.7115|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:26:27.3345|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 735.2606ms 200 application/json; charset=UTF-8 
2018-03-28 15:26:27.3667|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc484393bd154aa6b9642cc278878239&nonce=3d11f4a0b48a475187c62887e6ea042a   
2018-03-28 15:26:27.4073|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:26:27.4907|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (117ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:26:27.6009|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (49ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:27.6839|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:27.6998|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:26:27.8435|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (54ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:27.8771|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (29ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:27.9619|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (27ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:27.9828|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:28.0437|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:28.0799|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:28.1345|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (52ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:28.1978|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:26:28.4279|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (35ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:28.6971|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:28.7570|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:26:28.7761|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:28.8253|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:26:28.8551|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:26:28.9635|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:26:29.0226|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:26:29.0680|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:26:29.2831|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2996.2266ms 200 text/html; charset=UTF-8 
2018-03-28 15:26:29.3439|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:26:29.4425|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:26:29.4906|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:26:29.7013|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:26:29.9313|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "fc484393bd154aa6b9642cc278878239",
  "Nonce": "3d11f4a0b48a475187c62887e6ea042a",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "fc484393bd154aa6b9642cc278878239",
    "nonce": "3d11f4a0b48a475187c62887e6ea042a"
  }
} 
2018-03-28 15:26:30.0828|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:26:30.3123|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (156ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:26:30.5092|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:26:30.7821|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:26:30.8450|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:26:30.9070|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:26:30.9342|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:26:31.1473|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (116ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:31.3155|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:31.4492|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:31.4805|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=09fdd3e621b24ae599a50912fd5b4bd3&nonce=7139d7472a9f43748dfdc9173ec3fb62&prompt=none   
2018-03-28 15:26:31.6117|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:31.6800|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:31.7173|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:31.9155|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:26:32.0891|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:26:32.3763|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:26:32.4332|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:26:32.5479|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:26:32.6113|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:26:32.6626|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "09fdd3e621b24ae599a50912fd5b4bd3",
    "nonce": "7139d7472a9f43748dfdc9173ec3fb62",
    "prompt": "none"
  }
} 
2018-03-28 15:26:32.7130|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:26:32.8133|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "09fdd3e621b24ae599a50912fd5b4bd3",
    "nonce": "7139d7472a9f43748dfdc9173ec3fb62",
    "prompt": "none"
  }
} 
2018-03-28 15:26:32.8840|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:26:32.9432|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:33.0123|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:33.0200|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1535.4752ms 302  
2018-03-28 15:26:33.0781|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspgtrww_p4S895pmM1BS5p4yyS4uNsnDaa4DrZGm4UkZwW06vtw2Ka77hlP6bNl5V2qWHs6tp3hEEsFH_dB0H0psISGT-MeTCUSyvJmIDQBZz6lk_I5zxnIo__pcSl5VsHDYlYN3fghvtI84oGinsRBVe2o81_79wbmCnCkjZ-jHRfDjix_batTYywCW9PcPxpAUlRnH_dPlodAisvfe-blePIztbHc0A1fdlYUl7yOasMArSEdBGCx_Lj3dHyVgseOa9nQ-nvGLzAOeAT7Qks070Pic5kef6bp_ztgTp1EiQ   
2018-03-28 15:26:33.0929|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:33.1380|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:33.1561|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:33.1815|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:33.2895|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "fc484393bd154aa6b9642cc278878239",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:26:33.5041|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6332.029ms 302  
2018-03-28 15:26:33.6155|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspgtrww_p4S895pmM1BS5p4yyS4uNsnDaa4DrZGm4UkZwW06vtw2Ka77hlP6bNl5V2qWHs6tp3hEEsFH_dB0H0psISGT-MeTCUSyvJmIDQBZz6lk_I5zxnIo__pcSl5VsHDYlYN3fghvtI84oGinsRBVe2o81_79wbmCnCkjZ-jHRfDjix_batTYywCW9PcPxpAUlRnH_dPlodAisvfe-blePIztbHc0A1fdlYUl7yOasMArSEdBGCx_Lj3dHyVgseOa9nQ-nvGLzAOeAT7Qks070Pic5kef6bp_ztgTp1EiQ) - ModelState is Valid 
2018-03-28 15:26:37.2327|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:26:37.3365|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 3894.1972ms 
2018-03-28 15:26:37.3750|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4291.9682ms 200 text/html; charset=utf-8 
2018-03-28 15:26:41.7890|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:26:41.8599|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:26:41.8838|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:26:41.9306|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:26:41.9736|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:26:41.9960|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:26:42.0220|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:26:42.0504|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:26:42.0863|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:26:42.1607|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 333.729ms 200 application/json; charset=UTF-8 
2018-03-28 15:26:42.2057|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:26:42.2450|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:42.2808|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:42.3107|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:26:42.3513|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:26:42.3914|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:26:42.6071|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:26:42.8814|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 509.9918ms 200 text/html; charset=UTF-8 
2018-03-28 15:26:44.9083|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=8e75cf1b88734e9b9df05880ff851a81&nonce=3761fe99fbce4ae78b829a7eb4e83b61   
2018-03-28 15:26:44.9348|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:44.9611|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:44.9760|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:26:44.9978|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:26:45.0179|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:26:45.0406|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:26:45.0629|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:26:45.0860|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:26:45.1102|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:26:45.1384|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "8e75cf1b88734e9b9df05880ff851a81",
  "Nonce": "3761fe99fbce4ae78b829a7eb4e83b61",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "8e75cf1b88734e9b9df05880ff851a81",
    "nonce": "3761fe99fbce4ae78b829a7eb4e83b61"
  }
} 
2018-03-28 15:26:45.1768|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:26:45.2136|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:26:45.2472|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:26:45.2737|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:26:45.3066|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:26:45.3403|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:26:45.3612|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:26:45.3811|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:26:45.4014|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:26:45.4295|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:45.4638|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:45.5969|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:45.7740|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (84ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:45.9279|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:26:45.9694|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:26:46.0362|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:26:46.0763|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:26:46.1282|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (18ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:26:46.1647|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "8e75cf1b88734e9b9df05880ff851a81",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:26:46.2066|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1328.7316ms 302  
2018-03-28 15:26:53.1529|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:26:53.2145|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:26:53.3900|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:26:53.4419|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:26:53.4718|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:26:53.5005|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:26:53.5261|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:26:53.5562|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:26:53.5980|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:26:53.7204|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 484.8382ms 200 application/json; charset=UTF-8 
2018-03-28 15:26:53.9545|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:26:53.9978|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:54.0249|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:54.0547|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:26:54.0834|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:26:54.2040|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:26:54.3346|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:26:54.3781|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 639.5926ms 200 text/html; charset=UTF-8 
2018-03-28 15:26:59.8161|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=dce774e836174090b723f31e617e8b33&nonce=799911e9c9964cd295b8d80bc51cf3ee&prompt=none   
2018-03-28 15:26:59.8423|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:59.8677|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:26:59.8869|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:26:59.9092|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:26:59.9341|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:26:59.9569|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:26:59.9804|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:27:00.0148|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:27:00.0834|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dce774e836174090b723f31e617e8b33",
    "nonce": "799911e9c9964cd295b8d80bc51cf3ee",
    "prompt": "none"
  }
} 
2018-03-28 15:27:00.1534|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:27:00.1901|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dce774e836174090b723f31e617e8b33",
    "nonce": "799911e9c9964cd295b8d80bc51cf3ee",
    "prompt": "none"
  }
} 
2018-03-28 15:27:00.2332|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 399.4208ms 302  
2018-03-28 15:27:00.2984|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsojcxKEV9AG0dkPDk1sjWcjkSf4c9fldOqfZDshrE9ikzP6NWM6_o_qi_SJNpqKbJGOq5cgkHKhI5hj9Wn7659HOUgZk9zI1f2NG7QnTGAzLvf12L6wq9UFtwzAqJV6SEKqxVjzFTjzVli0wmtVzAHpz6PDbTO2frvhImhXPDJd5lVi0KjallZJxc0DvMRFjRoQUZamyU0nw5933XScUjdFocIlIQ-VAUm-9UTeJeFo1hzKGKtFTnnUwn2vWROjw5X3-TT2ir1xdQu9MuWY91Bxh84Ui9CexcOw7LCH-CYUhg   
2018-03-28 15:27:00.3330|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:27:00.3574|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:27:00.3918|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsojcxKEV9AG0dkPDk1sjWcjkSf4c9fldOqfZDshrE9ikzP6NWM6_o_qi_SJNpqKbJGOq5cgkHKhI5hj9Wn7659HOUgZk9zI1f2NG7QnTGAzLvf12L6wq9UFtwzAqJV6SEKqxVjzFTjzVli0wmtVzAHpz6PDbTO2frvhImhXPDJd5lVi0KjallZJxc0DvMRFjRoQUZamyU0nw5933XScUjdFocIlIQ-VAUm-9UTeJeFo1hzKGKtFTnnUwn2vWROjw5X3-TT2ir1xdQu9MuWY91Bxh84Ui9CexcOw7LCH-CYUhg) - ModelState is Valid 
2018-03-28 15:27:00.4186|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:27:00.5259|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 59.4541ms 
2018-03-28 15:27:00.5633|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA   
2018-03-28 15:27:00.6230|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/tether/dist/js/tether.js   
2018-03-28 15:27:00.6305|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   
2018-03-28 15:27:00.6305|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js   
2018-03-28 15:27:00.6677|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 294.4499ms 200 text/html; charset=utf-8 
2018-03-28 15:27:00.6953|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /js/site.js was not modified 
2018-03-28 15:27:00.7649|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /css/site.css was not modified 
2018-03-28 15:27:00.7801|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /lib/jquery/dist/jquery.js was not modified 
2018-03-28 15:27:01.0785|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /lib/tether/dist/js/tether.js was not modified 
2018-03-28 15:27:01.1351|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 188.4652ms 304 application/javascript 
2018-03-28 15:27:01.2982|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 245.4726ms 304 text/css 
2018-03-28 15:27:01.3339|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 271.6164ms 304 application/javascript 
2018-03-28 15:27:01.3483|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 579.084ms 304 application/javascript 
2018-03-28 15:28:13.0013|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:28:13.3544|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:28:14.1064|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:28:14.2023|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:28:14.2470|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:28:14.3404|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:28:14.3626|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:28:14.3835|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:28:14.4377|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:28:14.4602|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1463.7699ms 200 application/json; charset=UTF-8 
2018-03-28 15:30:11.8947|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:30:12.0038|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:30:12.0877|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:30:12.1836|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:30:12.2354|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:30:12.2906|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:30:12.5418|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:30:12.7492|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 758.0204ms 200 text/html; charset=UTF-8 
2018-03-28 15:30:37.9481|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:30:37.9706|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:30:38.0672|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:30:38.0978|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:30:38.1260|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:30:38.1524|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:30:38.1752|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:30:38.1969|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:30:38.2225|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:30:38.2525|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 306.4898ms 200 application/json; charset=UTF-8 
2018-03-28 15:30:38.4210|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:30:38.4467|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:30:38.4712|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:30:38.4941|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:30:38.7020|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:30:38.7223|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:30:38.7466|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:30:38.7762|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 352.1417ms 200 text/html; charset=UTF-8 
2018-03-28 15:32:51.2396|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:32:51.3552|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:32:51.4135|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:32:51.4373|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:32:51.4606|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:32:51.4936|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:32:51.5249|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:32:51.5534|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:32:51.5892|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:32:52.9074|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 449.0564ms 200 application/json; charset=UTF-8 
2018-03-28 15:32:53.0294|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:32:53.1902|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:53.2209|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:53.2429|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:32:53.2693|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:32:53.2969|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:32:53.3210|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:32:53.3472|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1172.8457ms 200 text/html; charset=UTF-8 
2018-03-28 15:32:55.9778|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=9912447b2563450ebcdbe379a519da49&nonce=aadaf677f00740e9b3da189bd8c41a4a&prompt=none   
2018-03-28 15:32:55.9971|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:56.0158|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:56.0375|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:32:56.0746|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:32:56.0947|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:32:56.1198|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:32:56.1573|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:32:56.1890|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:32:56.2309|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "9912447b2563450ebcdbe379a519da49",
    "nonce": "aadaf677f00740e9b3da189bd8c41a4a",
    "prompt": "none"
  }
} 
2018-03-28 15:32:56.2659|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:32:56.2933|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "9912447b2563450ebcdbe379a519da49",
    "nonce": "aadaf677f00740e9b3da189bd8c41a4a",
    "prompt": "none"
  }
} 
2018-03-28 15:32:56.3310|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 367.4195ms 302  
2018-03-28 15:32:56.3582|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrZvESDpmK9zBSNHTnSUxm7pDr3pn0ubdPsIjYsDSctgM4Wpisv18HGk2uNAEGCBwiJDMISntecDP6zFDy6UTJhuHR6PJE0WY6AQ0wvMfCajXXZlh9foBxUit9-Qgo0CS1zrCmGCpDmFtrfM6D_zPznS2-j1OR9uPldmIsExFzngXQ2kr5gm-45lbY6kPvjf6-nB_ulrjPkaUs9gYub_Kxs7aTO40bu5579h7DaN_3CArpioeTj_q6JxAdO-hYL7QbFTGfnngVbVAhSRyzHr9l8O4N-DX4-kWHsvzjiN5n6FA   
2018-03-28 15:32:56.3809|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:56.4077|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:32:56.5254|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrZvESDpmK9zBSNHTnSUxm7pDr3pn0ubdPsIjYsDSctgM4Wpisv18HGk2uNAEGCBwiJDMISntecDP6zFDy6UTJhuHR6PJE0WY6AQ0wvMfCajXXZlh9foBxUit9-Qgo0CS1zrCmGCpDmFtrfM6D_zPznS2-j1OR9uPldmIsExFzngXQ2kr5gm-45lbY6kPvjf6-nB_ulrjPkaUs9gYub_Kxs7aTO40bu5579h7DaN_3CArpioeTj_q6JxAdO-hYL7QbFTGfnngVbVAhSRyzHr9l8O4N-DX4-kWHsvzjiN5n6FA) - ModelState is Valid 
2018-03-28 15:32:56.6427|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:32:56.7392|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 245.9382ms 
2018-03-28 15:32:56.7802|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 400.9989ms 200 text/html; charset=utf-8 
2018-03-28 15:37:47.5472|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:37:47.6459|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:37:47.7750|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:37:47.8041|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:37:47.8310|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:37:47.8676|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:37:47.9165|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:37:48.7975|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:37:49.3123|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:37:49.5541|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1792.3011ms 200 application/json; charset=UTF-8 
2018-03-28 15:37:54.9485|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:37:54.9899|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:37:55.0036|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:37:55.0279|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:37:55.0636|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:55.0780|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:37:55.0954|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:55.1199|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:37:55.1610|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:37:55.1786|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:37:55.2201|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:37:55.2456|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:37:55.2795|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:37:55.3101|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:37:55.3348|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:37:55.3868|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:37:55.5758|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 414.1986ms 200 application/json; charset=UTF-8 
2018-03-28 15:37:55.6501|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=6bac2c398e9241aeb0d3d24d7c15b968&nonce=bd0c789448444f1f8e245e39f9827bf1   
2018-03-28 15:37:55.6501|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 420.5883ms 200 text/html; charset=UTF-8 
2018-03-28 15:37:55.6743|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:55.6965|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:55.7135|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:37:55.7276|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:37:55.7443|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:37:55.7653|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:37:55.7888|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:37:55.8069|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:37:55.8408|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:37:55.8597|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "6bac2c398e9241aeb0d3d24d7c15b968",
  "Nonce": "bd0c789448444f1f8e245e39f9827bf1",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "6bac2c398e9241aeb0d3d24d7c15b968",
    "nonce": "bd0c789448444f1f8e245e39f9827bf1"
  }
} 
2018-03-28 15:37:55.9724|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:37:56.6047|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (289ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:37:56.6503|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:37:56.7644|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (81ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:37:56.7932|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:37:56.8982|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:37:56.9234|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:37:56.9530|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:37:56.9864|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:37:57.0767|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (39ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:37:57.1783|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:37:57.3515|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:37:57.3942|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:37:57.7990|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:37:57.9735|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (65ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:37:57.9735|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=0e2bac7b077d45b78777e0d8841129e0&nonce=00247d0c3302467492bfe246b0b83423&prompt=none   
2018-03-28 15:37:58.0468|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:37:58.0721|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:58.0950|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:37:58.1336|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:58.1857|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:37:58.2983|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "6bac2c398e9241aeb0d3d24d7c15b968",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:37:58.3165|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:37:58.3812|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2875.9991ms 302  
2018-03-28 15:37:58.4127|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:37:58.4472|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:37:58.4687|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:37:58.4901|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:37:58.5275|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:37:58.5477|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0e2bac7b077d45b78777e0d8841129e0",
    "nonce": "00247d0c3302467492bfe246b0b83423",
    "prompt": "none"
  }
} 
2018-03-28 15:37:58.5709|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:37:58.6047|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0e2bac7b077d45b78777e0d8841129e0",
    "nonce": "00247d0c3302467492bfe246b0b83423",
    "prompt": "none"
  }
} 
2018-03-28 15:37:58.6486|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 712.9649ms 302  
2018-03-28 15:37:58.7112|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoRrFsM1uiB3C7Asr4-mP4WbTQSEayNOLrgbMj4pIss-BwZnbTW8uKLkuZ10flLLI_Bi8feHF8byV6UKd8n3LJsWJAr2v_p9VqCbnryHyjOV_wzwEZYkOif31auEvpFfQ1V99ZWbJ2WfQ1sU0eUyN5mpQSP29esippSyrA4dIeoZ9Cr5qh-RAokvEdCvgBnL5u119bEtyo_VcySV4mVds2hbQe_WE8VBQw8YGUq548L_V2wyhsnw201FH2t3I4QTQibBeZWYBrJI_WUzi2qDY9TNhfSqom5hvtcXN-KMKX5wQ   
2018-03-28 15:37:58.7397|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:59.0763|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:37:59.4126|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoRrFsM1uiB3C7Asr4-mP4WbTQSEayNOLrgbMj4pIss-BwZnbTW8uKLkuZ10flLLI_Bi8feHF8byV6UKd8n3LJsWJAr2v_p9VqCbnryHyjOV_wzwEZYkOif31auEvpFfQ1V99ZWbJ2WfQ1sU0eUyN5mpQSP29esippSyrA4dIeoZ9Cr5qh-RAokvEdCvgBnL5u119bEtyo_VcySV4mVds2hbQe_WE8VBQw8YGUq548L_V2wyhsnw201FH2t3I4QTQibBeZWYBrJI_WUzi2qDY9TNhfSqom5hvtcXN-KMKX5wQ) - ModelState is Valid 
2018-03-28 15:37:59.4374|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:37:59.4744|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 359.5783ms 
2018-03-28 15:37:59.4929|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 813.5745ms 200 text/html; charset=utf-8 
2018-03-28 15:38:05.4993|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:38:05.5423|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:38:05.5661|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:38:05.6162|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:38:05.6459|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:38:05.6754|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:38:05.7070|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:38:05.7468|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:38:05.7834|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:38:05.9640|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 416.6515ms 200 application/json; charset=UTF-8 
2018-03-28 15:38:06.3135|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:38:06.3814|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:06.4076|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:06.4326|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:38:06.4592|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:38:06.4827|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:38:06.5077|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:38:06.5309|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 630.4073ms 200 text/html; charset=UTF-8 
2018-03-28 15:38:08.7386|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=980945de8c094b7ea4e255669d3503ca&nonce=2b4811bef86542b2997d874c1185f7e4   
2018-03-28 15:38:08.7711|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:08.8011|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:08.8218|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:38:08.8367|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:38:08.8538|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:38:08.8755|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:38:08.8945|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:38:08.9134|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:38:08.9368|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:38:08.9702|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "980945de8c094b7ea4e255669d3503ca",
  "Nonce": "2b4811bef86542b2997d874c1185f7e4",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "980945de8c094b7ea4e255669d3503ca",
    "nonce": "2b4811bef86542b2997d874c1185f7e4"
  }
} 
2018-03-28 15:38:09.0079|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:38:09.0468|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:38:09.1239|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:38:09.1744|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:38:09.2904|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:38:09.3394|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:38:09.3684|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:38:09.3865|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:38:09.4078|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:38:09.4476|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:38:09.5382|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:38:09.5659|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:38:09.5996|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:38:09.6329|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:38:09.6569|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:38:09.6859|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:38:09.7221|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:38:09.7482|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:38:09.7728|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "980945de8c094b7ea4e255669d3503ca",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:38:09.8042|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1124.1071ms 302  
2018-03-28 15:38:16.0067|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:38:16.0516|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:38:16.1241|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:38:16.2081|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:38:16.2523|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:38:16.2926|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:38:16.3187|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:38:16.3551|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:38:16.3744|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:38:16.4074|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 392.0537ms 200 application/json; charset=UTF-8 
2018-03-28 15:38:16.4420|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:38:16.4669|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:16.4924|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:16.7283|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:38:16.8569|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:38:16.8886|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:38:16.9182|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:38:16.9553|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 505.1063ms 200 text/html; charset=UTF-8 
2018-03-28 15:38:41.1227|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=03b96c2e0b534873b2db21a4783f0c74&nonce=050648fe7c924f94ba91797b5cc35a82&prompt=none   
2018-03-28 15:38:41.1384|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:41.1561|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:41.1847|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:38:41.2188|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:38:41.2392|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:38:41.2632|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:38:41.2825|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:38:41.3024|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:38:41.3282|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "03b96c2e0b534873b2db21a4783f0c74",
    "nonce": "050648fe7c924f94ba91797b5cc35a82",
    "prompt": "none"
  }
} 
2018-03-28 15:38:41.3524|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:38:41.3810|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "03b96c2e0b534873b2db21a4783f0c74",
    "nonce": "050648fe7c924f94ba91797b5cc35a82",
    "prompt": "none"
  }
} 
2018-03-28 15:38:41.4071|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 288.2203ms 302  
2018-03-28 15:38:41.4386|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspMpz0qZxsttpzPO54o-ZYYpB9B6Piz2MkdyhAkQuP-p8020_zFenFC58zF-PHB8EwndITKQqyW1zfbFsGVqD2dpuH3ij2cc-hOWFJBnWSV_VZTwyZ-uN8PRklLg9ePofTLrvJdsQ09cKKIXhAoanEKc_fpscCHOWwT_vt4f25FW1DWR2IjdcyGixDuSp_xGN3G_TsESROccr07Pl1XL6JZfBZkQ9H2EqhBmqHs3PMv89o83rW-E6jK9umsFekUkflhTsmWp1mqc6OaHzG3UAryu93NHLb4q-auqMZZ-d44gg   
2018-03-28 15:38:41.4609|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:41.4744|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:38:41.4951|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspMpz0qZxsttpzPO54o-ZYYpB9B6Piz2MkdyhAkQuP-p8020_zFenFC58zF-PHB8EwndITKQqyW1zfbFsGVqD2dpuH3ij2cc-hOWFJBnWSV_VZTwyZ-uN8PRklLg9ePofTLrvJdsQ09cKKIXhAoanEKc_fpscCHOWwT_vt4f25FW1DWR2IjdcyGixDuSp_xGN3G_TsESROccr07Pl1XL6JZfBZkQ9H2EqhBmqHs3PMv89o83rW-E6jK9umsFekUkflhTsmWp1mqc6OaHzG3UAryu93NHLb4q-auqMZZ-d44gg) - ModelState is Valid 
2018-03-28 15:38:41.5169|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:38:41.6334|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 43.5241ms 
2018-03-28 15:38:41.7195|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 217.8624ms 200 text/html; charset=utf-8 
2018-03-28 15:39:06.3066|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:39:06.4471|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:39:06.5461|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:39:06.5615|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:39:06.5818|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:39:06.6066|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:39:06.6298|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:39:06.6607|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:39:06.7098|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:39:06.9094|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 426.5759ms 200 application/json; charset=UTF-8 
2018-03-28 15:39:07.4212|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:39:08.1988|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:08.8338|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:08.9892|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:39:09.0629|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:39:09.6500|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:39:10.0362|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:39:10.0720|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3134.7315ms 200 text/html; charset=UTF-8 
2018-03-28 15:39:17.0713|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=075bb4ea997a470f8ce607bf25baeff1&nonce=3d36cc3854df41979338516d8fe93509   
2018-03-28 15:39:17.1074|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:17.1430|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:17.1691|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:39:17.1900|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:39:17.2195|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:39:17.2457|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:39:17.2984|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:39:17.3226|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:39:17.3439|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:39:17.3815|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "075bb4ea997a470f8ce607bf25baeff1",
  "Nonce": "3d36cc3854df41979338516d8fe93509",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "075bb4ea997a470f8ce607bf25baeff1",
    "nonce": "3d36cc3854df41979338516d8fe93509"
  }
} 
2018-03-28 15:39:17.4274|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:39:17.4756|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:39:17.5332|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:39:17.6112|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:39:17.8183|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:39:18.0492|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:39:18.1329|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:39:18.1704|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:39:18.1946|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:39:18.2514|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:39:18.3122|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:39:18.4419|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:39:18.5284|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:39:18.5753|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:39:18.6377|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:39:18.6902|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:39:18.7249|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:39:18.7887|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:39:18.8222|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "075bb4ea997a470f8ce607bf25baeff1",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:39:18.8714|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1799.4131ms 302  
2018-03-28 15:39:19.2907|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=23a16943dd9a485699e8742afb56b330&nonce=92c56d844439453ea15712aa96e7e531&prompt=none   
2018-03-28 15:39:20.0591|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:20.1975|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:20.2475|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:39:20.2801|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:39:20.3064|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:39:20.3365|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:39:20.3600|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:39:20.3792|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:39:20.4079|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "23a16943dd9a485699e8742afb56b330",
    "nonce": "92c56d844439453ea15712aa96e7e531",
    "prompt": "none"
  }
} 
2018-03-28 15:39:20.4339|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:39:20.4636|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "23a16943dd9a485699e8742afb56b330",
    "nonce": "92c56d844439453ea15712aa96e7e531",
    "prompt": "none"
  }
} 
2018-03-28 15:39:20.6192|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1217.6705ms 0  
2018-03-28 15:39:27.3718|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:39:27.4273|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:39:27.5348|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:39:27.6607|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:39:27.7096|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:39:27.7723|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:39:27.8189|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:39:28.3051|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:39:28.5418|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:39:28.6937|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1265.4823ms 200 application/json; charset=UTF-8 
2018-03-28 15:39:37.2976|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:39:37.3403|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:39:37.3540|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:39:37.3727|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:37.3931|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:39:37.4183|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:37.4575|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:39:37.5013|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:39:37.5905|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:39:37.6189|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:39:37.6430|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:39:37.6584|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:39:37.6863|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:39:37.6928|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:39:37.7979|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 415.9151ms 200 text/html; charset=UTF-8 
2018-03-28 15:39:37.8985|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:39:37.9673|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:39:38.0225|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 723.2453ms 200 application/json; charset=UTF-8 
2018-03-28 15:39:38.1400|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=1580ea169813493da9eaa078e6f09cc3&nonce=04fb286ca72a4b66a86a075cd6335b61   
2018-03-28 15:39:38.1733|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:38.2002|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:38.2209|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:39:38.2421|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:39:38.2643|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:39:38.2834|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:39:38.3013|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:39:38.3258|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:39:38.3505|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:39:38.4029|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "1580ea169813493da9eaa078e6f09cc3",
  "Nonce": "04fb286ca72a4b66a86a075cd6335b61",
  "SessionId": "0664bef3ee716747eb450d9fde3f40ee",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "1580ea169813493da9eaa078e6f09cc3",
    "nonce": "04fb286ca72a4b66a86a075cd6335b61"
  }
} 
2018-03-28 15:39:38.5199|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:39:38.5903|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (43ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:39:38.6401|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:39:38.6892|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:39:38.7251|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:39:38.7651|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:39:38.7839|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:39:38.8031|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:39:38.8318|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:39:38.8611|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:39:38.8983|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:39:38.9553|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:39:39.0050|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:39:39.0522|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:39:39.0887|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:39:39.1366|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:39:39.5138|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (53ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:39:39.5893|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (51ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:39:39.6229|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "1580ea169813493da9eaa078e6f09cc3",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:39:39.6918|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1538.9131ms 302  
2018-03-28 15:39:46.7875|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:39:46.8336|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:39:46.8886|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:39:46.9224|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:39:47.0617|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:39:47.1226|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:39:47.1599|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:39:47.1824|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:39:47.2445|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:39:47.4660|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 478.2447ms 200 application/json; charset=UTF-8 
2018-03-28 15:39:47.5477|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:39:47.5937|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:47.6984|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:39:47.7298|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:39:47.7839|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:39:47.8160|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:39:47.8499|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:39:47.9001|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 399.5999ms 200 text/html; charset=UTF-8 
2018-03-28 15:42:22.0377|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 15:42:22.3433|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 15:42:22.4140|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 15:42:22.4555|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 15:42:22.4875|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 15:42:23.0180|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 15:42:24.5111|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 15:42:25.1690|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:42:25.2601|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:42:25.7226|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 15:42:36.3767|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 15:42:41.0481|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/images/Butterfly.png   
2018-03-28 15:42:41.0674|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 15063.0267ms 
2018-03-28 15:42:41.6093|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /images/Butterfly.png was not modified 
2018-03-28 15:42:41.7829|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 17302.0221ms 200 text/html; charset=utf-8 
2018-03-28 15:42:42.0190|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 801.9458ms 304 image/png 
2018-03-28 15:43:04.4004|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 15:43:04.5114|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:43:04.6592|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:43:05.6020|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 15:43:07.1996|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 15:43:07.2534|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 15:43:07.2909|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 15:43:07.3725|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 15:43:09.2107|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 15:43:09.3015|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 4318.8029ms 
2018-03-28 15:43:09.3763|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5007.5717ms 200 text/html; charset=utf-8 
2018-03-28 15:43:09.5308|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsrQlGgyQ447rg36_5GcZBcq0qZDzBg4Yd9dcikhp85eTt5aEB7bZqtosJdH4Se2eOSHwMgnxLtvNQt--X2BB0-Ka-MDpZBpXhpbrP5s6LzN4-H2UHu5EUVCngL6ngw5O1td3KjCP6z4V2fnwYbBqLLBNB4QMWJX6Y1RY-gkZi57PSiJL6J4ggREU-C8YVESLsFxUnZAKgKP7eEcXbRkvsIur0X21g_p4cmKC_JXeAe4lshBJAFCxQjPVtgeeDPuAq_xoJ8BxoP3-faUHPLpZYjjJ8Wz5E1xMC1DWRQMBfFykp5852W_VpGt0RUWjCCXe_U   
2018-03-28 15:43:09.6444|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 15:43:09.7474|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 15:43:09.7646|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 15:43:09.7991|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 15:43:10.0359|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 15:43:10.0604|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 15:43:10.0818|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 15:43:10.1117|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 15:43:10.1764|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 15:43:10.2896|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 808.5119ms 200 text/html; charset=UTF-8 
2018-03-28 15:43:26.6773|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:43:26.7182|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:43:26.7943|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:43:26.8556|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:43:26.9102|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:43:26.9400|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:43:26.9792|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:43:27.1025|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:43:27.4713|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:43:27.8394|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1138.875ms 200 application/json; charset=UTF-8 
2018-03-28 15:43:28.6209|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:43:28.6804|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:43:28.7779|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:43:28.8190|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:43:28.9294|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:43:28.9889|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 352.9163ms 200 text/html; charset=UTF-8 
2018-03-28 15:44:09.9469|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:44:09.9682|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:44:10.0269|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:44:10.4772|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:44:10.5402|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:44:10.5763|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:44:10.7263|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:44:11.0900|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:44:11.1320|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:44:11.1624|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1204.9921ms 200 application/json; charset=UTF-8 
2018-03-28 15:44:15.1013|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:44:15.1937|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:44:15.2309|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:44:15.2488|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:44:15.2814|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:44:15.3100|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:44:15.3408|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:44:15.3644|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:44:15.3825|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:44:15.4293|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:44:15.4293|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:44:15.6892|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 349.9521ms 200 text/html; charset=UTF-8 
2018-03-28 15:44:15.7475|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:44:15.9245|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:44:16.0907|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:44:16.2285|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1048.7168ms 200 application/json; charset=UTF-8 
2018-03-28 15:44:16.2508|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=aa0adab9aca44333b6e9c23ca6af1e25&nonce=4d9723ade5be442db67c165243166442   
2018-03-28 15:44:16.3156|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:44:16.5803|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:44:16.6161|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:44:16.6643|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:44:16.7299|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 15:44:16.7898|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:44:17.2002|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:44:17.4774|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "aa0adab9aca44333b6e9c23ca6af1e25",
  "Nonce": "4d9723ade5be442db67c165243166442",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "aa0adab9aca44333b6e9c23ca6af1e25",
    "nonce": "4d9723ade5be442db67c165243166442"
  }
} 
2018-03-28 15:44:17.7826|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 15:44:17.8054|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ec71db945a6240acbba5b22677ba7049&nonce=1eacbeeb378e4e38a581982efd1de37e&prompt=none   
2018-03-28 15:44:17.8947|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1651.6921ms 302  
2018-03-28 15:44:17.9097|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:44:18.0044|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Daa0adab9aca44333b6e9c23ca6af1e25%26nonce%3D4d9723ade5be442db67c165243166442   
2018-03-28 15:44:18.2591|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:44:18.5766|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=aa0adab9aca44333b6e9c23ca6af1e25&nonce=4d9723ade5be442db67c165243166442) - ModelState is Valid 
2018-03-28 15:44:18.5981|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:44:18.6220|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 15:44:18.6432|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:44:18.7169|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 15:44:18.9774|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:44:19.0433|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ec71db945a6240acbba5b22677ba7049",
    "nonce": "1eacbeeb378e4e38a581982efd1de37e",
    "prompt": "none"
  }
} 
2018-03-28 15:44:19.0949|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:44:19.1299|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ec71db945a6240acbba5b22677ba7049",
    "nonce": "1eacbeeb378e4e38a581982efd1de37e",
    "prompt": "none"
  }
} 
2018-03-28 15:44:19.2750|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1548.3247ms 302  
2018-03-28 15:44:19.3128|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoKwdbP8nDDhRmQrvNcM0cXAwp8teSomw_p0W09GnZ4VjFj4IBt4mejxTDOp20AnrBTuqQnARMfm32sOyPFeZeFP1X-j0psvn0bRhqezsm3VkHZ6vK9OOGG9zZ_XIPDdGejIcV_HebU7AIOkihE3cwFer_2h8dYzYp64itAXmdID4CoLVoFuwiPUweGZLdwlAtQ8Ki9_A38CmZN0tZrLtCBIsWmS0OqxJo025tOvczc7Nta2ccLWCwj-cN1QY6gGJjl3n-lg-sbM_e-aKQWXJqjJefls2N-ZJU5CL0l-85rlw   
2018-03-28 15:44:19.3906|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoKwdbP8nDDhRmQrvNcM0cXAwp8teSomw_p0W09GnZ4VjFj4IBt4mejxTDOp20AnrBTuqQnARMfm32sOyPFeZeFP1X-j0psvn0bRhqezsm3VkHZ6vK9OOGG9zZ_XIPDdGejIcV_HebU7AIOkihE3cwFer_2h8dYzYp64itAXmdID4CoLVoFuwiPUweGZLdwlAtQ8Ki9_A38CmZN0tZrLtCBIsWmS0OqxJo025tOvczc7Nta2ccLWCwj-cN1QY6gGJjl3n-lg-sbM_e-aKQWXJqjJefls2N-ZJU5CL0l-85rlw) - ModelState is Valid 
2018-03-28 15:44:20.6538|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:44:21.5203|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 15:44:21.9135|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 2542.4463ms 
2018-03-28 15:44:21.9443|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2631.3062ms 200 text/html; charset=utf-8 
2018-03-28 15:44:23.7029|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 5404.2618ms 
2018-03-28 15:44:23.8560|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js   
2018-03-28 15:44:23.9151|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/register-login.css   
2018-03-28 15:44:23.9299|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   
2018-03-28 15:44:23.9710|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /lib/jquery-validation/dist/jquery.validate.js was not modified 
2018-03-28 15:44:24.0003|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5785.7989ms 200 text/html; charset=utf-8 
2018-03-28 15:44:24.0264|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js was not modified 
2018-03-28 15:44:24.0513|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /css/register-login.css was not modified 
2018-03-28 15:44:24.0865|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 274.8528ms 304 application/javascript 
2018-03-28 15:44:24.1926|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 329.7789ms 304 application/javascript 
2018-03-28 15:44:24.2105|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 358.8807ms 304 text/css 
2018-03-28 15:44:24.2815|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/font-awesome/css/font-awesome.min.css   
2018-03-28 15:44:24.3495|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /lib/font-awesome/css/font-awesome.min.css was not modified 
2018-03-28 15:44:24.3825|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 656.7784ms 304 text/css 
2018-03-28 15:44:24.6288|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 15:44:24.6733|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 48.2749ms 404  
2018-03-28 15:44:39.6286|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Daa0adab9aca44333b6e9c23ca6af1e25%26nonce%3D4d9723ade5be442db67c165243166442 application/x-www-form-urlencoded 232 
2018-03-28 15:44:39.7121|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=aa0adab9aca44333b6e9c23ca6af1e25&nonce=4d9723ade5be442db67c165243166442) - ModelState is Valid 
2018-03-28 15:44:39.8370|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:44:40.0403|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (121ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 15:44:40.4057|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:44:40.5531|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:44:40.5835|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:44:40.6834|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:44:40.7324|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 15:44:40.7555|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 15:44:40.7738|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 15:44:40.7930|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522223080 
2018-03-28 15:44:40.8328|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 15:44:40.8677|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 15:44:40.8933|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=aa0adab9aca44333b6e9c23ca6af1e25&nonce=4d9723ade5be442db67c165243166442. 
2018-03-28 15:44:40.9126|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 1223.669ms 
2018-03-28 15:44:40.9421|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1309.221ms 302  
2018-03-28 15:44:40.9709|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=aa0adab9aca44333b6e9c23ca6af1e25&nonce=4d9723ade5be442db67c165243166442   
2018-03-28 15:44:41.0036|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:44:41.0036|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:44:41.0370|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 15:44:41.0552|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 15:44:41.0745|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 15:44:41.1109|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 15:44:41.1440|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:44:41.1621|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:44:41.1854|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:44:41.2125|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "aa0adab9aca44333b6e9c23ca6af1e25",
  "Nonce": "4d9723ade5be442db67c165243166442",
  "SessionId": "1a92b50713f0be842dc3a349c0c3abdd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "aa0adab9aca44333b6e9c23ca6af1e25",
    "nonce": "4d9723ade5be442db67c165243166442"
  }
} 
2018-03-28 15:44:41.2581|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:44:41.3072|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:44:41.5843|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:44:41.7014|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (48ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:44:41.8675|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:44:41.9316|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:44:41.9744|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:44:42.0342|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:44:42.0533|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:44:42.1180|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:44:42.1734|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:44:42.2349|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:44:42.2967|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:44:42.7343|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:44:42.7579|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:44:42.7911|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:44:42.8221|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:44:42.8504|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:44:42.9150|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "aa0adab9aca44333b6e9c23ca6af1e25",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:44:42.9677|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 15:44:42.9910|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 15:44:43.0377|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2054.3159ms 302  
2018-03-28 15:44:52.1677|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:44:52.2911|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:44:52.3249|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:44:52.3515|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:44:52.3764|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:44:52.4011|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:44:52.4286|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:44:52.4656|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:44:52.4902|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:44:52.6089|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 375.8065ms 200 application/json; charset=UTF-8 
2018-03-28 15:44:52.9770|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:44:53.0328|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:44:53.1142|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:44:53.2021|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:44:53.3303|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:44:53.3833|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:44:53.4122|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:44:53.4437|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 868.9732ms 200 text/html; charset=UTF-8 
2018-03-28 15:46:00.2466|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fab50eddf6f14db1a11fab9e2f41c382&nonce=d7f8875c0e15433393923e71065475d4   
2018-03-28 15:46:00.2801|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:00.3168|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:00.3355|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:46:00.3542|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:46:00.3682|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:46:00.3843|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:46:00.4076|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:46:00.4233|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:46:00.4393|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 15:46:00.4581|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "fab50eddf6f14db1a11fab9e2f41c382",
  "Nonce": "d7f8875c0e15433393923e71065475d4",
  "SessionId": "1a92b50713f0be842dc3a349c0c3abdd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "fab50eddf6f14db1a11fab9e2f41c382",
    "nonce": "d7f8875c0e15433393923e71065475d4"
  }
} 
2018-03-28 15:46:00.4834|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 15:46:00.5333|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 15:46:00.5592|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 15:46:00.5844|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 15:46:00.6101|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 15:46:00.6425|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 15:46:00.6579|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 15:46:00.6740|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 15:46:00.6911|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:46:00.7194|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:46:00.7568|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:46:00.7999|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:46:00.8726|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:46:00.9140|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 15:46:00.9384|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 15:46:01.0196|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 15:46:01.0876|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (37ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 15:46:01.1221|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 15:46:01.1543|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "fab50eddf6f14db1a11fab9e2f41c382",
  "Scope": "openid profile email client_name"
} 
2018-03-28 15:46:01.1742|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1106.6803ms 302  
2018-03-28 15:46:08.6126|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 15:46:08.6478|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 15:46:08.7004|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 15:46:08.7208|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 15:46:08.7810|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 15:46:08.8220|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 15:46:08.8610|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 15:46:08.8848|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 15:46:08.9244|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 15:46:09.3826|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 15:46:09.4085|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 346.3639ms 200 application/json; charset=UTF-8 
2018-03-28 15:46:09.4553|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:09.4917|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:09.5112|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 15:46:09.5546|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 15:46:09.7290|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 15:46:09.8280|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 15:46:09.8620|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 596.1819ms 200 text/html; charset=UTF-8 
2018-03-28 15:46:55.2868|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=2904673c8441417fa041d09bb10a2b71&nonce=badd03cddcba404caec40018c89fbe52&prompt=none   
2018-03-28 15:46:55.3092|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:55.3545|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:55.3805|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 15:46:55.4012|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 15:46:55.4241|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 15:46:55.4536|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 15:46:55.5007|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 15:46:55.5260|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 15:46:55.5521|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2904673c8441417fa041d09bb10a2b71",
    "nonce": "badd03cddcba404caec40018c89fbe52",
    "prompt": "none"
  }
} 
2018-03-28 15:46:55.5862|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 15:46:55.6083|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2904673c8441417fa041d09bb10a2b71",
    "nonce": "badd03cddcba404caec40018c89fbe52",
    "prompt": "none"
  }
} 
2018-03-28 15:46:55.6404|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 343.835ms 302  
2018-03-28 15:46:55.6701|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq8Y6v8oSckMrskVWnWNdiGBy2zUbEXrKycBsvRGnck-L3aNdR-RYS3dPMmu4fl-vPZNdT9pYv_nDYWaQcW2Ea44UzlJOCR4FUiUhQBrf8SkSyVl1A9mCB_cWx_4W8uDEOP8WAZ6pzN7krOa3JToC9b131QKyVMw2R-hjBmq8NzOs_zk-k133ymznXE_1QVibZQrZmUxaCOZnhYoXyikfDeso1KTgM63i0RtEPjnbdbWEmHy0pnz9bHg0V8LgEGtiakYjgK7WD3Fp5-sV1FBzz3FHGhSy6rPfIcyc774Y33Rg   
2018-03-28 15:46:55.6900|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:55.7066|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 15:46:55.7418|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq8Y6v8oSckMrskVWnWNdiGBy2zUbEXrKycBsvRGnck-L3aNdR-RYS3dPMmu4fl-vPZNdT9pYv_nDYWaQcW2Ea44UzlJOCR4FUiUhQBrf8SkSyVl1A9mCB_cWx_4W8uDEOP8WAZ6pzN7krOa3JToC9b131QKyVMw2R-hjBmq8NzOs_zk-k133ymznXE_1QVibZQrZmUxaCOZnhYoXyikfDeso1KTgM63i0RtEPjnbdbWEmHy0pnz9bHg0V8LgEGtiakYjgK7WD3Fp5-sV1FBzz3FHGhSy6rPfIcyc774Y33Rg) - ModelState is Valid 
2018-03-28 15:46:55.7666|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 15:46:55.8149|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 77.7827ms 
2018-03-28 15:46:55.8381|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 167.1058ms 200 text/html; charset=utf-8 
2018-03-28 16:00:33.3058|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 16:00:33.4664|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 16:00:33.5024|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 16:00:33.5221|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 16:00:33.5408|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 16:00:34.1139|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 16:00:34.7302|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 16:00:34.9675|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:00:35.0391|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:00:35.4815|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 16:00:44.4730|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 16:00:51.5422|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:00:51.6457|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:00:53.3012|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:00:53.6343|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:00:54.4590|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:00:55.0325|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:00:55.3651|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:00:55.7553|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:00:55.8332|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:00:56.5919|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5224.8496ms 200 application/json; charset=UTF-8 
2018-03-28 16:00:57.7644|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 22169.9679ms 
2018-03-28 16:00:57.8202|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 23143.7306ms 200 text/html; charset=utf-8 
2018-03-28 16:01:04.7287|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:01:04.8004|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:01:04.8175|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:01:04.8408|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:01:04.8662|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:04.8904|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:01:04.9288|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:04.9571|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:01:04.9990|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:01:05.0074|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:01:05.0374|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:01:05.0851|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:01:05.1153|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:01:05.1602|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:01:05.2312|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:01:05.2817|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:01:05.3512|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 579.0798ms 200 application/json; charset=UTF-8 
2018-03-28 16:01:05.4681|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=0d384d1b7b4b4decac421c8723c44805&nonce=65291c15d64b47019775f24cac49432f   
2018-03-28 16:01:05.4950|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 648.7373ms 200 text/html; charset=UTF-8 
2018-03-28 16:01:05.5141|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:05.5540|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:05.5743|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:01:05.6151|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:01:05.6332|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:01:05.6635|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:01:05.7777|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:01:05.8518|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:01:06.0911|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 16:01:06.2718|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "0d384d1b7b4b4decac421c8723c44805",
  "Nonce": "65291c15d64b47019775f24cac49432f",
  "SessionId": "1a92b50713f0be842dc3a349c0c3abdd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "0d384d1b7b4b4decac421c8723c44805",
    "nonce": "65291c15d64b47019775f24cac49432f"
  }
} 
2018-03-28 16:01:06.3480|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 16:01:06.4463|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (54ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 16:01:06.6714|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 16:01:06.9704|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (211ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 16:01:07.1990|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 16:01:07.8155|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 16:01:07.8888|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=54553434ac43400fb16361a02eb4f5f5&nonce=2cea3c8ece3d4a2cb8e16d14e2bf765e&prompt=none   
2018-03-28 16:01:07.9776|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:08.0761|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 16:01:08.1206|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:08.1616|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:01:08.2993|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:01:08.7544|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 16:01:08.8212|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:01:08.8923|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:01:08.9341|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:01:09.1955|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:01:09.2810|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:01:10.0402|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "54553434ac43400fb16361a02eb4f5f5",
    "nonce": "2cea3c8ece3d4a2cb8e16d14e2bf765e",
    "prompt": "none"
  }
} 
2018-03-28 16:01:10.0944|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:01:10.1276|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "54553434ac43400fb16361a02eb4f5f5",
    "nonce": "2cea3c8ece3d4a2cb8e16d14e2bf765e",
    "prompt": "none"
  }
} 
2018-03-28 16:01:11.1561|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3126.5184ms 302  
2018-03-28 16:01:12.6326|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 16:01:12.9106|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr5b6sZIfI89eqxPF7JR1qaUbLdOtazaUR5LlzuCKYbHoZw8Zt1Wez87LqNsxN0kKhsierjzQMGNqrzDgXWny1bRRsZJm4JRiAR9LwYWI4uh-Js-mada1X4_CxVx_fL3YE4B1ChzPKreOYyEtjxSAVN66SofflfZ8peMPgEV5siuhihXhAAIKabJwRgnywEUL9Gw4A0NQb47lS8Apd0PDg4hwWq62nLHEtUa98LmRaclsPuNwUidqz9EN9tTFjkfYsgK3M5GEJFThUzGwG1pZZil7D54dAuoNUCO-OTD_7xow   
2018-03-28 16:01:12.9689|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:13.0129|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:13.3974|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr5b6sZIfI89eqxPF7JR1qaUbLdOtazaUR5LlzuCKYbHoZw8Zt1Wez87LqNsxN0kKhsierjzQMGNqrzDgXWny1bRRsZJm4JRiAR9LwYWI4uh-Js-mada1X4_CxVx_fL3YE4B1ChzPKreOYyEtjxSAVN66SofflfZ8peMPgEV5siuhihXhAAIKabJwRgnywEUL9Gw4A0NQb47lS8Apd0PDg4hwWq62nLHEtUa98LmRaclsPuNwUidqz9EN9tTFjkfYsgK3M5GEJFThUzGwG1pZZil7D54dAuoNUCO-OTD_7xow) - ModelState is Valid 
2018-03-28 16:01:14.3218|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (992ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 16:01:14.7355|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (272ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 16:01:15.4706|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (144ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 16:01:16.2979|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 16:01:16.3594|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 16:01:16.7627|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 16:01:16.8691|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 16:01:16.9034|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 16:01:17.1928|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "0d384d1b7b4b4decac421c8723c44805",
  "Scope": "openid profile email client_name"
} 
2018-03-28 16:01:18.0853|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 11951.4443ms 302  
2018-03-28 16:01:18.8793|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:01:19.0416|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 5790.4565ms 
2018-03-28 16:01:19.1145|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 7852.8981ms 200 text/html; charset=utf-8 
2018-03-28 16:01:26.7031|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:01:26.7319|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:01:26.8508|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:01:26.8894|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:01:26.9514|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:01:26.9784|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:01:27.0907|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:01:27.1630|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:01:27.1912|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:01:27.2907|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 514.337ms 200 application/json; charset=UTF-8 
2018-03-28 16:01:27.3284|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:01:27.4583|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:27.5342|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:01:27.6107|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:01:27.6710|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:01:27.7887|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:01:27.8181|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:01:27.8545|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 535.4152ms 200 text/html; charset=UTF-8 
2018-03-28 16:06:28.6105|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:06:28.6444|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:06:28.7987|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:06:28.8351|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:06:28.8860|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:06:28.9090|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:06:28.9360|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:06:28.9581|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:06:29.0111|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:06:29.0781|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 423.2875ms 200 application/json; charset=UTF-8 
2018-03-28 16:06:29.2972|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:06:29.3404|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:29.4248|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:29.6762|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:06:29.8710|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:06:29.9522|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:06:30.0142|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:06:30.1070|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 955.6903ms 200 text/html; charset=UTF-8 
2018-03-28 16:06:32.3867|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=d0e0bd27b7ef4a279e4f874012bb8142&nonce=924486af9d3d42f2971e3f0bf2595e74&prompt=none   
2018-03-28 16:06:32.4233|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:32.4618|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:32.4935|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:06:32.5701|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:06:32.6065|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:06:32.6406|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:06:32.6886|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:06:32.7625|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:06:32.7941|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d0e0bd27b7ef4a279e4f874012bb8142",
    "nonce": "924486af9d3d42f2971e3f0bf2595e74",
    "prompt": "none"
  }
} 
2018-03-28 16:06:32.8247|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:06:32.8533|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d0e0bd27b7ef4a279e4f874012bb8142",
    "nonce": "924486af9d3d42f2971e3f0bf2595e74",
    "prompt": "none"
  }
} 
2018-03-28 16:06:32.9009|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 512.2887ms 302  
2018-03-28 16:06:32.9514|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoWL95Pill2Q6jpD5HUjnU1Qr6EiGwji-6RX0wDyCaBE9dggf27gpDrqed0HoXwa_i5_1WdOGpyZwWuu_0_hhTRh6RsjuU1ysTMx1KSd818lFzg0FmcA4WvBnjr834P4nk9Hw08jGUrj6c8XiSj_fku0deWGSTrtQbDn23VJmxpl7ZUHHsgYAaLHdvb5njlb2UpFrn6iI8Us3BDyDd6A-Dw46iSJQol1qbMP1cDmXRTaV3hlv3p64fPGWIQZNLtabp2SWGXgIy1KIPtZTS9qwGaY4Ud6E8LeRDcI6aaOddfvQ   
2018-03-28 16:06:32.9916|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:33.0343|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:33.2414|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoWL95Pill2Q6jpD5HUjnU1Qr6EiGwji-6RX0wDyCaBE9dggf27gpDrqed0HoXwa_i5_1WdOGpyZwWuu_0_hhTRh6RsjuU1ysTMx1KSd818lFzg0FmcA4WvBnjr834P4nk9Hw08jGUrj6c8XiSj_fku0deWGSTrtQbDn23VJmxpl7ZUHHsgYAaLHdvb5njlb2UpFrn6iI8Us3BDyDd6A-Dw46iSJQol1qbMP1cDmXRTaV3hlv3p64fPGWIQZNLtabp2SWGXgIy1KIPtZTS9qwGaY4Ud6E8LeRDcI6aaOddfvQ) - ModelState is Valid 
2018-03-28 16:06:33.2866|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:06:33.3614|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 252.0155ms 
2018-03-28 16:06:34.3028|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 710.1873ms 200 text/html; charset=utf-8 
2018-03-28 16:06:55.7645|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:06:55.8051|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:06:56.0822|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:06:56.1158|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:06:56.1379|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:06:56.1582|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:06:56.1814|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:06:56.2003|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:06:56.2276|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:06:56.2752|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 480.9301ms 200 application/json; charset=UTF-8 
2018-03-28 16:06:56.2933|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:06:56.3308|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:56.3749|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:56.9403|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:06:56.9727|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:06:57.0124|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:06:57.0350|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:06:57.0774|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 760.3078ms 200 text/html; charset=UTF-8 
2018-03-28 16:06:59.3216|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=add1508c6b604741853f16493686cdaf&nonce=bde9348c06bc4cd69ff6124d9cd8634b&prompt=none   
2018-03-28 16:06:59.3579|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:59.3904|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:06:59.4330|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:06:59.5685|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:06:59.5914|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:06:59.6134|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:06:59.6363|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:06:59.6533|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:06:59.6935|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "add1508c6b604741853f16493686cdaf",
    "nonce": "bde9348c06bc4cd69ff6124d9cd8634b",
    "prompt": "none"
  }
} 
2018-03-28 16:06:59.8392|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:06:59.9091|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "add1508c6b604741853f16493686cdaf",
    "nonce": "bde9348c06bc4cd69ff6124d9cd8634b",
    "prompt": "none"
  }
} 
2018-03-28 16:06:59.9675|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 628.6771ms 302  
2018-03-28 16:07:00.2745|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqJftM0ejayvzvapiXY4TgBWO5qX16N047WM6ysoeT0qXwdN0Yw-OR1taPNkq8zkBM_IRMKINtqJGkEOovtrPoj7HRroKg6YB6HNlaW9mjylj6rbaK3ccjQA-SRdA9iUqwn09GY4uvKq6BvrDHEsGwiA12DEFBgCk4TIiXLBbflekwVWCGb_qjUinhUTy3I3Fdx-Wx7EuiBsH5Ugo8zcPzlM05EeH9NYmNpP58XkJL-tSB-g16Pa_DNVNZUg-1uRIFIfV3CkWc4pZx6B5qPaAO4Axnx701fISUXwQr0hUKsBg   
2018-03-28 16:07:00.4075|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:00.4529|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:00.5152|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqJftM0ejayvzvapiXY4TgBWO5qX16N047WM6ysoeT0qXwdN0Yw-OR1taPNkq8zkBM_IRMKINtqJGkEOovtrPoj7HRroKg6YB6HNlaW9mjylj6rbaK3ccjQA-SRdA9iUqwn09GY4uvKq6BvrDHEsGwiA12DEFBgCk4TIiXLBbflekwVWCGb_qjUinhUTy3I3Fdx-Wx7EuiBsH5Ugo8zcPzlM05EeH9NYmNpP58XkJL-tSB-g16Pa_DNVNZUg-1uRIFIfV3CkWc4pZx6B5qPaAO4Axnx701fISUXwQr0hUKsBg) - ModelState is Valid 
2018-03-28 16:07:00.5486|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:07:00.6337|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 99.541ms 
2018-03-28 16:07:00.6653|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 475.7691ms 200 text/html; charset=utf-8 
2018-03-28 16:07:31.2426|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:07:31.2774|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:07:31.5730|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:07:31.5982|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:07:31.6265|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:07:31.6533|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:07:31.6780|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:07:31.6987|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:07:31.7403|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:07:31.9355|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 518.5679ms 200 application/json; charset=UTF-8 
2018-03-28 16:07:31.9989|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:07:32.2068|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:32.2550|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:32.2799|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:07:32.3206|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:07:32.3557|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:07:32.3954|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:07:32.4302|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 473.3607ms 200 text/html; charset=UTF-8 
2018-03-28 16:07:34.6125|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=84735efebc734c67a5f002fdf2b61a83&nonce=ba94d1b7effb42a2bd4a721b945bc68a&prompt=none   
2018-03-28 16:07:34.6462|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:34.6780|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:34.7166|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:07:35.3099|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:07:35.3968|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:07:35.5753|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:07:35.8939|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:07:35.9301|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:07:35.9610|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "84735efebc734c67a5f002fdf2b61a83",
    "nonce": "ba94d1b7effb42a2bd4a721b945bc68a",
    "prompt": "none"
  }
} 
2018-03-28 16:07:35.9940|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:07:36.0311|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "84735efebc734c67a5f002fdf2b61a83",
    "nonce": "ba94d1b7effb42a2bd4a721b945bc68a",
    "prompt": "none"
  }
} 
2018-03-28 16:07:36.0751|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1444.4356ms 302  
2018-03-28 16:07:36.1193|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq9sk7_a0s5AuD8FhJfeYrlKM6D_NvE1BmEgY2qQIaNu47Oz01YIEsrZLNUoqHXZ02fHLpEq5jeDrsk5Jx9cvlDPPTAKTbBTe0PgUJGVpoUZduPCXEI0wuFzRbf98IQHd8Q4zGUWR6cTQEvnjIP_CklQJ06G5J_tNjR35E7eYp8eCvmDYvDMN1rpei49E2f58e7GIuQhf2_hmmx8SWNDdG-QjBC_t1wk-9qaj-jibt_Vqo9mcfyqhzVDJWdIMvttSAWTLGMd93P5onN6nWOaFgeD6VKCHdvng2wnovAC0u46A   
2018-03-28 16:07:36.1403|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:36.1708|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:07:36.1978|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq9sk7_a0s5AuD8FhJfeYrlKM6D_NvE1BmEgY2qQIaNu47Oz01YIEsrZLNUoqHXZ02fHLpEq5jeDrsk5Jx9cvlDPPTAKTbBTe0PgUJGVpoUZduPCXEI0wuFzRbf98IQHd8Q4zGUWR6cTQEvnjIP_CklQJ06G5J_tNjR35E7eYp8eCvmDYvDMN1rpei49E2f58e7GIuQhf2_hmmx8SWNDdG-QjBC_t1wk-9qaj-jibt_Vqo9mcfyqhzVDJWdIMvttSAWTLGMd93P5onN6nWOaFgeD6VKCHdvng2wnovAC0u46A) - ModelState is Valid 
2018-03-28 16:07:36.2209|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:07:36.2478|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 56.3533ms 
2018-03-28 16:07:36.2705|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 161.0719ms 200 text/html; charset=utf-8 
2018-03-28 16:08:03.7040|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:08:03.7312|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:08:03.7572|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:08:03.7810|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:08:03.8099|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:08:03.8327|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:08:03.8626|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:08:03.8854|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:08:03.9062|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:08:03.9320|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 221.3479ms 200 application/json; charset=UTF-8 
2018-03-28 16:08:04.2132|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:08:04.2461|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:04.2904|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:04.3444|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:08:04.4173|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:08:04.4614|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:08:04.5176|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:08:05.0523|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 329.9613ms 200 text/html; charset=UTF-8 
2018-03-28 16:08:07.9961|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=c354c1f7abb64edeb92c0072d6b11d35&nonce=60fc2e686fc949ccb9ccc556aa5a26f1&prompt=none   
2018-03-28 16:08:08.0268|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:08.0456|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:08.0675|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:08:08.0854|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:08:08.1032|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:08:08.1280|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:08:08.1521|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:08:08.1748|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:08:08.2044|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c354c1f7abb64edeb92c0072d6b11d35",
    "nonce": "60fc2e686fc949ccb9ccc556aa5a26f1",
    "prompt": "none"
  }
} 
2018-03-28 16:08:08.2315|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:08:08.2540|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c354c1f7abb64edeb92c0072d6b11d35",
    "nonce": "60fc2e686fc949ccb9ccc556aa5a26f1",
    "prompt": "none"
  }
} 
2018-03-28 16:08:08.2871|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 285.0155ms 302  
2018-03-28 16:08:08.3161|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspWtVN-rdSlWgp7Yixj27bJbtXG2BhawqQ0nkYAr0H4mrUk9NOUYadTda_1MdU_6zAIOtjKeyIfCoiZSGwfOfYI-SVa6JqMrmuLFclXPO8DWY18ifOTV83dNTSrtRSgeNo_qPW8NOBA0YhRF7b7jiw0svCtQAj8nrOUdz1fNfs8dKjvdQB_utqQB-y4zMn6EP0vBlTBxNd_Jiw7EqqGOHT7zuumDoVlKBNvkOygl9NyUI886xz_ir-iJTDqyAHKACb4N6KlRWHOvgJL8hicun7oJlL2bnESf_xGbwDhXRfhuw   
2018-03-28 16:08:08.3374|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:08.3559|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:08.3773|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspWtVN-rdSlWgp7Yixj27bJbtXG2BhawqQ0nkYAr0H4mrUk9NOUYadTda_1MdU_6zAIOtjKeyIfCoiZSGwfOfYI-SVa6JqMrmuLFclXPO8DWY18ifOTV83dNTSrtRSgeNo_qPW8NOBA0YhRF7b7jiw0svCtQAj8nrOUdz1fNfs8dKjvdQB_utqQB-y4zMn6EP0vBlTBxNd_Jiw7EqqGOHT7zuumDoVlKBNvkOygl9NyUI886xz_ir-iJTDqyAHKACb4N6KlRWHOvgJL8hicun7oJlL2bnESf_xGbwDhXRfhuw) - ModelState is Valid 
2018-03-28 16:08:08.3983|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:08:08.4211|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 47.5749ms 
2018-03-28 16:08:08.4445|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 129.8811ms 200 text/html; charset=utf-8 
2018-03-28 16:08:24.5063|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:08:24.7239|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:08:24.7919|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:08:24.8125|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:08:24.8374|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:08:25.0930|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:08:25.2556|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:08:25.3249|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:08:25.3601|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:08:25.4428|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 936.9562ms 200 application/json; charset=UTF-8 
2018-03-28 16:08:25.4628|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:08:25.4926|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:25.5177|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:25.6085|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:08:25.6453|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:08:25.6661|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:08:25.6906|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:08:25.7229|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 251.6814ms 200 text/html; charset=UTF-8 
2018-03-28 16:08:27.9048|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=0a0e873713bb40698ba76b312c0e8355&nonce=e119c506ba4346e89e39f6e9b7bb2e22&prompt=none   
2018-03-28 16:08:27.9298|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:27.9576|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:27.9801|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:08:28.0000|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:08:28.0190|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:08:28.0387|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:08:28.0618|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:08:28.0928|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:08:28.1387|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0a0e873713bb40698ba76b312c0e8355",
    "nonce": "e119c506ba4346e89e39f6e9b7bb2e22",
    "prompt": "none"
  }
} 
2018-03-28 16:08:28.2264|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:08:28.2744|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0a0e873713bb40698ba76b312c0e8355",
    "nonce": "e119c506ba4346e89e39f6e9b7bb2e22",
    "prompt": "none"
  }
} 
2018-03-28 16:08:28.3565|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 403.3761ms 302  
2018-03-28 16:08:28.3966|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspB5mg7uPIKHZDV_bBc5ml74bP_4efCXLvC7CW6mPRvz46JMJy-atwiBYsszDNDq1T0Jdk1GDSmdijNtZy2r2aLL29aciCTZYhlHeAifRYeF4h2mt59eDF1CKQBrhmgzvVsBGggg-nJwF9C2B4i66XuIoLG-ImcgKSE1OnUsgsoHdzl4Hw_AKNwft_faOpnKPNNWrrm_c3BllWrUJOC1VVNdDpY52T7ob064IHnO0-hAksldRYU8Q_6O0pgXSQxGM2DLUENPRE5uRHf-0NN3GaRRtohaS-bAYIsFzL0YzTl7w   
2018-03-28 16:08:28.4405|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:28.4707|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:08:28.5003|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspB5mg7uPIKHZDV_bBc5ml74bP_4efCXLvC7CW6mPRvz46JMJy-atwiBYsszDNDq1T0Jdk1GDSmdijNtZy2r2aLL29aciCTZYhlHeAifRYeF4h2mt59eDF1CKQBrhmgzvVsBGggg-nJwF9C2B4i66XuIoLG-ImcgKSE1OnUsgsoHdzl4Hw_AKNwft_faOpnKPNNWrrm_c3BllWrUJOC1VVNdDpY52T7ob064IHnO0-hAksldRYU8Q_6O0pgXSQxGM2DLUENPRE5uRHf-0NN3GaRRtohaS-bAYIsFzL0YzTl7w) - ModelState is Valid 
2018-03-28 16:08:28.5286|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:08:28.6400|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 59.1068ms 
2018-03-28 16:08:28.6994|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 267.5211ms 200 text/html; charset=utf-8 
2018-03-28 16:10:44.1454|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:10:44.1734|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:10:44.2207|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:10:44.2579|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:10:44.2776|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:10:44.3255|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:10:44.4069|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:10:44.4432|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:10:44.4748|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:10:44.5005|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 348.3636ms 200 application/json; charset=UTF-8 
2018-03-28 16:10:44.9021|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:10:44.9343|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:44.9557|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:44.9742|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:10:45.0074|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:10:45.0248|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:10:45.0545|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:10:45.0767|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 172.7167ms 200 text/html; charset=UTF-8 
2018-03-28 16:10:48.0034|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=1009775a20fd423687ce12e280664d73&nonce=5059262cd45d4b4b8cf1bfe017148781&prompt=none   
2018-03-28 16:10:48.0266|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:48.0429|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:48.0630|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:10:48.0890|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:10:48.1117|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:10:48.1533|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:10:48.1785|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:10:48.2000|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:10:48.2257|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1009775a20fd423687ce12e280664d73",
    "nonce": "5059262cd45d4b4b8cf1bfe017148781",
    "prompt": "none"
  }
} 
2018-03-28 16:10:48.2494|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:10:48.2769|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1009775a20fd423687ce12e280664d73",
    "nonce": "5059262cd45d4b4b8cf1bfe017148781",
    "prompt": "none"
  }
} 
2018-03-28 16:10:48.3022|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 290.7871ms 302  
2018-03-28 16:10:48.3405|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqPIRN06slsP5NOKZFBMMAz8ZadmBc29KsgsEyTdimLnIIBQTyfs1DBnBFZJcHIzdnB2VkOyVNdFE8OabDJIyAEASjb8EFr4L9u3ZOMC6s9I90Ww9gj5INH5J8SdTvDWTUf_3IGwbcTgjRVpPqv4at7rCMH45rwgQ5vSOBgtgv8uJ5fdFX8pBDMP30Qhsc9QBeyela46bAS4FL_nqOEwtPWoCP2hFTHapuxuPHFPzcLRpN3lTTTAJgijB8uq9yhqVPThDJ65po8w27CpThU2JseQzMnLCmRF6tjfaqsJMeQIw   
2018-03-28 16:10:48.3613|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:48.3876|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:10:48.4116|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqPIRN06slsP5NOKZFBMMAz8ZadmBc29KsgsEyTdimLnIIBQTyfs1DBnBFZJcHIzdnB2VkOyVNdFE8OabDJIyAEASjb8EFr4L9u3ZOMC6s9I90Ww9gj5INH5J8SdTvDWTUf_3IGwbcTgjRVpPqv4at7rCMH45rwgQ5vSOBgtgv8uJ5fdFX8pBDMP30Qhsc9QBeyela46bAS4FL_nqOEwtPWoCP2hFTHapuxuPHFPzcLRpN3lTTTAJgijB8uq9yhqVPThDJ65po8w27CpThU2JseQzMnLCmRF6tjfaqsJMeQIw) - ModelState is Valid 
2018-03-28 16:10:48.4511|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:10:48.4850|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 79.5758ms 
2018-03-28 16:10:48.5060|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 168.4248ms 200 text/html; charset=utf-8 
2018-03-28 16:12:53.4697|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:12:53.4932|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:12:53.5526|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:12:53.6029|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:12:53.6287|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:12:53.6638|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:12:53.6964|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:12:53.7223|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:12:53.7414|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:12:53.7681|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 293.4668ms 200 application/json; charset=UTF-8 
2018-03-28 16:12:54.2528|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:12:54.2740|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:54.3237|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:54.3451|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:12:54.3702|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:12:54.3916|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:12:54.4175|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:12:54.4531|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 184.6412ms 200 text/html; charset=UTF-8 
2018-03-28 16:12:57.4835|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4002b40df6104c5e9b5336410b87556d&nonce=09f285fd54e343d08999d3ca4eccb1b8&prompt=none   
2018-03-28 16:12:57.5130|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:57.5852|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:57.6291|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:12:57.6662|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:12:57.6907|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:12:57.7200|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:12:57.7697|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:12:57.8106|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:12:57.9902|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4002b40df6104c5e9b5336410b87556d",
    "nonce": "09f285fd54e343d08999d3ca4eccb1b8",
    "prompt": "none"
  }
} 
2018-03-28 16:12:58.0908|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:12:58.1202|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4002b40df6104c5e9b5336410b87556d",
    "nonce": "09f285fd54e343d08999d3ca4eccb1b8",
    "prompt": "none"
  }
} 
2018-03-28 16:12:58.1545|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 656.4357ms 302  
2018-03-28 16:12:58.1920|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq8VgT2PyscfiT8OQp9Lzkoq-SFT1uky_LFzl6HVVNOMVAa-hSZOFmFeT2YOjnfQzQxx7AoxfxIK7qpDWdpzluW-wHLhf3_k0_7RIu52X8kybL6l2qNzkRMx5G4I3whuGRNnJqRyUZsrdWOweazgh6UwoC1_4i6fXqMXF6CMN44xM2hfx6t6Nia6lY8sEPiOa-gVyPK0y65hDPy9FzSP0wLkAsHlMweSr5fJF_FOPElnTyi2AvtJAAU-r6ZcK1u7TmPqbOARjwIsVDDmQfG3kqBA-c373NnwXiVk_JoUC6OBg   
2018-03-28 16:12:58.2264|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:58.2519|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:12:58.2901|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq8VgT2PyscfiT8OQp9Lzkoq-SFT1uky_LFzl6HVVNOMVAa-hSZOFmFeT2YOjnfQzQxx7AoxfxIK7qpDWdpzluW-wHLhf3_k0_7RIu52X8kybL6l2qNzkRMx5G4I3whuGRNnJqRyUZsrdWOweazgh6UwoC1_4i6fXqMXF6CMN44xM2hfx6t6Nia6lY8sEPiOa-gVyPK0y65hDPy9FzSP0wLkAsHlMweSr5fJF_FOPElnTyi2AvtJAAU-r6ZcK1u7TmPqbOARjwIsVDDmQfG3kqBA-c373NnwXiVk_JoUC6OBg) - ModelState is Valid 
2018-03-28 16:12:58.3322|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:12:58.3626|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 71.6032ms 
2018-03-28 16:12:58.3960|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 197.2686ms 200 text/html; charset=utf-8 
2018-03-28 16:13:17.8347|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:13:17.8617|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:13:17.9355|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:13:17.9909|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:13:18.0404|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:13:18.0713|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:13:18.0961|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:13:18.1324|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:13:18.1907|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:13:18.2301|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 376.8576ms 200 application/json; charset=UTF-8 
2018-03-28 16:13:18.5356|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:13:18.5620|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:18.5866|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:18.6047|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:13:18.6319|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:13:18.6513|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:13:18.6774|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:13:18.7008|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 172.0507ms 200 text/html; charset=UTF-8 
2018-03-28 16:13:21.0792|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=15a179f15ec94c6c9d1bd34263364cfb&nonce=169b1a91d63943f69b52493c57ec5241&prompt=none   
2018-03-28 16:13:21.1044|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:21.1358|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:21.1784|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:13:21.1991|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:13:21.2289|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:13:21.2512|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:13:21.2721|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:13:21.2945|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:13:21.3308|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "15a179f15ec94c6c9d1bd34263364cfb",
    "nonce": "169b1a91d63943f69b52493c57ec5241",
    "prompt": "none"
  }
} 
2018-03-28 16:13:21.3590|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:13:21.3928|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "15a179f15ec94c6c9d1bd34263364cfb",
    "nonce": "169b1a91d63943f69b52493c57ec5241",
    "prompt": "none"
  }
} 
2018-03-28 16:13:21.4300|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 331.7823ms 302  
2018-03-28 16:13:21.4592|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsodf5LC3evsye1NHSb6Dux8ahqa0wgiJBsr85oADHMQ4BZJuayWNTJIc31XWuPsxXP06H3HxyLSY8fKH_WAo2fWPQKI6Fb0mTmx0sTgAKemEle8EtVeWL23oT-U-h2dhSnxsMOdkSpweA-DRitu3n7Amc8VpMzc7stHeSyf53XLIZgj5iY4X8SG69LoR3A2YgGAbw1UYUhe_PwVQT5oy3Kw3a_Ga8hVQupMuISAtbit3yj6DBp9v3kmOy5y3Q6BIlyXEzjA9Adu6VYBviutG5yUM0-O5Snd1ZRRVHDyxuQkew   
2018-03-28 16:13:21.4826|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:21.5016|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:21.5333|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsodf5LC3evsye1NHSb6Dux8ahqa0wgiJBsr85oADHMQ4BZJuayWNTJIc31XWuPsxXP06H3HxyLSY8fKH_WAo2fWPQKI6Fb0mTmx0sTgAKemEle8EtVeWL23oT-U-h2dhSnxsMOdkSpweA-DRitu3n7Amc8VpMzc7stHeSyf53XLIZgj5iY4X8SG69LoR3A2YgGAbw1UYUhe_PwVQT5oy3Kw3a_Ga8hVQupMuISAtbit3yj6DBp9v3kmOy5y3Q6BIlyXEzjA9Adu6VYBviutG5yUM0-O5Snd1ZRRVHDyxuQkew) - ModelState is Valid 
2018-03-28 16:13:21.5567|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:13:21.5827|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 58.2896ms 
2018-03-28 16:13:21.6032|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 144.9982ms 200 text/html; charset=utf-8 
2018-03-28 16:13:39.2371|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:13:39.4888|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:13:39.5530|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:13:39.9166|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:13:40.5176|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:13:40.6698|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:13:40.7140|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:13:40.9426|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:13:41.1884|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:13:41.9439|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1977.2595ms 200 application/json; charset=UTF-8 
2018-03-28 16:13:42.0476|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:13:42.2796|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:42.2992|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:42.3214|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:13:42.3383|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:13:42.3647|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:13:42.3901|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:13:42.4285|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 593.2947ms 200 text/html; charset=UTF-8 
2018-03-28 16:13:44.6313|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4fd4d55cf49649a583b144095d2d86c6&nonce=a3b6da5deb374557893a84312a76e29e&prompt=none   
2018-03-28 16:13:44.6899|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:44.7258|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:44.7647|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:13:44.7962|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:13:44.8179|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:13:44.8485|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:13:44.8701|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:13:44.8955|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:13:44.9154|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4fd4d55cf49649a583b144095d2d86c6",
    "nonce": "a3b6da5deb374557893a84312a76e29e",
    "prompt": "none"
  }
} 
2018-03-28 16:13:44.9427|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:13:44.9830|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4fd4d55cf49649a583b144095d2d86c6",
    "nonce": "a3b6da5deb374557893a84312a76e29e",
    "prompt": "none"
  }
} 
2018-03-28 16:13:45.0236|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 387.5803ms 302  
2018-03-28 16:13:45.0606|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoJhZNIHzHl3reul6GzACP5Vb6al7lVFNL3BsBFPIxcC3eHhZMi92jj3su2EJmWXGz6ijX0v69QPQrRo8ZxIsMUoOJ4nPkJ95lyE3qIbOZje9X_3RAiRgodKOO7AaRk2QoyRgiZiIEsEEYn1aO2AHnyczsqQvBIcOjAA5UybJRhbKJCdsYM1AShnJJXQtMBtG788TCVjCVVkWUUDkE6GLvwVgXJDkOZVaqzNTEAe_Xw1OO0Y7U4WQJFfDJqKaIh25xQeqtczKU_c1Fc0sUWfPOOgfOFwxIbSo6h65KicKaPGw   
2018-03-28 16:13:45.0860|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:45.2446|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:13:45.4922|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoJhZNIHzHl3reul6GzACP5Vb6al7lVFNL3BsBFPIxcC3eHhZMi92jj3su2EJmWXGz6ijX0v69QPQrRo8ZxIsMUoOJ4nPkJ95lyE3qIbOZje9X_3RAiRgodKOO7AaRk2QoyRgiZiIEsEEYn1aO2AHnyczsqQvBIcOjAA5UybJRhbKJCdsYM1AShnJJXQtMBtG788TCVjCVVkWUUDkE6GLvwVgXJDkOZVaqzNTEAe_Xw1OO0Y7U4WQJFfDJqKaIh25xQeqtczKU_c1Fc0sUWfPOOgfOFwxIbSo6h65KicKaPGw) - ModelState is Valid 
2018-03-28 16:13:45.5148|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:13:45.8546|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 279.5804ms 
2018-03-28 16:13:45.8825|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 815.112ms 200 text/html; charset=utf-8 
2018-03-28 16:14:05.5787|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:14:05.8438|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:14:06.3436|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:14:06.5381|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:14:06.5599|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:14:06.6246|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:14:06.6439|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:14:06.6676|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:14:06.6911|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:14:06.7351|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1380.6551ms 200 application/json; charset=UTF-8 
2018-03-28 16:14:06.7607|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:14:06.8061|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:06.8734|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:06.9009|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:14:06.9328|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:14:06.9681|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:14:07.0152|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:14:07.1088|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 343.8411ms 200 text/html; charset=UTF-8 
2018-03-28 16:14:09.2677|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=640a284c710446eb98cdaf3a37442056&nonce=58d77c75ac8042b5a9d48eeab84ce7ef&prompt=none   
2018-03-28 16:14:09.2907|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:09.3085|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:09.3254|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:14:09.3440|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:14:09.3659|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:14:09.3872|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:14:09.4084|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:14:09.4294|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:14:09.4514|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "640a284c710446eb98cdaf3a37442056",
    "nonce": "58d77c75ac8042b5a9d48eeab84ce7ef",
    "prompt": "none"
  }
} 
2018-03-28 16:14:09.4736|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:14:09.4985|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "640a284c710446eb98cdaf3a37442056",
    "nonce": "58d77c75ac8042b5a9d48eeab84ce7ef",
    "prompt": "none"
  }
} 
2018-03-28 16:14:09.5231|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 261.8965ms 302  
2018-03-28 16:14:09.5495|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsojDqjY3VkdPqdyaBB_fvKE7kC2dVb5389ADhS2D0hj10kZpcG4joFgPLoZclSZ_pCzkBMjX_hx1GjtiURExNzdEgZoZfXDFT7B0rWfKeEqcyeO3kLLjFXirV4CamMX0zzBI2HnjajsiYlnlxDS-xog13bZvgig2YFpF9XlV2OmA-szlEQ-bARnrSro_avE-F8HKTvdipFPgb_5Xzgx_L1w7s4dYobu1iVbzT7DujGI7_XwdEy5gVlueTQ_gAk8VAiyMjyBKz_e9J9o3hlrTB-tDgny98k4pBLCDAibXFZdsA   
2018-03-28 16:14:09.5814|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:09.7163|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:14:09.7459|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsojDqjY3VkdPqdyaBB_fvKE7kC2dVb5389ADhS2D0hj10kZpcG4joFgPLoZclSZ_pCzkBMjX_hx1GjtiURExNzdEgZoZfXDFT7B0rWfKeEqcyeO3kLLjFXirV4CamMX0zzBI2HnjajsiYlnlxDS-xog13bZvgig2YFpF9XlV2OmA-szlEQ-bARnrSro_avE-F8HKTvdipFPgb_5Xzgx_L1w7s4dYobu1iVbzT7DujGI7_XwdEy5gVlueTQ_gAk8VAiyMjyBKz_e9J9o3hlrTB-tDgny98k4pBLCDAibXFZdsA) - ModelState is Valid 
2018-03-28 16:14:09.7681|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:14:10.0350|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 56.1113ms 
2018-03-28 16:14:10.2409|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 516.6008ms 200 text/html; charset=utf-8 
2018-03-28 16:15:55.2854|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:15:55.5958|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:15:56.2109|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:15:56.2625|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:15:56.3795|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:15:56.4029|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:15:56.4262|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:15:56.4538|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:15:56.4812|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:15:56.5311|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1221.8007ms 200 application/json; charset=UTF-8 
2018-03-28 16:15:56.5635|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:15:56.7245|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 16:15:59.0144|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (931ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 16:15:59.1202|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 16:15:59.3071|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (147ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 16:15:59.5241|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (176ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 16:15:59.8427|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 16:16:00.1020|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:00.1290|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:00.4695|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:16:01.0059|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:16:01.4779|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:16:01.5771|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:16:01.7941|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5111.3635ms 200 text/html; charset=UTF-8 
2018-03-28 16:16:04.5346|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=f2bf33e4434743448abc0629fc28e894&nonce=a47793dd5e1c4b438b3bda74c92ec0f3&prompt=none   
2018-03-28 16:16:04.6442|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:04.6793|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:04.7322|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:16:04.7543|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:16:04.7765|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:16:04.8080|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:16:04.8499|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:16:04.9657|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:16:04.9928|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f2bf33e4434743448abc0629fc28e894",
    "nonce": "a47793dd5e1c4b438b3bda74c92ec0f3",
    "prompt": "none"
  }
} 
2018-03-28 16:16:05.0656|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:16:05.1275|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f2bf33e4434743448abc0629fc28e894",
    "nonce": "a47793dd5e1c4b438b3bda74c92ec0f3",
    "prompt": "none"
  }
} 
2018-03-28 16:16:05.1796|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 733.5804ms 302  
2018-03-28 16:16:05.2179|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspsMy0PX6RlqYVmWDNvRjW4NJKIF0PWlxI9mizGeOMEON3d4wyOisksGxUKPZkhqZC2CSVt3nD8Xmb_UD0Ercz7OFdofzLdk7fDLRAX1Di-VBLtB6J86-qzYG4NQbyKcaofiThBYBkBGK1vkn9FNf0nL-TyPu3Aiowtdx27qqCNtK5Fqq5fEY4LaCXrnUQN8BaMs9jrPn5yFoHGoGumY42qkF10TMbdCVfKKpwO1BOYlSgI4r8wwPgiU5u2V9Rnp9QM-AcX1jyh87pjXKPEQhbeN_MsYcg8V_kcIapGoHvc1Q   
2018-03-28 16:16:05.2620|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:05.2806|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:05.3059|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspsMy0PX6RlqYVmWDNvRjW4NJKIF0PWlxI9mizGeOMEON3d4wyOisksGxUKPZkhqZC2CSVt3nD8Xmb_UD0Ercz7OFdofzLdk7fDLRAX1Di-VBLtB6J86-qzYG4NQbyKcaofiThBYBkBGK1vkn9FNf0nL-TyPu3Aiowtdx27qqCNtK5Fqq5fEY4LaCXrnUQN8BaMs9jrPn5yFoHGoGumY42qkF10TMbdCVfKKpwO1BOYlSgI4r8wwPgiU5u2V9Rnp9QM-AcX1jyh87pjXKPEQhbeN_MsYcg8V_kcIapGoHvc1Q) - ModelState is Valid 
2018-03-28 16:16:05.3288|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:16:05.3752|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 48.4393ms 
2018-03-28 16:16:05.9706|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 186.9679ms 200 text/html; charset=utf-8 
2018-03-28 16:16:45.7505|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:16:47.3952|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:16:47.6657|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:16:48.0430|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:16:48.5146|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:16:49.2432|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:16:49.7521|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:16:49.8083|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:16:50.0331|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:16:50.8984|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5509.6203ms 200 application/json; charset=UTF-8 
2018-03-28 16:16:51.4508|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:16:51.5418|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:51.6055|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:51.6915|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:16:51.9817|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:16:52.0377|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:16:52.0765|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:16:52.2980|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1191.9488ms 200 text/html; charset=UTF-8 
2018-03-28 16:16:54.4572|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=576d7154992741e19dbc856a37be7ae7&nonce=37c4d870a5ea44cbb66eb369e3bf96ae&prompt=none   
2018-03-28 16:16:54.4980|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:54.5381|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:54.5947|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:16:54.9564|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:16:55.3677|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:16:55.5286|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:16:55.5705|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:16:55.6084|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:16:55.6441|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "576d7154992741e19dbc856a37be7ae7",
    "nonce": "37c4d870a5ea44cbb66eb369e3bf96ae",
    "prompt": "none"
  }
} 
2018-03-28 16:16:55.8801|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:16:55.9857|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "576d7154992741e19dbc856a37be7ae7",
    "nonce": "37c4d870a5ea44cbb66eb369e3bf96ae",
    "prompt": "none"
  }
} 
2018-03-28 16:16:56.5299|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1599.7298ms 302  
2018-03-28 16:16:56.8799|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq9oLdR4Be_pFdwKd4B5_Xeoq4RFiGNU-MYKWpOZnBQ-zHtm5EckeastJv3tHrTzWIaAGxUwLiPGuf-RSstZsg4UixmByaQSt8-H5jJOjKmYQX8qwaSLGwtdcbx02VzEiR2ZZxOs_ucxSvGbu-rlcrWapTwRoEABcQ9NxYcr_y846NIxglzW6xwKd-mIoOpvvCQ1NCvCGOJYr5DC2GB_xGiD6wb8ewd_7Xu2Yb9f3QjcvUkHY0JQ5eqmbOiSjsyVbzwEvCMBwn5LzVNapi6Bp2cczZzYs4h4tVqdpWh97wP3g   
2018-03-28 16:16:56.9226|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:56.9799|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:16:57.0402|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq9oLdR4Be_pFdwKd4B5_Xeoq4RFiGNU-MYKWpOZnBQ-zHtm5EckeastJv3tHrTzWIaAGxUwLiPGuf-RSstZsg4UixmByaQSt8-H5jJOjKmYQX8qwaSLGwtdcbx02VzEiR2ZZxOs_ucxSvGbu-rlcrWapTwRoEABcQ9NxYcr_y846NIxglzW6xwKd-mIoOpvvCQ1NCvCGOJYr5DC2GB_xGiD6wb8ewd_7Xu2Yb9f3QjcvUkHY0JQ5eqmbOiSjsyVbzwEvCMBwn5LzVNapi6Bp2cczZzYs4h4tVqdpWh97wP3g) - ModelState is Valid 
2018-03-28 16:16:57.0895|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:16:57.8052|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 83.1629ms 
2018-03-28 16:16:58.1740|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1040.1303ms 200 text/html; charset=utf-8 
2018-03-28 16:17:40.2198|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:17:41.1066|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:17:42.5530|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:17:43.0653|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:17:43.8920|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:17:43.9444|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:17:43.9806|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:17:44.0126|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:17:44.2141|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:17:44.3182|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4363.1692ms 200 application/json; charset=UTF-8 
2018-03-28 16:17:44.9667|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:17:46.1246|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:46.1864|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:46.2711|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:17:46.3019|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:17:46.3287|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:17:46.6569|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:17:46.9431|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2364.7393ms 200 text/html; charset=UTF-8 
2018-03-28 16:17:49.1684|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4c2187659b9947fea816d6289a7499db&nonce=1dc0d4c65fa5453e807116f903680d64&prompt=none   
2018-03-28 16:17:49.2237|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:49.9468|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:50.4591|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:17:50.5270|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:17:50.5797|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:17:50.6380|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:17:50.6937|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:17:50.7542|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:17:50.7834|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4c2187659b9947fea816d6289a7499db",
    "nonce": "1dc0d4c65fa5453e807116f903680d64",
    "prompt": "none"
  }
} 
2018-03-28 16:17:50.8286|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:17:51.5425|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4c2187659b9947fea816d6289a7499db",
    "nonce": "1dc0d4c65fa5453e807116f903680d64",
    "prompt": "none"
  }
} 
2018-03-28 16:17:52.0890|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2556.8247ms 302  
2018-03-28 16:17:52.1741|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsp_ONRwuStUGC17qnPVHTAvWgfIULp9M7clTDf6atV9chqTVSn6J8Q6zcGVILrt9YdA9XnoZdER8qxTpBBRR42QeUaHJONr88QaORxDmoyGR17hPgAi4duqgc9nmN2lbhlZD5JxBcsydHWb0nvaFW44G_4alp3BpYIztZiTMiBdQRVu4QFgc6AohrVEmGONeqJmdtFrQFUbFn2bz96GX1SJRDyMeekMJCIh3Nvr8YEFDOPxF1VIu8-SB_Lv2xPOBR3woew1aFOf0fdHR_VeVefh6ctgeRGNtHjhUxB2UgMv-w   
2018-03-28 16:17:52.3302|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:52.5932|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:17:52.8420|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsp_ONRwuStUGC17qnPVHTAvWgfIULp9M7clTDf6atV9chqTVSn6J8Q6zcGVILrt9YdA9XnoZdER8qxTpBBRR42QeUaHJONr88QaORxDmoyGR17hPgAi4duqgc9nmN2lbhlZD5JxBcsydHWb0nvaFW44G_4alp3BpYIztZiTMiBdQRVu4QFgc6AohrVEmGONeqJmdtFrQFUbFn2bz96GX1SJRDyMeekMJCIh3Nvr8YEFDOPxF1VIu8-SB_Lv2xPOBR3woew1aFOf0fdHR_VeVefh6ctgeRGNtHjhUxB2UgMv-w) - ModelState is Valid 
2018-03-28 16:17:52.9116|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:17:53.9338|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 322.4188ms 
2018-03-28 16:17:54.5170|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1841.8323ms 200 text/html; charset=utf-8 
2018-03-28 16:26:07.5165|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:26:07.6647|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:26:07.7689|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:26:08.0505|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:26:08.6924|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:26:08.9635|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:26:09.5168|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:26:09.5513|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:26:09.5744|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:26:09.6725|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2179.6632ms 200 application/json; charset=UTF-8 
2018-03-28 16:26:09.7131|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:26:10.0224|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:10.0858|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:10.1110|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:26:10.1362|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:26:10.1808|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:26:10.2331|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:26:10.2846|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 582.1272ms 200 text/html; charset=UTF-8 
2018-03-28 16:26:12.8270|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=3ae8c90dc1234e8f969442fc4fb1819c&nonce=24cf43b6de3d45b7814a2ba9d20eba03&prompt=none   
2018-03-28 16:26:12.8466|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:12.8617|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:12.8781|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:26:12.9098|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:26:12.9254|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:26:12.9423|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:26:12.9700|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:26:12.9890|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:26:13.0223|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3ae8c90dc1234e8f969442fc4fb1819c",
    "nonce": "24cf43b6de3d45b7814a2ba9d20eba03",
    "prompt": "none"
  }
} 
2018-03-28 16:26:13.0542|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:26:13.0899|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3ae8c90dc1234e8f969442fc4fb1819c",
    "nonce": "24cf43b6de3d45b7814a2ba9d20eba03",
    "prompt": "none"
  }
} 
2018-03-28 16:26:13.1797|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 297.9898ms 302  
2018-03-28 16:26:13.3397|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrcUj01oZV-JrUcwLIdb66FBNrEyK-Ha7ELOKSV0dLV8WuQT_W7cHags549GiAxgDaYkvF3d-Fn0HUx8ldOtjDCc1B4J5dbyMVPUJp1ojua-fij69gAI6vunfV-QNCsIz3PFsvUNif0cx91QRPlpbYidwniQoFRj22JzVd8ppwE5wpAxevdkrrw0yLELnPzAzSHpNHMTaTK3b9SKTC-mQVD8PP2cHMv92Wd9cAl6qz7qN_L38k2-ZPdkqOBb7Nq5zpy8FjciMwtgmpCnhHMzMTacQ2xAYCMFhgGjDQR6PFQLg   
2018-03-28 16:26:13.3747|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:13.3941|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:26:13.4947|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrcUj01oZV-JrUcwLIdb66FBNrEyK-Ha7ELOKSV0dLV8WuQT_W7cHags549GiAxgDaYkvF3d-Fn0HUx8ldOtjDCc1B4J5dbyMVPUJp1ojua-fij69gAI6vunfV-QNCsIz3PFsvUNif0cx91QRPlpbYidwniQoFRj22JzVd8ppwE5wpAxevdkrrw0yLELnPzAzSHpNHMTaTK3b9SKTC-mQVD8PP2cHMv92Wd9cAl6qz7qN_L38k2-ZPdkqOBb7Nq5zpy8FjciMwtgmpCnhHMzMTacQ2xAYCMFhgGjDQR6PFQLg) - ModelState is Valid 
2018-03-28 16:26:13.5572|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:26:13.6905|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 195.8323ms 
2018-03-28 16:26:13.7402|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 432.1367ms 200 text/html; charset=utf-8 
2018-03-28 16:28:47.9029|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:28:48.6839|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:28:51.5848|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:28:52.4641|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:28:52.7235|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:28:52.7494|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:28:52.7787|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:28:53.0045|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:28:53.0261|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:28:53.0995|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6117.0056ms 200 application/json; charset=UTF-8 
2018-03-28 16:28:53.1390|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:28:53.1758|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:53.1996|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:53.2251|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:28:53.2623|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:28:53.2830|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:28:53.3085|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:28:53.3371|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 194.9859ms 200 text/html; charset=UTF-8 
2018-03-28 16:28:55.6222|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=d2b6f58491de4e008da6b9980029e5e8&nonce=ac35308201324646abe93450d4272d69&prompt=none   
2018-03-28 16:28:55.6567|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:55.6850|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:55.7122|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:28:55.7379|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:28:55.8361|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:28:55.8757|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:28:55.9106|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:28:55.9415|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:28:55.9692|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d2b6f58491de4e008da6b9980029e5e8",
    "nonce": "ac35308201324646abe93450d4272d69",
    "prompt": "none"
  }
} 
2018-03-28 16:28:56.0021|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:28:56.0485|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d2b6f58491de4e008da6b9980029e5e8",
    "nonce": "ac35308201324646abe93450d4272d69",
    "prompt": "none"
  }
} 
2018-03-28 16:28:56.1107|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 488.9707ms 302  
2018-03-28 16:28:56.3051|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr4i5wtdzQTPXIebPjhqnh57w3GX3DpIyjf_CCKZ-fw-hmCEKNT-89StplPrL3kk7NGmvMCjAtLEsSJuHsIESFNTgwI5hR_NJElYqJoQ6uNIH4PtzaiPQ-7VfFdY990ar5TWBzQFfSD_DBc-xkNUpESj5hf5EMAzJ03B_8Z18ny8dt4HR0mXG96yg-tnwTDHuOtlh7q6yWN5jqOY-dorzS7iP_a0G3-YhajQ1meF0kNfXPFabO3qLX9WwXAzeMX8034i-6BqaI8k-zwIbR1Lu30ZnHrbi5JB1n3va1MRPhFbg   
2018-03-28 16:28:56.3406|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:56.3706|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:28:56.4079|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr4i5wtdzQTPXIebPjhqnh57w3GX3DpIyjf_CCKZ-fw-hmCEKNT-89StplPrL3kk7NGmvMCjAtLEsSJuHsIESFNTgwI5hR_NJElYqJoQ6uNIH4PtzaiPQ-7VfFdY990ar5TWBzQFfSD_DBc-xkNUpESj5hf5EMAzJ03B_8Z18ny8dt4HR0mXG96yg-tnwTDHuOtlh7q6yWN5jqOY-dorzS7iP_a0G3-YhajQ1meF0kNfXPFabO3qLX9WwXAzeMX8034i-6BqaI8k-zwIbR1Lu30ZnHrbi5JB1n3va1MRPhFbg) - ModelState is Valid 
2018-03-28 16:28:56.4512|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:28:56.4967|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 87.6122ms 
2018-03-28 16:28:56.5664|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 389.8248ms 200 text/html; charset=utf-8 
2018-03-28 16:30:34.3134|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 16:30:34.7206|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (88ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 16:30:34.7921|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 16:31:40.1899|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:31:40.2390|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:31:40.2838|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:31:40.3065|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:31:40.3527|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:31:40.3731|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:31:40.4055|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:31:40.4259|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:31:40.4531|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:31:40.4775|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 281.1235ms 200 application/json; charset=UTF-8 
2018-03-28 16:31:41.0643|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:31:41.0875|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:41.1120|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:41.1316|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:31:41.1632|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:31:41.1888|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:31:41.2141|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:31:41.2404|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 170.1069ms 200 text/html; charset=UTF-8 
2018-03-28 16:31:44.0395|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=04097a87e3164e39ab275cf449d66bd6&nonce=45261df246fc416894defe0262395e77&prompt=none   
2018-03-28 16:31:44.0633|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:44.0913|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:44.1101|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:31:44.1335|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:31:44.1559|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:31:44.1792|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:31:44.1976|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:31:44.2197|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:31:44.2435|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "04097a87e3164e39ab275cf449d66bd6",
    "nonce": "45261df246fc416894defe0262395e77",
    "prompt": "none"
  }
} 
2018-03-28 16:31:44.2665|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:31:44.4295|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "04097a87e3164e39ab275cf449d66bd6",
    "nonce": "45261df246fc416894defe0262395e77",
    "prompt": "none"
  }
} 
2018-03-28 16:31:44.4523|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 406.4595ms 302  
2018-03-28 16:31:44.5006|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsprCO0SWR7mM3XdaXyxt761wFOXAID6nR2-N86twVccjhRxPzfXXXFdId18_8MgJF6U1_hp2Rrhmf5ZbFFE7m2LtvmSXmF52SIJwgTLxD_DVM-MTItNvClCSCIjBK_2HGikIzOslh2_IUVGPl3lrYQllo7YwqjGENoXPjHbhddFVZWrcoxAD5qoE7UeAW-2bs2KvJOT3pSKR9NWgDeGQWIijUkzmCL55bssOd8Rsmhr6e9WnlLbqr7bthHblYUjPLnLydrt1V7pKnmnDTsSXoyGTVy0zJQdfuQffFfkwN3pAQ   
2018-03-28 16:31:44.5213|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:44.5459|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:31:44.5705|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsprCO0SWR7mM3XdaXyxt761wFOXAID6nR2-N86twVccjhRxPzfXXXFdId18_8MgJF6U1_hp2Rrhmf5ZbFFE7m2LtvmSXmF52SIJwgTLxD_DVM-MTItNvClCSCIjBK_2HGikIzOslh2_IUVGPl3lrYQllo7YwqjGENoXPjHbhddFVZWrcoxAD5qoE7UeAW-2bs2KvJOT3pSKR9NWgDeGQWIijUkzmCL55bssOd8Rsmhr6e9WnlLbqr7bthHblYUjPLnLydrt1V7pKnmnDTsSXoyGTVy0zJQdfuQffFfkwN3pAQ) - ModelState is Valid 
2018-03-28 16:31:44.5889|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:31:44.6120|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 44.1064ms 
2018-03-28 16:31:44.6298|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 142.344ms 200 text/html; charset=utf-8 
2018-03-28 16:33:39.0204|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:33:39.0657|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:33:39.1362|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:33:39.1704|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:33:39.2071|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:33:39.2404|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:33:39.2797|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:33:39.3054|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:33:39.3397|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:33:39.3958|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 356.5233ms 200 application/json; charset=UTF-8 
2018-03-28 16:33:41.5211|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:33:41.5391|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:33:41.5542|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:33:41.5759|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:33:41.5996|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:33:41.6473|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:33:41.6831|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:33:41.7108|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 187.8139ms 200 text/html; charset=UTF-8 
2018-03-28 16:34:00.3009|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=7a2730b07fd746da9e70d2d59aed714e&nonce=bc8a651927e3430f90509c817c11f297&prompt=none   
2018-03-28 16:34:00.3683|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:34:00.4339|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:34:00.4869|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:34:00.5341|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:34:00.5896|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:34:00.6237|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:34:00.6588|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:34:00.7134|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:34:00.7373|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "7a2730b07fd746da9e70d2d59aed714e",
    "nonce": "bc8a651927e3430f90509c817c11f297",
    "prompt": "none"
  }
} 
2018-03-28 16:34:00.7901|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:34:00.9422|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "7a2730b07fd746da9e70d2d59aed714e",
    "nonce": "bc8a651927e3430f90509c817c11f297",
    "prompt": "none"
  }
} 
2018-03-28 16:34:01.0188|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 664.7094ms 302  
2018-03-28 16:34:01.0523|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqPGlCWlVpSj13lUEi5d5vfvb4YB8WpvtfhlT2pD6Szu-efcTPthWrtr_vIpgHquSrfhJggAbC1onY256e_V4_T8GJDv3LesXWs_OTbyHu3ulOq679EGLOVqm85Vx2lvQxAYPsNonNrRnsBowMp0s4W7ZOMPzflvKChXifbUro2o9P25ibVYwrir6ss7UvXign9wvqoAQHVin2D3y51VQ9RaBauJy-PkOAdUfveM_dFFY52kIgkKczbPNSfOq7KZhSPH4yLUMmSJKAs8Pq1Be48N2tLrSt6DRt_YLb2S5SQ9g   
2018-03-28 16:34:01.0887|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:34:01.1120|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:34:01.1410|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqPGlCWlVpSj13lUEi5d5vfvb4YB8WpvtfhlT2pD6Szu-efcTPthWrtr_vIpgHquSrfhJggAbC1onY256e_V4_T8GJDv3LesXWs_OTbyHu3ulOq679EGLOVqm85Vx2lvQxAYPsNonNrRnsBowMp0s4W7ZOMPzflvKChXifbUro2o9P25ibVYwrir6ss7UvXign9wvqoAQHVin2D3y51VQ9RaBauJy-PkOAdUfveM_dFFY52kIgkKczbPNSfOq7KZhSPH4yLUMmSJKAs8Pq1Be48N2tLrSt6DRt_YLb2S5SQ9g) - ModelState is Valid 
2018-03-28 16:34:01.2317|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:34:01.4818|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 253.8138ms 
2018-03-28 16:34:01.5128|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 454.7141ms 200 text/html; charset=utf-8 
2018-03-28 16:36:39.0646|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:36:39.3600|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:36:39.7582|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:36:40.4881|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:36:40.6241|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:36:40.6721|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:36:40.7518|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:36:41.1008|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:36:41.1323|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:36:41.1744|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2108.5004ms 200 application/json; charset=UTF-8 
2018-03-28 16:36:41.2231|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:36:41.2517|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:41.2908|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:41.3393|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:36:41.3899|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:36:41.4187|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:36:41.4477|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:36:41.5323|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 258.8378ms 200 text/html; charset=UTF-8 
2018-03-28 16:36:43.8051|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ba9beb1fa3414e149e37dbb42b77d3b4&nonce=e53d1b9607fd4bc3a5aa8bc7958f45be&prompt=none   
2018-03-28 16:36:43.8416|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:43.8594|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:43.8773|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:36:43.8952|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:36:43.9138|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:36:43.9340|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:36:43.9520|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:36:43.9732|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:36:43.9951|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ba9beb1fa3414e149e37dbb42b77d3b4",
    "nonce": "e53d1b9607fd4bc3a5aa8bc7958f45be",
    "prompt": "none"
  }
} 
2018-03-28 16:36:44.0165|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:36:44.0445|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ba9beb1fa3414e149e37dbb42b77d3b4",
    "nonce": "e53d1b9607fd4bc3a5aa8bc7958f45be",
    "prompt": "none"
  }
} 
2018-03-28 16:36:44.0715|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 278.0808ms 302  
2018-03-28 16:36:44.0949|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoCI4_Bibd3U9Ivdpyp_eKLxAPvKYpQnWA3UEFHxK4oJRpzJsTBouennoUjODw1kAIJMB9G5C4sd4JpsZiuOHvnAuiKcjnEopibwPN2b-6cJJk45YYQwqGTMn4xpLIdzhMGdWU3I-dlJ1LjDzsDxc8WEOOG9_3lnelU8lPZnlzw_y1HS0bmLghSjYKSZIau9hm-JMCTyzewGdAcjHHgRYm55wlL1ZTZHPfVdaU_d83KZyHXQoyLFrtQhy5ctSP-yJGWFfSrvju_ZqxR8UcJcvuM3Ej4W0CPa9Z6ihW60Vhk0w   
2018-03-28 16:36:44.1147|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:44.1305|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:36:44.1559|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoCI4_Bibd3U9Ivdpyp_eKLxAPvKYpQnWA3UEFHxK4oJRpzJsTBouennoUjODw1kAIJMB9G5C4sd4JpsZiuOHvnAuiKcjnEopibwPN2b-6cJJk45YYQwqGTMn4xpLIdzhMGdWU3I-dlJ1LjDzsDxc8WEOOG9_3lnelU8lPZnlzw_y1HS0bmLghSjYKSZIau9hm-JMCTyzewGdAcjHHgRYm55wlL1ZTZHPfVdaU_d83KZyHXQoyLFrtQhy5ctSP-yJGWFfSrvju_ZqxR8UcJcvuM3Ej4W0CPa9Z6ihW60Vhk0w) - ModelState is Valid 
2018-03-28 16:36:44.1767|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:36:44.2208|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 54.8461ms 
2018-03-28 16:36:44.2920|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 160.7788ms 200 text/html; charset=utf-8 
2018-03-28 16:37:07.2271|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:37:07.5148|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:37:07.5702|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:37:07.5908|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:37:07.9274|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:37:08.0712|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:37:08.7885|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:37:08.8263|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:37:08.9150|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:37:09.0434|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:37:09.0644|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1785.6004ms 200 application/json; charset=UTF-8 
2018-03-28 16:37:09.5970|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:09.6315|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:09.6570|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:37:09.8874|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:37:09.9202|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:37:09.9562|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:37:10.0278|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 959.0043ms 200 text/html; charset=UTF-8 
2018-03-28 16:37:12.2222|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=f8fa26bbb9854ae8abc9f0674c65eaef&nonce=0f864c8343ba4b69ac8ecd8e46053041&prompt=none   
2018-03-28 16:37:12.2765|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:12.3061|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:12.3235|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:37:12.3469|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:37:12.3714|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:37:12.3937|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:37:12.4173|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:37:12.4383|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:37:12.4656|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f8fa26bbb9854ae8abc9f0674c65eaef",
    "nonce": "0f864c8343ba4b69ac8ecd8e46053041",
    "prompt": "none"
  }
} 
2018-03-28 16:37:12.4976|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:37:12.5213|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f8fa26bbb9854ae8abc9f0674c65eaef",
    "nonce": "0f864c8343ba4b69ac8ecd8e46053041",
    "prompt": "none"
  }
} 
2018-03-28 16:37:12.5494|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 344.4947ms 302  
2018-03-28 16:37:12.5817|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrso_p9DUrw06U8liTe5lNNLp0z34cocCU2Dut64CqTA9bcrRbeSmJkfDi67-RiZcPiofhUyR6OtmixtZptBT8QK78ESkv3v6ltfzJ7y7XyjgohkSLBtNlCUcC4PkitoFk1cxZhYFoSFmmR0TQNNkL-CJv2h3kKityLKDpzwHZ_W3jUJ4OY6O6IEZryiGPJWzBok3ECYe6cUtexCZhctMqYp88OnffxUM-_pBIWciMmsSl5uRKJ0PRziNlkTiud0AysxY-FF8wxtUxC0ON0woDXs-Gcfb-CLz-jWYBP48RushPg   
2018-03-28 16:37:12.6011|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:12.6183|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:12.6439|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrso_p9DUrw06U8liTe5lNNLp0z34cocCU2Dut64CqTA9bcrRbeSmJkfDi67-RiZcPiofhUyR6OtmixtZptBT8QK78ESkv3v6ltfzJ7y7XyjgohkSLBtNlCUcC4PkitoFk1cxZhYFoSFmmR0TQNNkL-CJv2h3kKityLKDpzwHZ_W3jUJ4OY6O6IEZryiGPJWzBok3ECYe6cUtexCZhctMqYp88OnffxUM-_pBIWciMmsSl5uRKJ0PRziNlkTiud0AysxY-FF8wxtUxC0ON0woDXs-Gcfb-CLz-jWYBP48RushPg) - ModelState is Valid 
2018-03-28 16:37:12.6629|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:37:12.7009|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 49.5788ms 
2018-03-28 16:37:12.7780|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 150.6001ms 200 text/html; charset=utf-8 
2018-03-28 16:37:30.1440|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:37:30.2342|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:37:30.2964|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:37:30.3284|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:37:30.3577|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:37:30.3748|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:37:30.7417|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:37:30.7767|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:37:30.8390|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:37:30.9071|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 937.6548ms 200 application/json; charset=UTF-8 
2018-03-28 16:37:30.9530|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:37:30.9765|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:30.9999|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:31.0225|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:37:31.0571|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:37:31.0777|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:37:31.0993|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:37:31.4441|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 212.6211ms 200 text/html; charset=UTF-8 
2018-03-28 16:37:33.3550|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=cd3fa2653f3946368176b3840c6f0e3f&nonce=26a8c9c020264ce5b9002c3367c0537d&prompt=none   
2018-03-28 16:37:33.4229|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:33.4401|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:33.4646|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:37:33.4879|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:37:33.5146|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:37:33.7127|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:37:33.7349|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:37:33.7602|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:37:33.7805|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "cd3fa2653f3946368176b3840c6f0e3f",
    "nonce": "26a8c9c020264ce5b9002c3367c0537d",
    "prompt": "none"
  }
} 
2018-03-28 16:37:33.8096|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:37:33.8383|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "cd3fa2653f3946368176b3840c6f0e3f",
    "nonce": "26a8c9c020264ce5b9002c3367c0537d",
    "prompt": "none"
  }
} 
2018-03-28 16:37:33.8739|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 511.0018ms 302  
2018-03-28 16:37:33.9080|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqmsz9jMXwNTWDoyXwWIKS23qXoVULhaeBAgskU_Wj63_s9jahCGl3C0o-5ie2UgH9-KrVkY5YL5XRAHxwpwJCXxnENmZs7rEQfORgHUcvTKlyqdvfTaKm9VrcorzLauxMv3ZUtU2ciT1ZBc8jOa8WvG09DVJuNbAFxScHp4tOcFmdiaeGf_cjJ5gHVLSl5WzDva5-z6RrBn6HtNfzvEZ9Z5RhFZcSQKH3PFjodys6E4ZGuXrqLCvpkwm2opXGdiVEci52yfwnHN6GsJl2SXECTJWlLX0ouqzJTMuRh2mFVRg   
2018-03-28 16:37:33.9355|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:33.9708|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:33.9971|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqmsz9jMXwNTWDoyXwWIKS23qXoVULhaeBAgskU_Wj63_s9jahCGl3C0o-5ie2UgH9-KrVkY5YL5XRAHxwpwJCXxnENmZs7rEQfORgHUcvTKlyqdvfTaKm9VrcorzLauxMv3ZUtU2ciT1ZBc8jOa8WvG09DVJuNbAFxScHp4tOcFmdiaeGf_cjJ5gHVLSl5WzDva5-z6RrBn6HtNfzvEZ9Z5RhFZcSQKH3PFjodys6E4ZGuXrqLCvpkwm2opXGdiVEci52yfwnHN6GsJl2SXECTJWlLX0ouqzJTMuRh2mFVRg) - ModelState is Valid 
2018-03-28 16:37:34.0252|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:37:34.0608|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 56.3656ms 
2018-03-28 16:37:34.1174|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 182.0291ms 200 text/html; charset=utf-8 
2018-03-28 16:37:53.9734|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:37:54.2048|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:37:54.2404|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:37:54.2596|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:37:54.2791|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:37:54.3037|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:37:54.3392|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:37:54.6492|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:37:54.7603|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:37:54.9838|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 810.5602ms 200 application/json; charset=UTF-8 
2018-03-28 16:37:55.0811|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:37:55.1046|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:55.1270|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:55.6022|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:37:55.6313|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:37:55.6578|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:37:55.6866|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:37:55.7290|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 810.1745ms 200 text/html; charset=UTF-8 
2018-03-28 16:37:57.9366|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ca07e3ef3c604dedb05c7b7fe06bc6c4&nonce=8181889e6fb3494bb4a8863a62cf6f32&prompt=none   
2018-03-28 16:37:57.9844|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:58.0037|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:58.0313|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:37:58.0581|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:37:58.0775|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:37:58.0977|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:37:58.1185|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:37:58.1397|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:37:58.1697|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ca07e3ef3c604dedb05c7b7fe06bc6c4",
    "nonce": "8181889e6fb3494bb4a8863a62cf6f32",
    "prompt": "none"
  }
} 
2018-03-28 16:37:58.2030|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:37:58.2368|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ca07e3ef3c604dedb05c7b7fe06bc6c4",
    "nonce": "8181889e6fb3494bb4a8863a62cf6f32",
    "prompt": "none"
  }
} 
2018-03-28 16:37:58.3471|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 330.0672ms 302  
2018-03-28 16:37:58.4039|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoARYKukJCh_Y1HVyV12EqhA60QDotYHvBoaA16r-vvpAChKyvgNz4gYfLTuGt-FqiEchdVw4ncmFyDiJVrT6NK7zaxW63wZ96vULLmSBm6QPDCdCxQWpob4QG8r4roqmwuOoar4m-u4nNUAhaTXvVPNqslHxzJDHNJ0jZU3T05zSKma-kes8n4wkqimsHsFXIKYP5vCEfahuFvwbV5PXLlg9WBTUyo939xH1LGwpMo1L-vveeGcEdXCKelRXLM6HflPaOchq1dNLsB4CAe6wOhhRBEAChEB4LagRKZLmRlog   
2018-03-28 16:37:58.4382|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:58.4747|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:37:58.4982|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoARYKukJCh_Y1HVyV12EqhA60QDotYHvBoaA16r-vvpAChKyvgNz4gYfLTuGt-FqiEchdVw4ncmFyDiJVrT6NK7zaxW63wZ96vULLmSBm6QPDCdCxQWpob4QG8r4roqmwuOoar4m-u4nNUAhaTXvVPNqslHxzJDHNJ0jZU3T05zSKma-kes8n4wkqimsHsFXIKYP5vCEfahuFvwbV5PXLlg9WBTUyo939xH1LGwpMo1L-vveeGcEdXCKelRXLM6HflPaOchq1dNLsB4CAe6wOhhRBEAChEB4LagRKZLmRlog) - ModelState is Valid 
2018-03-28 16:37:58.5217|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:37:59.4865|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 50.7306ms 
2018-03-28 16:37:59.5553|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1129.5115ms 200 text/html; charset=utf-8 
2018-03-28 16:38:18.7980|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:38:18.9147|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:38:19.1416|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:38:19.1957|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:38:19.2199|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:38:19.2722|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:38:19.3202|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:38:19.6486|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:38:20.1111|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:38:20.6220|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1383.5244ms 200 application/json; charset=UTF-8 
2018-03-28 16:38:20.7216|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:38:20.7660|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:20.7886|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:20.8159|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:38:20.8382|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:38:20.8639|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:38:20.8848|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:38:20.9214|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 290.8098ms 200 text/html; charset=UTF-8 
2018-03-28 16:38:23.1296|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=a225ddba77e1497e9b52373d6b6a7de2&nonce=ebf981cb8ba441d19ba8e8612928a819&prompt=none   
2018-03-28 16:38:23.1580|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:23.1799|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:23.2007|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:38:23.2225|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:38:23.2417|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:38:23.2675|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:38:23.2898|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:38:23.3134|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:38:23.3353|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a225ddba77e1497e9b52373d6b6a7de2",
    "nonce": "ebf981cb8ba441d19ba8e8612928a819",
    "prompt": "none"
  }
} 
2018-03-28 16:38:23.3581|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:38:23.3849|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a225ddba77e1497e9b52373d6b6a7de2",
    "nonce": "ebf981cb8ba441d19ba8e8612928a819",
    "prompt": "none"
  }
} 
2018-03-28 16:38:23.4134|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 285.2291ms 302  
2018-03-28 16:38:23.4381|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoGo5cSE7VFTqnnmWbnb7IvxwiVQ3_wh8XJkgImpRAUH8fkFOubgpmBRtDhdg5W8LaQxmVpwWl9kU2afm6R566iKeNUcJ9UULy36er7q8F3Z34LTKu99KFYEMPPL5wnV_dcBBcHtw5GdM7ZztyGoJdQdntV4D3bGqJY5BjE8VYaRvgzlcRaKdSB8EDrmXJP9SEpKproHjsxxbhzmY56DEywX_trGJT3XkXphgtBeduHgQrywSvxSXdd7XshTMpRUsI2TxuB07X8bE2wo8UB7UbdRs-p_EbWzO-bBTu4DrLx4g   
2018-03-28 16:38:23.4594|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:23.4735|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:38:23.4957|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoGo5cSE7VFTqnnmWbnb7IvxwiVQ3_wh8XJkgImpRAUH8fkFOubgpmBRtDhdg5W8LaQxmVpwWl9kU2afm6R566iKeNUcJ9UULy36er7q8F3Z34LTKu99KFYEMPPL5wnV_dcBBcHtw5GdM7ZztyGoJdQdntV4D3bGqJY5BjE8VYaRvgzlcRaKdSB8EDrmXJP9SEpKproHjsxxbhzmY56DEywX_trGJT3XkXphgtBeduHgQrywSvxSXdd7XshTMpRUsI2TxuB07X8bE2wo8UB7UbdRs-p_EbWzO-bBTu4DrLx4g) - ModelState is Valid 
2018-03-28 16:38:23.5152|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:38:23.7567|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 44.7572ms 
2018-03-28 16:38:23.8162|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 337.7751ms 200 text/html; charset=utf-8 
2018-03-28 16:40:00.9409|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:40:01.1005|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:40:01.1916|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:40:01.2195|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:40:01.6480|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:40:01.7104|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:40:01.9742|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:40:02.1799|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:40:02.2038|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:40:02.2355|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1485.3037ms 200 application/json; charset=UTF-8 
2018-03-28 16:40:02.3060|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:40:02.3563|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:02.3839|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:02.4072|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:40:02.4369|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:40:02.4632|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:40:02.5070|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:40:02.6148|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 267.2749ms 200 text/html; charset=UTF-8 
2018-03-28 16:40:04.7732|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=b2e63133eaf24e2b9c789c55f3e7e9a1&nonce=b1fa385ee8e7459c8cb0334f569aceba&prompt=none   
2018-03-28 16:40:04.8055|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:04.8241|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:04.8453|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:40:04.8684|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:40:04.8923|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:40:04.9187|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:40:04.9404|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:40:04.9718|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:40:05.0253|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "b2e63133eaf24e2b9c789c55f3e7e9a1",
    "nonce": "b1fa385ee8e7459c8cb0334f569aceba",
    "prompt": "none"
  }
} 
2018-03-28 16:40:05.0534|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:40:05.0927|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "b2e63133eaf24e2b9c789c55f3e7e9a1",
    "nonce": "b1fa385ee8e7459c8cb0334f569aceba",
    "prompt": "none"
  }
} 
2018-03-28 16:40:05.1244|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 351.0608ms 302  
2018-03-28 16:40:05.1644|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsp4o8YmrAUHGADFoZurWDjyQzeLz_bC489mb3LPDZkTNOYo8sp-Cs_dtp1Ndz1fr7tcp7K8u6U0Oe-Jj2Ex1twtDnap6FKbzQNX7R96RYpIWA_LYeE0P3EvTHtfzzLKIjAKONqd8qupkcGD8plKJVI1mfFZmh3KgcQXTehrLJR1j6qd77i7AgecN-OY5aiqliYdZZHgz5gqpF4oO0dvRfvEFX08b61-SpEnnREoV7HeCWqewwAES74YMFlhOgdr6hscre45CB06EaShQqtz4SkwaReUQ4BZ_2dGBBB4KFUmAg   
2018-03-28 16:40:05.1891|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:05.2371|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:40:05.3849|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsp4o8YmrAUHGADFoZurWDjyQzeLz_bC489mb3LPDZkTNOYo8sp-Cs_dtp1Ndz1fr7tcp7K8u6U0Oe-Jj2Ex1twtDnap6FKbzQNX7R96RYpIWA_LYeE0P3EvTHtfzzLKIjAKONqd8qupkcGD8plKJVI1mfFZmh3KgcQXTehrLJR1j6qd77i7AgecN-OY5aiqliYdZZHgz5gqpF4oO0dvRfvEFX08b61-SpEnnREoV7HeCWqewwAES74YMFlhOgdr6hscre45CB06EaShQqtz4SkwaReUQ4BZ_2dGBBB4KFUmAg) - ModelState is Valid 
2018-03-28 16:40:05.4414|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:40:05.4935|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 209.3222ms 
2018-03-28 16:40:05.7123|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 365.5961ms 200 text/html; charset=utf-8 
2018-03-28 16:43:36.3959|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:43:36.5016|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:43:36.5919|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:43:36.6229|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:43:36.6458|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:43:36.6689|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:43:36.7070|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:43:36.7443|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:43:36.8001|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:43:36.8292|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 431.7204ms 200 application/json; charset=UTF-8 
2018-03-28 16:43:37.4827|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:43:37.5062|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:37.5317|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:37.5613|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:43:37.5853|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:43:37.6154|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:43:37.6490|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:43:37.6808|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 190.1515ms 200 text/html; charset=UTF-8 
2018-03-28 16:43:41.0636|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=713181348b754b33bd1b407ed6fb6ae8&nonce=ff927f31a0664faea92da19de190892a&prompt=none   
2018-03-28 16:43:41.0960|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:41.1309|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:41.2360|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:43:41.2752|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:43:41.5679|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:43:41.5983|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:43:41.6220|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:43:41.6480|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:43:41.6838|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "713181348b754b33bd1b407ed6fb6ae8",
    "nonce": "ff927f31a0664faea92da19de190892a",
    "prompt": "none"
  }
} 
2018-03-28 16:43:41.7153|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:43:41.7519|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "713181348b754b33bd1b407ed6fb6ae8",
    "nonce": "ff927f31a0664faea92da19de190892a",
    "prompt": "none"
  }
} 
2018-03-28 16:43:41.7878|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 713.6488ms 302  
2018-03-28 16:43:41.8300|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrz1WtUOBAbTKWfqmGJ35Ujq-Ew6cHsljvDFCG9_wd9S4c4QvoPCOBG52A2e4gueYz61L4VS-_IObrb0dbX1T_oAB5Qp4OZPU-eY1YhKQeA1xPX22Px_9xtU5PwVcQ73a41UO5z2rmhrCw1FZJvghzLZjNEmtD39LDB5iluFTTDFU-KPB041PaDm8xd5RdrY1NuDr3tvgic4vQi5UmJvaNIBHYToNI_LI_xbk-5QLSRh7y8WU4c464l8__4Z6qYpWBbGIO9ecU_32GfoAkG-fhj8UERVS245dnHXb8R0dunGw   
2018-03-28 16:43:41.8703|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:41.8955|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:43:41.9485|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrz1WtUOBAbTKWfqmGJ35Ujq-Ew6cHsljvDFCG9_wd9S4c4QvoPCOBG52A2e4gueYz61L4VS-_IObrb0dbX1T_oAB5Qp4OZPU-eY1YhKQeA1xPX22Px_9xtU5PwVcQ73a41UO5z2rmhrCw1FZJvghzLZjNEmtD39LDB5iluFTTDFU-KPB041PaDm8xd5RdrY1NuDr3tvgic4vQi5UmJvaNIBHYToNI_LI_xbk-5QLSRh7y8WU4c464l8__4Z6qYpWBbGIO9ecU_32GfoAkG-fhj8UERVS245dnHXb8R0dunGw) - ModelState is Valid 
2018-03-28 16:43:41.9907|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:43:42.0266|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 88.7488ms 
2018-03-28 16:43:42.0901|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 217.4167ms 200 text/html; charset=utf-8 
2018-03-28 16:44:22.8388|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:44:23.5999|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:44:23.6518|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:44:23.6805|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:44:23.8874|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:44:23.9179|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:44:24.2581|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:44:24.3513|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:44:24.3908|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:44:25.3549|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2595.4536ms 200 application/json; charset=UTF-8 
2018-03-28 16:44:26.2718|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:44:26.3071|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:26.4415|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:26.5482|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:44:26.6077|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:44:26.6357|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:44:26.6672|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:44:26.7162|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 427.4843ms 200 text/html; charset=UTF-8 
2018-03-28 16:44:31.1513|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=236136cced5641f3be19ed028ae956e2&nonce=479cee4b60a74e958025742e43130a5e&prompt=none   
2018-03-28 16:44:31.1802|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:31.2271|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:31.2555|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:44:31.2767|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:44:31.2992|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:44:31.3177|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:44:31.3477|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:44:31.3689|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:44:31.3910|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "236136cced5641f3be19ed028ae956e2",
    "nonce": "479cee4b60a74e958025742e43130a5e",
    "prompt": "none"
  }
} 
2018-03-28 16:44:31.4227|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:44:31.4513|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "236136cced5641f3be19ed028ae956e2",
    "nonce": "479cee4b60a74e958025742e43130a5e",
    "prompt": "none"
  }
} 
2018-03-28 16:44:31.4771|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 322.287ms 302  
2018-03-28 16:44:31.5032|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrvI_agxQz16cGoVAiw2M92ZTfa-9imIhyY-06QKjlnzvBok3hCZC7EjShL8SOI9nRksO9tacmDfX5xA2ucXl9JPeyy7sDT4TW5aL_Dis4gUAJFiWXcqNujXkc5wsLWl12FAyonZGCC3Df1uwigKufKM3sNe6Tq4-JBFFgk2fYHZQG2Y4D4VOoG7NsSkWtjFo8zHZYsCw6BV8vdErnGKnW5mqA4ZLBeB8QKNu9y-4wr7amKbKfQGqwUT93XhC3LcwUFNH9IaGWAx79FTJ0HoI5qz7LRkVXuBmLxKRpPRey2DA   
2018-03-28 16:44:31.5270|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:31.5471|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:44:31.5696|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrvI_agxQz16cGoVAiw2M92ZTfa-9imIhyY-06QKjlnzvBok3hCZC7EjShL8SOI9nRksO9tacmDfX5xA2ucXl9JPeyy7sDT4TW5aL_Dis4gUAJFiWXcqNujXkc5wsLWl12FAyonZGCC3Df1uwigKufKM3sNe6Tq4-JBFFgk2fYHZQG2Y4D4VOoG7NsSkWtjFo8zHZYsCw6BV8vdErnGKnW5mqA4ZLBeB8QKNu9y-4wr7amKbKfQGqwUT93XhC3LcwUFNH9IaGWAx79FTJ0HoI5qz7LRkVXuBmLxKRpPRey2DA) - ModelState is Valid 
2018-03-28 16:44:31.5902|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:44:31.6148|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 47.7224ms 
2018-03-28 16:44:31.6519|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 129.8877ms 200 text/html; charset=utf-8 
2018-03-28 16:46:19.7685|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:46:19.7940|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:46:19.8266|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:46:19.8851|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:46:19.9902|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:46:20.0136|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:46:20.0387|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:46:20.0641|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:46:20.1099|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:46:20.1366|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 355.3158ms 200 application/json; charset=UTF-8 
2018-03-28 16:46:20.6843|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:46:20.8189|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 16:46:22.2137|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (881ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 16:46:22.3564|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (48ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 16:46:22.9699|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (419ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 16:46:23.0476|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 16:46:23.1071|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 16:46:23.2415|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:23.2742|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:23.3068|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:46:23.4710|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:46:23.5088|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:46:23.5369|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:46:23.6232|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2892.0473ms 200 text/html; charset=UTF-8 
2018-03-28 16:46:27.0282|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ddd7dbe5b993412eae6427d1b02478d6&nonce=67d92390dc694e7db99ba4adf17610b4&prompt=none   
2018-03-28 16:46:27.0492|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:27.0664|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:27.0912|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:46:27.1112|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:46:27.1319|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:46:27.1568|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:46:27.1870|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:46:27.2050|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:46:27.2265|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ddd7dbe5b993412eae6427d1b02478d6",
    "nonce": "67d92390dc694e7db99ba4adf17610b4",
    "prompt": "none"
  }
} 
2018-03-28 16:46:27.2488|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:46:27.3108|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ddd7dbe5b993412eae6427d1b02478d6",
    "nonce": "67d92390dc694e7db99ba4adf17610b4",
    "prompt": "none"
  }
} 
2018-03-28 16:46:27.6231|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 312.4429ms 302  
2018-03-28 16:46:27.7749|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr-NYd6TLXTAsQTVd9Bxoo9G0c4py0Ti4v38lep6lTLUOkoHm0R1Haal7BeuG2Uk8WY57UDpW6Peh8EZqGZc1kfvigN7sIsko_21YYg7i6E0QeHf4lDbuuaNbGNh8EdCcCS4dV-X7BCyKvxLQ5FCZlWi9F6O_zsUvqLKJenPQkbbpPCkfZP_qaNSQlF4eHGK8f7aGn2rILTxw9V1bAroLYhweD9xZqRzk2NNNY-Vrqz3SVd5dx32eU7x13Ji1jKlOD97ANixo1cpFpiGqnzOcHYzyKfFE5u654KbYH_TEt33A   
2018-03-28 16:46:27.8191|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:27.8508|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:46:27.8800|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr-NYd6TLXTAsQTVd9Bxoo9G0c4py0Ti4v38lep6lTLUOkoHm0R1Haal7BeuG2Uk8WY57UDpW6Peh8EZqGZc1kfvigN7sIsko_21YYg7i6E0QeHf4lDbuuaNbGNh8EdCcCS4dV-X7BCyKvxLQ5FCZlWi9F6O_zsUvqLKJenPQkbbpPCkfZP_qaNSQlF4eHGK8f7aGn2rILTxw9V1bAroLYhweD9xZqRzk2NNNY-Vrqz3SVd5dx32eU7x13Ji1jKlOD97ANixo1cpFpiGqnzOcHYzyKfFE5u654KbYH_TEt33A) - ModelState is Valid 
2018-03-28 16:46:27.9554|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:46:28.0102|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 107.4233ms 
2018-03-28 16:46:28.0554|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 276.8922ms 200 text/html; charset=utf-8 
2018-03-28 16:47:21.1899|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:47:21.4193|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:47:21.5535|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:47:21.9690|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:47:22.2440|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:47:22.2959|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:47:22.3244|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:47:22.3530|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:47:22.3815|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:47:22.4620|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1211.8767ms 200 application/json; charset=UTF-8 
2018-03-28 16:47:22.5126|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:47:22.5375|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:22.6133|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:22.6342|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:47:22.6549|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:47:22.6777|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:47:22.7014|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:47:22.9197|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 233.2635ms 200 text/html; charset=UTF-8 
2018-03-28 16:47:25.1778|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=6d3c2bd2fe304281afb175a20d02339b&nonce=90c5a9a4217145e1831dfe2a89a22574&prompt=none   
2018-03-28 16:47:25.2265|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:25.2577|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:25.2898|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:47:25.3126|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:47:25.3398|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:47:25.3671|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:47:25.4013|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:47:25.4252|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:47:25.4611|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "6d3c2bd2fe304281afb175a20d02339b",
    "nonce": "90c5a9a4217145e1831dfe2a89a22574",
    "prompt": "none"
  }
} 
2018-03-28 16:47:25.6243|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:47:25.7738|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "6d3c2bd2fe304281afb175a20d02339b",
    "nonce": "90c5a9a4217145e1831dfe2a89a22574",
    "prompt": "none"
  }
} 
2018-03-28 16:47:25.8421|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 711.6066ms 302  
2018-03-28 16:47:25.9086|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqURwrUULSP8oMoUoaAGcNM3CDMA5JwUMgrvwTu5y6Jj3uy77GnU3GoxkgY3oViG3n1MlKUgASTC-V0mBBCMCkoSu3yh5DuJUnUzOsQlmfamcokO3v0_qT7jM1hvlKpwuFTY9TgFm2GK0ibHXQFBedXCIMo8qhhDvdeng4SMp3AcA9nf3TRdtH5rmsvKnTQtrdw02JAjUvmvJgLfOLrUGzRX_08bKn4fwONcYXAaAzb5Pv7BupSrbcICwZmHm_U2KWmGG3-hZum-716Nq2dntxE3ucAHVKn2P94xXv-P0PK2w   
2018-03-28 16:47:25.9628|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:26.0538|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:47:26.4938|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqURwrUULSP8oMoUoaAGcNM3CDMA5JwUMgrvwTu5y6Jj3uy77GnU3GoxkgY3oViG3n1MlKUgASTC-V0mBBCMCkoSu3yh5DuJUnUzOsQlmfamcokO3v0_qT7jM1hvlKpwuFTY9TgFm2GK0ibHXQFBedXCIMo8qhhDvdeng4SMp3AcA9nf3TRdtH5rmsvKnTQtrdw02JAjUvmvJgLfOLrUGzRX_08bKn4fwONcYXAaAzb5Pv7BupSrbcICwZmHm_U2KWmGG3-hZum-716Nq2dntxE3ucAHVKn2P94xXv-P0PK2w) - ModelState is Valid 
2018-03-28 16:47:26.8383|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:47:27.2431|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 794.8641ms 
2018-03-28 16:47:28.0723|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1379.1148ms 200 text/html; charset=utf-8 
2018-03-28 16:48:49.7168|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:48:49.7512|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:48:49.8315|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:48:49.8813|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:48:49.9068|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:48:49.9526|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:48:49.9758|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:48:50.0018|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:48:50.0386|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:48:50.0690|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 343.3921ms 200 application/json; charset=UTF-8 
2018-03-28 16:48:50.2483|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:48:50.2735|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:48:50.2984|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:48:50.3414|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:48:50.3734|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:48:50.3993|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:48:50.4255|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:48:50.4620|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 204.5677ms 200 text/html; charset=UTF-8 
2018-03-28 16:49:54.1106|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=e32a221639984f5083d11da2086d0315&nonce=26c32441b58f4532b0a4f293413b0674&prompt=none   
2018-03-28 16:49:54.2453|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:49:54.3496|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:49:54.6076|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:49:54.6350|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:49:54.6565|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:49:54.6829|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:49:54.7032|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:49:54.7307|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:49:54.8978|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e32a221639984f5083d11da2086d0315",
    "nonce": "26c32441b58f4532b0a4f293413b0674",
    "prompt": "none"
  }
} 
2018-03-28 16:49:54.9299|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:49:54.9751|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e32a221639984f5083d11da2086d0315",
    "nonce": "26c32441b58f4532b0a4f293413b0674",
    "prompt": "none"
  }
} 
2018-03-28 16:49:55.0085|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 885.8045ms 302  
2018-03-28 16:49:55.0428|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspsWwmbHEC9wi3PvXZncEAFMjtIj04f3MRrDqltUMQMWg0PsWU0K2r31OknvAHccqhXoVHdPFtbGK9ANl9C21Cmrd5D4WfxgsXckf7qjjtxjvxnYXJyXNKirVTgQy5M6l_XFJW7xYm2S6Sm8_b5nM4lpBuI-85-2G7SnnkwtooicljuuNea_z6CnfNFqwMVQb8ugKxBLBjes0laN2bYcl5NngvTuDyPvhs5B7S1je6u3IsmD-KR9DJLtkxc0cDLU_IRLrt5K0PoFTJUqJTGqkvvredbtUjmT7anUOrV4bzFTQ   
2018-03-28 16:49:55.0692|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:49:55.0865|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:49:55.1143|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspsWwmbHEC9wi3PvXZncEAFMjtIj04f3MRrDqltUMQMWg0PsWU0K2r31OknvAHccqhXoVHdPFtbGK9ANl9C21Cmrd5D4WfxgsXckf7qjjtxjvxnYXJyXNKirVTgQy5M6l_XFJW7xYm2S6Sm8_b5nM4lpBuI-85-2G7SnnkwtooicljuuNea_z6CnfNFqwMVQb8ugKxBLBjes0laN2bYcl5NngvTuDyPvhs5B7S1je6u3IsmD-KR9DJLtkxc0cDLU_IRLrt5K0PoFTJUqJTGqkvvredbtUjmT7anUOrV4bzFTQ) - ModelState is Valid 
2018-03-28 16:49:55.2076|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:49:55.2392|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 125.9919ms 
2018-03-28 16:49:55.3009|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 227.7259ms 200 text/html; charset=utf-8 
2018-03-28 16:51:56.4566|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:51:56.4904|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:51:56.5559|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:51:56.5867|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:51:56.6160|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:51:56.6512|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:51:56.7243|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:51:56.7838|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:51:56.8152|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:51:56.8443|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 376.1251ms 200 application/json; charset=UTF-8 
2018-03-28 16:51:57.2492|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:51:57.2724|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:51:57.3019|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:51:57.3246|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:51:57.3499|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:51:57.3694|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:51:57.3983|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:51:57.4362|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 182.1543ms 200 text/html; charset=UTF-8 
2018-03-28 16:52:00.4190|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=bd97106c496e439f99ac2b3018768128&nonce=954d38f7a4f74a3f8fa39342c79b2d38&prompt=none   
2018-03-28 16:52:00.4410|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:00.4776|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:00.5028|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:52:00.5298|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:52:00.5505|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:52:00.6285|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:52:00.6470|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:52:00.8278|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:52:00.8639|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "bd97106c496e439f99ac2b3018768128",
    "nonce": "954d38f7a4f74a3f8fa39342c79b2d38",
    "prompt": "none"
  }
} 
2018-03-28 16:52:00.8978|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:52:00.9238|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "bd97106c496e439f99ac2b3018768128",
    "nonce": "954d38f7a4f74a3f8fa39342c79b2d38",
    "prompt": "none"
  }
} 
2018-03-28 16:52:00.9608|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 528.8525ms 302  
2018-03-28 16:52:00.9907|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqA_ocFcy2TZ2iunWeVyIlRu-n6yxGHKrJpDiFttUWaZxDmdKZy5CYJdmCFKtXqw-3pNEPLb6hsZLJXWB5JTnvFSOSN0L2Wav8b-mRjhMa5_NQ5mEgLothSXEd2XbYLoE33qXqGGPqqBau79J_xNhZs68UP1N67ROQn3_ERjGvLMBQ2JKWiZJ1IdVdVfRzXb18IKbzNQO_9N_5TVjyyDSTc7i5XOUlqPen0ky3LquChfbWD8dusjGavKwS_2WVHlyOEBqRMikJcGLwTwqFoiajwdpcYZLItyO1n6xIPDT7UOw   
2018-03-28 16:52:01.0396|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:01.0779|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:01.2039|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqA_ocFcy2TZ2iunWeVyIlRu-n6yxGHKrJpDiFttUWaZxDmdKZy5CYJdmCFKtXqw-3pNEPLb6hsZLJXWB5JTnvFSOSN0L2Wav8b-mRjhMa5_NQ5mEgLothSXEd2XbYLoE33qXqGGPqqBau79J_xNhZs68UP1N67ROQn3_ERjGvLMBQ2JKWiZJ1IdVdVfRzXb18IKbzNQO_9N_5TVjyyDSTc7i5XOUlqPen0ky3LquChfbWD8dusjGavKwS_2WVHlyOEBqRMikJcGLwTwqFoiajwdpcYZLItyO1n6xIPDT7UOw) - ModelState is Valid 
2018-03-28 16:52:01.2495|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:52:01.3063|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 184.0306ms 
2018-03-28 16:52:01.3379|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 341.8287ms 200 text/html; charset=utf-8 
2018-03-28 16:52:30.0753|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 16:52:30.4128|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 16:52:30.5119|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 16:52:31.0270|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 16:52:31.0981|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 16:52:31.1269|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 16:52:31.4045|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 16:52:31.4311|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 16:52:31.4735|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 16:52:31.5590|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1426.7446ms 200 application/json; charset=UTF-8 
2018-03-28 16:52:31.5724|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 16:52:31.5976|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:31.6181|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:31.6368|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 16:52:31.6536|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 16:52:31.6761|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 16:52:31.7122|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 16:52:31.8149|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 162.0492ms 200 text/html; charset=UTF-8 
2018-03-28 16:52:34.0367|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=86b8177088fb461dbd394a4b2262b5d3&nonce=96da4c35909a4944ae03846d895c489e&prompt=none   
2018-03-28 16:52:34.0705|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:34.0907|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:34.1096|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 16:52:34.1271|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 16:52:34.1444|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 16:52:34.1648|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 16:52:34.1851|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 16:52:34.2048|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 16:52:34.2314|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "86b8177088fb461dbd394a4b2262b5d3",
    "nonce": "96da4c35909a4944ae03846d895c489e",
    "prompt": "none"
  }
} 
2018-03-28 16:52:34.2523|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 16:52:34.2797|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "86b8177088fb461dbd394a4b2262b5d3",
    "nonce": "96da4c35909a4944ae03846d895c489e",
    "prompt": "none"
  }
} 
2018-03-28 16:52:34.3094|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 287.8758ms 302  
2018-03-28 16:52:34.3429|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsof_PUZ-ApSiGkvSz5xREpfg85TgIZLQz2V25j4or4c3AUbRL-sRMtJqNjx3fVEWbndEEB1tWA7yTpw4EPhPJd2isvvrIBX8Yxlm8lD9nF9UKaq8ViWk2QoZEXMMcsKcwUG2juKAAYSODS7JK5ngLH36cxh4r1FjNM3eGeWMjmRHS3NPjT8apxGKqAe4DEB8LLj7thf2kBydaHGcdqrZO-LtUOl-THTJyzm36CHzoGtcT501ykL8xtWPrp27fSd-twInBUOYTUElQvlabURfKGNKiO8swYYj2cYx0Jkyp4sEg   
2018-03-28 16:52:34.4222|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:34.5550|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 16:52:34.6368|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsof_PUZ-ApSiGkvSz5xREpfg85TgIZLQz2V25j4or4c3AUbRL-sRMtJqNjx3fVEWbndEEB1tWA7yTpw4EPhPJd2isvvrIBX8Yxlm8lD9nF9UKaq8ViWk2QoZEXMMcsKcwUG2juKAAYSODS7JK5ngLH36cxh4r1FjNM3eGeWMjmRHS3NPjT8apxGKqAe4DEB8LLj7thf2kBydaHGcdqrZO-LtUOl-THTJyzm36CHzoGtcT501ykL8xtWPrp27fSd-twInBUOYTUElQvlabURfKGNKiO8swYYj2cYx0Jkyp4sEg) - ModelState is Valid 
2018-03-28 16:52:34.6733|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 16:52:35.1035|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 126.6611ms 
2018-03-28 16:52:35.1997|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 790.0983ms 200 text/html; charset=utf-8 
2018-03-28 17:22:44.1115|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 17:22:45.4859|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 17:22:45.9045|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 17:22:46.1757|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 17:22:46.3100|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 17:22:50.0105|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 17:22:54.3604|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 17:22:57.6674|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 17:22:59.0066|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (236ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 17:23:02.0247|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (336ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 17:23:02.7410|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (441ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 17:23:03.5909|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (265ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 17:23:04.5485|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (243ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 17:23:04.7828|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:23:05.2246|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:23:09.0970|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 17:23:39.5625|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 17:23:56.3834|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 47032.8241ms 
2018-03-28 17:23:57.3926|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 64269.784ms 200 text/html; charset=utf-8 
2018-03-28 17:25:38.3088|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:25:38.7580|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:25:39.4532|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:25:39.8655|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:25:39.9688|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:25:40.4708|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:25:40.7527|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:25:40.9344|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:25:41.0083|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:25:42.1682|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3888.1142ms 200 application/json; charset=UTF-8 
2018-03-28 17:25:42.5856|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:25:42.6412|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:42.6715|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:42.8178|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:25:42.9029|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:25:42.9399|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:25:42.9866|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:25:43.0545|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 461.8189ms 200 text/html; charset=UTF-8 
2018-03-28 17:25:47.1183|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4e182fe570594d389f0b8a1b07ca2625&nonce=fa35609a414a4f279f275ff54fad353b&prompt=none   
2018-03-28 17:25:47.1414|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:47.1632|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:47.1858|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:25:47.2277|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:25:47.2469|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:25:47.2852|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:25:47.3631|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:25:47.4086|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:25:47.6822|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4e182fe570594d389f0b8a1b07ca2625",
    "nonce": "fa35609a414a4f279f275ff54fad353b",
    "prompt": "none"
  }
} 
2018-03-28 17:25:47.7166|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:25:47.7760|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4e182fe570594d389f0b8a1b07ca2625",
    "nonce": "fa35609a414a4f279f275ff54fad353b",
    "prompt": "none"
  }
} 
2018-03-28 17:25:47.9146|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 768.0011ms 302  
2018-03-28 17:25:47.9540|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoohjKh-R2Eo252tT0TvFIRRubi8FPgpKg5zlQqUc9m8-GV_ChRDttRZUdzEoOmSKU2DhrMeL8SQhwPGiXDswVjRWjE88srn2PayeNJbo-H0jOgQWv78a6C0FNapGethJn_VnQICi6h6qYGUzSVGbXLIjXN9e8IquTrMpym1WDFS5G670ISsl-recipW2-E6HAxAljw47n58G2P3ZL0X2zpnfDJiWk8CdD-ToyZzcoHMwstGdvvlm148MPMhtV-7jV5J3FgO_ApTDhQ0EkXxTHW8NO_RtpOOonBagZxKGRsNg   
2018-03-28 17:25:47.9870|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:48.0083|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:25:48.5029|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoohjKh-R2Eo252tT0TvFIRRubi8FPgpKg5zlQqUc9m8-GV_ChRDttRZUdzEoOmSKU2DhrMeL8SQhwPGiXDswVjRWjE88srn2PayeNJbo-H0jOgQWv78a6C0FNapGethJn_VnQICi6h6qYGUzSVGbXLIjXN9e8IquTrMpym1WDFS5G670ISsl-recipW2-E6HAxAljw47n58G2P3ZL0X2zpnfDJiWk8CdD-ToyZzcoHMwstGdvvlm148MPMhtV-7jV5J3FgO_ApTDhQ0EkXxTHW8NO_RtpOOonBagZxKGRsNg) - ModelState is Valid 
2018-03-28 17:25:50.3800|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:25:50.4652|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 2252.8663ms 
2018-03-28 17:25:50.5029|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2537.5841ms 200 text/html; charset=utf-8 
2018-03-28 17:27:30.4241|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:27:30.6891|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:27:30.7683|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:27:30.7943|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:27:30.8259|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:27:30.8570|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:27:31.2842|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:27:31.5331|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:27:31.9337|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:27:32.0986|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1548.1721ms 200 application/json; charset=UTF-8 
2018-03-28 17:27:32.2838|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:27:32.6293|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:32.6551|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:32.6885|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:27:32.9246|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:27:33.0018|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:27:33.0523|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:27:33.3040|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1035.2217ms 200 text/html; charset=UTF-8 
2018-03-28 17:27:35.4046|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=2a42579c83d144ff9449099781959195&nonce=9920fc72ca5e4669868305878ebbe01a&prompt=none   
2018-03-28 17:27:35.4446|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:35.4695|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:35.4914|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:27:35.5344|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:27:35.5657|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:27:35.6638|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:27:35.6997|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:27:35.7247|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:27:35.7603|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2a42579c83d144ff9449099781959195",
    "nonce": "9920fc72ca5e4669868305878ebbe01a",
    "prompt": "none"
  }
} 
2018-03-28 17:27:35.7853|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:27:35.8427|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2a42579c83d144ff9449099781959195",
    "nonce": "9920fc72ca5e4669868305878ebbe01a",
    "prompt": "none"
  }
} 
2018-03-28 17:27:35.8920|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 482.7001ms 302  
2018-03-28 17:27:35.9527|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspe-jgh7PuhfEfT469BHLgjPU-70C0PH24K3yXkIakUeSubY4a5ez11mLtqw34R4DyZf_1ruosWYW5IhFpgwgZtYZFMZaPPV0IJL1vlJrbjOmP25QscxvFj_eJ23pRTlFIBDM6XaOzpiixXJ0HM5NED-bAk0sOWHB1LZI3M36V9Tir3Ssk7aHom64700Yi7nPT4O7637m7GKUduQQMGoX1-CFG6pgw-9Npa_zx4ED53WNoXnk7-mX0_SUfWh85Fdh3ab8EKIH_qp8QlV1naGT7cKcEWXPceuVM1TRNJ6_dcFw   
2018-03-28 17:27:35.9848|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:36.0201|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:27:36.0717|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspe-jgh7PuhfEfT469BHLgjPU-70C0PH24K3yXkIakUeSubY4a5ez11mLtqw34R4DyZf_1ruosWYW5IhFpgwgZtYZFMZaPPV0IJL1vlJrbjOmP25QscxvFj_eJ23pRTlFIBDM6XaOzpiixXJ0HM5NED-bAk0sOWHB1LZI3M36V9Tir3Ssk7aHom64700Yi7nPT4O7637m7GKUduQQMGoX1-CFG6pgw-9Npa_zx4ED53WNoXnk7-mX0_SUfWh85Fdh3ab8EKIH_qp8QlV1naGT7cKcEWXPceuVM1TRNJ6_dcFw) - ModelState is Valid 
2018-03-28 17:27:36.1304|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:27:36.5996|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 115.0669ms 
2018-03-28 17:27:36.7907|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 672.0822ms 200 text/html; charset=utf-8 
2018-03-28 17:29:12.0314|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:29:13.2628|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:29:13.5895|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:29:13.8328|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:29:14.1733|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:29:14.5465|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:29:14.7271|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:29:14.7567|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:29:14.9625|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:29:17.1063|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3520.007ms 200 application/json; charset=UTF-8 
2018-03-28 17:29:19.3728|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:29:21.9739|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:22.4302|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:22.4585|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:29:22.4868|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:29:22.5059|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:29:22.5349|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:29:22.7449|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6367.0593ms 200 text/html; charset=UTF-8 
2018-03-28 17:29:28.1813|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4961244f9beb4d4a9cc5c089dffb72b2&nonce=46b40fcf86c6430bba10727842636798&prompt=none   
2018-03-28 17:29:28.9691|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:29.8771|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:30.6606|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:29:31.1000|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:29:31.3357|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:29:31.3966|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:29:31.4804|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:29:31.5094|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:29:31.5448|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4961244f9beb4d4a9cc5c089dffb72b2",
    "nonce": "46b40fcf86c6430bba10727842636798",
    "prompt": "none"
  }
} 
2018-03-28 17:29:31.8600|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:29:32.1599|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4961244f9beb4d4a9cc5c089dffb72b2",
    "nonce": "46b40fcf86c6430bba10727842636798",
    "prompt": "none"
  }
} 
2018-03-28 17:29:32.5833|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5176.905ms 302  
2018-03-28 17:29:33.5937|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoFCfnsruZqt4byVZ9y2Xw6FxhbZND15K6atr3_j2fIDMQ06tqlEN8XUZ3QAKezgLjHFEB3lmK1L3JaEoYH9PDLe62QUtLqFu8AvPjXsWuwORCBfHVVLLhxKkd-R9jnSo7KSvmKuY-11aeS_oIcDX8dZM2HkMMfyxrphdDv4DWhcTL0YKxsjDoCZrtlcQkyqgGD9AqoK5JxEBXKYNNa1H8Z6Ua_xROR9NR-lTQZcNuxHVJLZPNO3bzXcMVYl3iktOPMGPUHBUDKJLPWyyCbs_XSx7FGxvDEF8_0MK_r9_PVCw   
2018-03-28 17:29:33.7100|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:33.7785|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:33.8748|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoFCfnsruZqt4byVZ9y2Xw6FxhbZND15K6atr3_j2fIDMQ06tqlEN8XUZ3QAKezgLjHFEB3lmK1L3JaEoYH9PDLe62QUtLqFu8AvPjXsWuwORCBfHVVLLhxKkd-R9jnSo7KSvmKuY-11aeS_oIcDX8dZM2HkMMfyxrphdDv4DWhcTL0YKxsjDoCZrtlcQkyqgGD9AqoK5JxEBXKYNNa1H8Z6Ua_xROR9NR-lTQZcNuxHVJLZPNO3bzXcMVYl3iktOPMGPUHBUDKJLPWyyCbs_XSx7FGxvDEF8_0MK_r9_PVCw) - ModelState is Valid 
2018-03-28 17:29:33.9173|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:29:34.5093|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 138.5555ms 
2018-03-28 17:29:34.6862|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1532.9812ms 200 text/html; charset=utf-8 
2018-03-28 17:29:41.4937|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:29:41.7052|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:29:41.7591|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:29:42.2351|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:29:42.4757|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:29:42.6976|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:29:43.0033|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:29:43.4713|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:29:44.1461|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:29:44.3707|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2869.1835ms 200 application/json; charset=UTF-8 
2018-03-28 17:29:44.3936|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:29:44.5945|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:44.6233|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:44.6604|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:29:45.1464|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:29:45.4647|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:29:45.5352|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:29:45.6571|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1170.1971ms 200 text/html; charset=UTF-8 
2018-03-28 17:29:48.1555|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=68edb2b35025486489b5bf42b5522c68&nonce=100f706416714210beedc8acc4e51d0b&prompt=none   
2018-03-28 17:29:48.1867|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:48.2893|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:48.3299|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:29:48.3666|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:29:48.4027|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:29:48.4324|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:29:48.5338|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:29:48.5603|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:29:48.5891|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "68edb2b35025486489b5bf42b5522c68",
    "nonce": "100f706416714210beedc8acc4e51d0b",
    "prompt": "none"
  }
} 
2018-03-28 17:29:48.6177|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:29:48.6456|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "68edb2b35025486489b5bf42b5522c68",
    "nonce": "100f706416714210beedc8acc4e51d0b",
    "prompt": "none"
  }
} 
2018-03-28 17:29:48.6748|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 765.4527ms 302  
2018-03-28 17:29:48.7138|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrso_cSrsaWjD0T8EW0q9Lquj3HoKBNyG-XicNUFifsHtI-AAaOJkP3v1rIr81rQWEiSy9NzksU2MtwEdIN1sUMwmXico3NOCg4a6-UY5BE1GTYwiqFYUsI_n2P5BHG0a7Dm9qwhekMqm5j3Pw0qEGRE-9xYRF-QS12yGlaJZxP-TmPtE_i8EJYhNZQpTuoZ3h8nIyChnq293xbU8qdtYiMBgR8Zcs-uqTCURK3l2O-GPHqt_KWCXQpkPKUQvJ7iZFzhwq3GLE-ttyq7xRkgjy-oveic52MCJFmFbgKOSbr8GdQ   
2018-03-28 17:29:48.7999|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:48.8312|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:29:48.9069|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrso_cSrsaWjD0T8EW0q9Lquj3HoKBNyG-XicNUFifsHtI-AAaOJkP3v1rIr81rQWEiSy9NzksU2MtwEdIN1sUMwmXico3NOCg4a6-UY5BE1GTYwiqFYUsI_n2P5BHG0a7Dm9qwhekMqm5j3Pw0qEGRE-9xYRF-QS12yGlaJZxP-TmPtE_i8EJYhNZQpTuoZ3h8nIyChnq293xbU8qdtYiMBgR8Zcs-uqTCURK3l2O-GPHqt_KWCXQpkPKUQvJ7iZFzhwq3GLE-ttyq7xRkgjy-oveic52MCJFmFbgKOSbr8GdQ) - ModelState is Valid 
2018-03-28 17:29:48.9311|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:29:49.0669|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 106.9861ms 
2018-03-28 17:29:49.2740|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 398.1429ms 200 text/html; charset=utf-8 
2018-03-28 17:30:47.9004|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:30:48.0849|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:30:48.7687|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:30:48.8088|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:30:48.8494|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:30:48.8964|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:30:49.0992|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:30:49.4539|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:30:49.4866|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:30:49.5805|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1683.0932ms 200 application/json; charset=UTF-8 
2018-03-28 17:30:49.6584|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:30:49.6981|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:49.7256|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:49.7709|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:30:49.8165|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:30:49.8505|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:30:49.8909|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:30:49.9836|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 346.2061ms 200 text/html; charset=UTF-8 
2018-03-28 17:30:53.1865|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=389fb1adf1c74709af696124b1f142bf&nonce=c9aaeeeaa4b94a0fbf08b31a559b79d7&prompt=none   
2018-03-28 17:30:54.1681|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:54.7160|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:54.7735|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:30:54.8125|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:30:55.0339|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:30:55.1235|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:30:55.1710|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:30:55.8819|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:30:56.4398|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "389fb1adf1c74709af696124b1f142bf",
    "nonce": "c9aaeeeaa4b94a0fbf08b31a559b79d7",
    "prompt": "none"
  }
} 
2018-03-28 17:30:56.5050|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:30:56.6182|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "389fb1adf1c74709af696124b1f142bf",
    "nonce": "c9aaeeeaa4b94a0fbf08b31a559b79d7",
    "prompt": "none"
  }
} 
2018-03-28 17:30:56.6727|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3910.8248ms 302  
2018-03-28 17:30:56.7040|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspo1p4RYiP69jdGoZn9e6CftIIUZJwzNeHawLc8Qlytyanl3r8pJK9kK8EKqdY3Ur3DYjRYrwGGKwTFYwIRuoOxvhLgXlVwS3y4wUAVHHLOkQkM1ZRPFWcsnOLt3J23JmEqpSDkr-U0H4N7vxZQM2rK6hBZPuyq_LipCKwhgQ8yqO-MG0DXK0WA7rfIzEYYmO0jjh4BVjVkW7kYEaE3I280HbUSZjxMjKUR6Ay3TXFDQtkD2TiIy6Z2iH0aRp2Z9saxtTx1_GirU6HF4OGX5dF7PmhsPcHdseN8Yofinjhgzg   
2018-03-28 17:30:56.7405|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:57.0783|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:30:57.4558|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspo1p4RYiP69jdGoZn9e6CftIIUZJwzNeHawLc8Qlytyanl3r8pJK9kK8EKqdY3Ur3DYjRYrwGGKwTFYwIRuoOxvhLgXlVwS3y4wUAVHHLOkQkM1ZRPFWcsnOLt3J23JmEqpSDkr-U0H4N7vxZQM2rK6hBZPuyq_LipCKwhgQ8yqO-MG0DXK0WA7rfIzEYYmO0jjh4BVjVkW7kYEaE3I280HbUSZjxMjKUR6Ay3TXFDQtkD2TiIy6Z2iH0aRp2Z9saxtTx1_GirU6HF4OGX5dF7PmhsPcHdseN8Yofinjhgzg) - ModelState is Valid 
2018-03-28 17:30:57.5057|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:30:58.1191|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 447.8914ms 
2018-03-28 17:30:58.3815|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1444.0448ms 200 text/html; charset=utf-8 
2018-03-28 17:34:56.6102|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:34:56.6490|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:34:56.7000|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:34:56.7262|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:34:56.7562|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:34:56.7844|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:34:56.8065|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:34:56.8424|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:34:56.8759|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:34:56.9137|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 294.9074ms 200 application/json; charset=UTF-8 
2018-03-28 17:34:57.4596|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:34:57.4925|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:34:57.5229|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:34:57.5497|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:34:57.5832|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:34:57.6164|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:34:57.6433|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:34:57.6770|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 221.6405ms 200 text/html; charset=UTF-8 
2018-03-28 17:35:01.1586|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=2d519ad16e134ceebbc82336a1406c3a&nonce=dd55759867df49f88052eea2c7178b7e&prompt=none   
2018-03-28 17:35:01.2217|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:01.2647|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:01.3482|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:35:01.4007|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:35:01.4331|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:35:01.4674|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:35:01.5084|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:35:01.5371|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:35:01.5816|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2d519ad16e134ceebbc82336a1406c3a",
    "nonce": "dd55759867df49f88052eea2c7178b7e",
    "prompt": "none"
  }
} 
2018-03-28 17:35:01.6183|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:35:01.6547|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2d519ad16e134ceebbc82336a1406c3a",
    "nonce": "dd55759867df49f88052eea2c7178b7e",
    "prompt": "none"
  }
} 
2018-03-28 17:35:01.6969|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 522.5331ms 302  
2018-03-28 17:35:01.7562|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrK1dD-tRv_-EGhHEcwb_ecOV2i4WevsDFgIGtAsQ6w1ta4O-VF1rtVHfiRVlDOlhGsbE_tOOUKLyvpshjAt85ouPVGdIGz1Jdp6NnhyxWAODjD5Ujhj3g1v--Q9B0oCWxUtMbOziXrYVeNElz7XULo1bSLspHI3OGhhDZpDV2-DOkDL9u6-d-kX-_bRBhINGN5_TaXkYGolAq7SQVruSkt_odj7jDzjJbi6bjnIct_wIu85eOH05uuksAiKgpOcomPwCMH023I7EZ6HquL4uzSEzncr3lK0gruhk1jF79DOg   
2018-03-28 17:35:01.7911|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:01.8331|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:01.8703|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrK1dD-tRv_-EGhHEcwb_ecOV2i4WevsDFgIGtAsQ6w1ta4O-VF1rtVHfiRVlDOlhGsbE_tOOUKLyvpshjAt85ouPVGdIGz1Jdp6NnhyxWAODjD5Ujhj3g1v--Q9B0oCWxUtMbOziXrYVeNElz7XULo1bSLspHI3OGhhDZpDV2-DOkDL9u6-d-kX-_bRBhINGN5_TaXkYGolAq7SQVruSkt_odj7jDzjJbi6bjnIct_wIu85eOH05uuksAiKgpOcomPwCMH023I7EZ6HquL4uzSEzncr3lK0gruhk1jF79DOg) - ModelState is Valid 
2018-03-28 17:35:01.9219|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:35:01.9696|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 101.5057ms 
2018-03-28 17:35:01.9920|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 254.7624ms 200 text/html; charset=utf-8 
2018-03-28 17:35:45.8991|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:35:46.3212|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:35:47.5218|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:35:47.5619|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:35:47.6099|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:35:48.1788|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:35:49.2593|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:35:50.1621|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:35:50.8611|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:35:52.9376|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5189.9813ms 200 application/json; charset=UTF-8 
2018-03-28 17:35:55.2732|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:35:56.0426|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:57.1836|22|Microsoft.AspNetCore.Server.Kestrel|WARN|Heartbeat took longer than "00:00:01" at "03/28/2018 09:35:55 +00:00". 
2018-03-28 17:35:57.2330|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:35:57.2719|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:35:57.3263|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:35:57.4009|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:35:57.6774|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:35:57.8401|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4752.7323ms 200 text/html; charset=UTF-8 
2018-03-28 17:36:00.0740|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=10341d72d0df486b942933c7f6583d90&nonce=9a633e73212f46f09950bad337a7a741&prompt=none   
2018-03-28 17:36:00.1218|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:00.1559|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:00.1815|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:36:00.2177|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:36:00.2366|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:36:00.2828|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:36:00.3094|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:36:00.3353|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:36:00.3593|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "10341d72d0df486b942933c7f6583d90",
    "nonce": "9a633e73212f46f09950bad337a7a741",
    "prompt": "none"
  }
} 
2018-03-28 17:36:00.3844|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:36:00.4215|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "10341d72d0df486b942933c7f6583d90",
    "nonce": "9a633e73212f46f09950bad337a7a741",
    "prompt": "none"
  }
} 
2018-03-28 17:36:00.4840|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 373.9024ms 302  
2018-03-28 17:36:00.5363|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqeGKgdCzE4V8URo_4Bk-W8LUmfyjYUZYLlIMYhqBfkJU_B8P-0m-Z9zrE6q-h0pFrhzdfJgEJm7NK6wBUVAX1vp8x0AHpuhAvUtAIIawCTZ6xFcRn9SM52nwEHju9XfzadiwfS2r8dDkQwW5FZxvNuqoZPDv4U2GomQfZLJ81h04l-vHqrfugPYxrcXuTEWLCSSwaKa7DTbNhq-fId0VRKS9BH5j4vooArMFd-L0T1rW5WOoHUTNXOkoL3jMnUTXgrz9T-QRdpP4RuSD9wdGjK2_2C93dGT0yAcs7tvFLWtg   
2018-03-28 17:36:00.5837|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:00.6202|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:00.6644|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqeGKgdCzE4V8URo_4Bk-W8LUmfyjYUZYLlIMYhqBfkJU_B8P-0m-Z9zrE6q-h0pFrhzdfJgEJm7NK6wBUVAX1vp8x0AHpuhAvUtAIIawCTZ6xFcRn9SM52nwEHju9XfzadiwfS2r8dDkQwW5FZxvNuqoZPDv4U2GomQfZLJ81h04l-vHqrfugPYxrcXuTEWLCSSwaKa7DTbNhq-fId0VRKS9BH5j4vooArMFd-L0T1rW5WOoHUTNXOkoL3jMnUTXgrz9T-QRdpP4RuSD9wdGjK2_2C93dGT0yAcs7tvFLWtg) - ModelState is Valid 
2018-03-28 17:36:00.6935|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:36:01.2206|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 68.8687ms 
2018-03-28 17:36:01.5195|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 736.4468ms 200 text/html; charset=utf-8 
2018-03-28 17:36:48.5020|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:36:48.8591|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:36:50.0023|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:36:50.0513|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:36:50.2807|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:36:50.3681|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:36:50.5680|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:36:50.5916|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:36:50.6286|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:36:50.7192|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2350.393ms 200 application/json; charset=UTF-8 
2018-03-28 17:36:50.9015|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:36:50.9590|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:51.1367|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:51.4213|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:36:51.5325|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:36:51.5580|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:36:51.5971|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:36:51.8129|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 888.678ms 200 text/html; charset=UTF-8 
2018-03-28 17:36:53.9052|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=db8c0d6e112a43368f2a59f7c2566249&nonce=f834879170464efa875754d11470758d&prompt=none   
2018-03-28 17:36:53.9281|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:53.9475|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:53.9648|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:36:53.9827|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:36:53.9992|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:36:54.0170|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:36:54.0369|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:36:54.0559|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:36:54.0860|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "db8c0d6e112a43368f2a59f7c2566249",
    "nonce": "f834879170464efa875754d11470758d",
    "prompt": "none"
  }
} 
2018-03-28 17:36:54.1077|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:36:54.1365|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "db8c0d6e112a43368f2a59f7c2566249",
    "nonce": "f834879170464efa875754d11470758d",
    "prompt": "none"
  }
} 
2018-03-28 17:36:54.1696|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 285.8842ms 302  
2018-03-28 17:36:54.1944|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoz5xn6SGngwnefSWoyeZbzIRSIWTyeKZBVj1bYpnzvd7JFB12DrWB6O7nhHyyYIX2A7d85zd8C-WDVtkMGa3_zrxsofgsnKmwVS4I--tqudWTc-5JRULkhMHRT00hx3gRnS5vtSyDlznwaKIIBIMyEc7jakUBxev7Lg6Ls9t-wXvjvmb52lujrGCLQQ7wfcrWxGyqIuDtxGL1o-9AyUV5CQyyOJa5aP2NiPEKyJHTGMJBUYGf4iaLF3UaiBgl4a0oJF6nTeqc9AbnBcBLGTU2blMoI8yWlcjFjIBIlOPa8TQ   
2018-03-28 17:36:54.2104|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:54.2298|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:36:54.2602|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoz5xn6SGngwnefSWoyeZbzIRSIWTyeKZBVj1bYpnzvd7JFB12DrWB6O7nhHyyYIX2A7d85zd8C-WDVtkMGa3_zrxsofgsnKmwVS4I--tqudWTc-5JRULkhMHRT00hx3gRnS5vtSyDlznwaKIIBIMyEc7jakUBxev7Lg6Ls9t-wXvjvmb52lujrGCLQQ7wfcrWxGyqIuDtxGL1o-9AyUV5CQyyOJa5aP2NiPEKyJHTGMJBUYGf4iaLF3UaiBgl4a0oJF6nTeqc9AbnBcBLGTU2blMoI8yWlcjFjIBIlOPa8TQ) - ModelState is Valid 
2018-03-28 17:36:54.2737|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:36:54.3063|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 43.8762ms 
2018-03-28 17:36:54.3387|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 139.2445ms 200 text/html; charset=utf-8 
2018-03-28 17:39:07.8198|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:39:08.7468|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:39:10.9476|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:39:11.5809|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:39:11.9300|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:39:13.0409|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:39:13.1980|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:39:13.6151|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:39:14.3309|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:39:15.3043|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6732.139ms 200 application/json; charset=UTF-8 
2018-03-28 17:39:15.3580|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:39:15.4321|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:15.4651|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:15.4908|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:39:15.5119|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:39:15.5344|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:39:15.5585|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:39:15.6415|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 361.9471ms 200 text/html; charset=UTF-8 
2018-03-28 17:39:17.8926|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=310629b46def433e8a63a4376de38d5a&nonce=e0f0d38cc1044a0da4eaebd444466083&prompt=none   
2018-03-28 17:39:17.9514|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:17.9983|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:18.0346|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:39:18.0655|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:39:18.1009|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:39:18.1272|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:39:18.1502|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:39:18.1688|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:39:18.1978|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "310629b46def433e8a63a4376de38d5a",
    "nonce": "e0f0d38cc1044a0da4eaebd444466083",
    "prompt": "none"
  }
} 
2018-03-28 17:39:18.2206|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:39:18.2651|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "310629b46def433e8a63a4376de38d5a",
    "nonce": "e0f0d38cc1044a0da4eaebd444466083",
    "prompt": "none"
  }
} 
2018-03-28 17:39:18.3511|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 399.6132ms 302  
2018-03-28 17:39:18.3979|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrB_EIxB_ML8922Ljn2gwO4Rne1PVLByTmG45xwlHzwVRBuppdm6DqmR885CaCg4erCwBJcC-BlyiZkBLFDT986pVeIe_K4VV7tG-syYs39w_NM_5EdlUAYWPpWkEa7bxXFKLkDN5KBA1R9iwi1gckyMn8L8ZnqDyQocmkwZTiyB2kYjZ47JE16LtkIYNjNkvxjvUiOHG7wOywUwkKBVewtboxIB_foJSexPquhKqrVIrkuDH71yyZhwaCdQXmgDv-HgZBDVASWw_E0yFXzeL1NIM7qMMG6T6mkc1gYQMb5JQ   
2018-03-28 17:39:18.4300|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:18.4616|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:39:18.5249|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrB_EIxB_ML8922Ljn2gwO4Rne1PVLByTmG45xwlHzwVRBuppdm6DqmR885CaCg4erCwBJcC-BlyiZkBLFDT986pVeIe_K4VV7tG-syYs39w_NM_5EdlUAYWPpWkEa7bxXFKLkDN5KBA1R9iwi1gckyMn8L8ZnqDyQocmkwZTiyB2kYjZ47JE16LtkIYNjNkvxjvUiOHG7wOywUwkKBVewtboxIB_foJSexPquhKqrVIrkuDH71yyZhwaCdQXmgDv-HgZBDVASWw_E0yFXzeL1NIM7qMMG6T6mkc1gYQMb5JQ) - ModelState is Valid 
2018-03-28 17:39:18.5720|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:39:18.6373|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 127.6361ms 
2018-03-28 17:39:18.7808|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 286.0019ms 200 text/html; charset=utf-8 
2018-03-28 17:40:14.1709|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:40:14.4501|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:40:14.4978|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:40:14.5357|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:40:14.5790|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:40:14.6099|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:40:14.6469|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:40:14.6927|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:40:15.0645|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:40:15.4189|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 928.7114ms 200 application/json; charset=UTF-8 
2018-03-28 17:40:15.4707|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:40:15.5370|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:15.5704|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:15.6075|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:40:15.6399|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:40:15.6702|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:40:15.7148|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:40:15.7814|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 388.294ms 200 text/html; charset=UTF-8 
2018-03-28 17:40:18.0078|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=f8fcea4cf8884afbaf6039ab186c61f0&nonce=694db465ab004addbf4045fed5559992&prompt=none   
2018-03-28 17:40:18.0691|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:18.0987|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:18.1345|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:40:18.1720|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:40:18.2151|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:40:18.2806|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:40:18.3158|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:40:18.3546|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:40:18.3944|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f8fcea4cf8884afbaf6039ab186c61f0",
    "nonce": "694db465ab004addbf4045fed5559992",
    "prompt": "none"
  }
} 
2018-03-28 17:40:18.4824|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:40:18.5490|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "f8fcea4cf8884afbaf6039ab186c61f0",
    "nonce": "694db465ab004addbf4045fed5559992",
    "prompt": "none"
  }
} 
2018-03-28 17:40:18.5907|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 582.1305ms 302  
2018-03-28 17:40:18.6412|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsplKXz-c9LGeXT0BEksR5bqX-PD5wmSRxlCPy7W_n_Z2RY9ypNyEEiqAIxLXM_OQEUlKTaP7iXqn6F1T9c0eHKm4C6d3QmHWAt4nS8tAPipwSGiWLcxc3zleBFEdIgTxGjmjD3TsL0Vw6ZTwC6jzSLxfTI9vfmOd8qocrTP_sMznyon5EMkrfMj4dRbqgJAfRFe80_x8KdzD5NtWbgt6NgATbrBpXOfY2Y_f9nSss__GTAqUoRm3rMePdaXvdCOjq4FkXeY7vxp-RIJElVDRtSOQHJ-8NCcXGIMPClf_z2Wfw   
2018-03-28 17:40:18.6747|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:18.7056|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:40:18.7459|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsplKXz-c9LGeXT0BEksR5bqX-PD5wmSRxlCPy7W_n_Z2RY9ypNyEEiqAIxLXM_OQEUlKTaP7iXqn6F1T9c0eHKm4C6d3QmHWAt4nS8tAPipwSGiWLcxc3zleBFEdIgTxGjmjD3TsL0Vw6ZTwC6jzSLxfTI9vfmOd8qocrTP_sMznyon5EMkrfMj4dRbqgJAfRFe80_x8KdzD5NtWbgt6NgATbrBpXOfY2Y_f9nSss__GTAqUoRm3rMePdaXvdCOjq4FkXeY7vxp-RIJElVDRtSOQHJ-8NCcXGIMPClf_z2Wfw) - ModelState is Valid 
2018-03-28 17:40:18.7724|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:40:18.8729|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 79.3418ms 
2018-03-28 17:40:18.9182|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 269.6025ms 200 text/html; charset=utf-8 
2018-03-28 17:41:18.3177|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:41:18.4550|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:41:18.5115|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:41:18.5594|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:41:18.5942|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:41:18.6524|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:41:19.1467|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:41:19.3343|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:41:19.3942|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:41:19.4583|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1115.8902ms 200 application/json; charset=UTF-8 
2018-03-28 17:41:19.7211|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:41:19.7823|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:20.0229|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:20.1192|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:41:20.3571|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:41:20.4916|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:41:20.5650|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:41:20.6348|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1131.8561ms 200 text/html; charset=UTF-8 
2018-03-28 17:41:22.6681|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=445ee5fc5ac646c79283a331026e43cf&nonce=e949fe503a8a47fbb920a8d03ee886f9&prompt=none   
2018-03-28 17:41:22.6864|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:22.7076|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:22.7231|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:41:22.7411|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:41:22.7638|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:41:22.7898|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:41:22.8209|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:41:22.8759|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:41:22.9085|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "445ee5fc5ac646c79283a331026e43cf",
    "nonce": "e949fe503a8a47fbb920a8d03ee886f9",
    "prompt": "none"
  }
} 
2018-03-28 17:41:22.9405|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:41:22.9797|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "445ee5fc5ac646c79283a331026e43cf",
    "nonce": "e949fe503a8a47fbb920a8d03ee886f9",
    "prompt": "none"
  }
} 
2018-03-28 17:41:23.0130|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 333.3226ms 302  
2018-03-28 17:41:23.0548|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsornGURpcScuTmaOmMpe2hx8kYmubBZF_XwpL7z__dC47P5YJcVelEOT65IMfhnCQ2LmNo-XilWQLEYj8WuYVh1OdHNr6W2Z3UNcAVm3-ftpnW6Kgc2NwLX3enI2hJlOquFlYJArfk8PfkIzvpfDDpQeWo351m74cEasYDURNrUkuBexmkxQyrBPDMvpRkxkDx_YByTdqeFU-h71KgRb-9je-PWGKRWE7bzS5fngVdPcRPvSBrVy5Ul0B9Pev5ozxllBYlSLkgxr961dlGub6HFYysHgXb8sIrb-5LnHj6v8w   
2018-03-28 17:41:23.0762|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:23.1177|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:23.1377|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsornGURpcScuTmaOmMpe2hx8kYmubBZF_XwpL7z__dC47P5YJcVelEOT65IMfhnCQ2LmNo-XilWQLEYj8WuYVh1OdHNr6W2Z3UNcAVm3-ftpnW6Kgc2NwLX3enI2hJlOquFlYJArfk8PfkIzvpfDDpQeWo351m74cEasYDURNrUkuBexmkxQyrBPDMvpRkxkDx_YByTdqeFU-h71KgRb-9je-PWGKRWE7bzS5fngVdPcRPvSBrVy5Ul0B9Pev5ozxllBYlSLkgxr961dlGub6HFYysHgXb8sIrb-5LnHj6v8w) - ModelState is Valid 
2018-03-28 17:41:23.1716|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:41:23.2474|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 62.9742ms 
2018-03-28 17:41:23.2910|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 224.6586ms 200 text/html; charset=utf-8 
2018-03-28 17:41:46.9329|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:41:47.0807|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:41:47.1617|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:41:47.1943|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:41:47.2337|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:41:47.2787|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:41:47.3163|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:41:47.3514|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:41:47.4735|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:41:47.6410|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 569.1321ms 200 application/json; charset=UTF-8 
2018-03-28 17:41:47.8422|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:41:47.9986|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:48.0433|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:48.0744|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:41:48.1381|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:41:48.1682|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:41:48.2230|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:41:48.2928|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 610.868ms 200 text/html; charset=UTF-8 
2018-03-28 17:41:50.3304|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=1e156244811d488d85127d6d83c7900c&nonce=117270da936647f5a8018364eca519e6&prompt=none   
2018-03-28 17:41:50.3585|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:50.3831|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:50.4096|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:41:50.4616|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:41:50.4884|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:41:50.5045|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:41:50.5258|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:41:50.5459|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:41:50.5722|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e156244811d488d85127d6d83c7900c",
    "nonce": "117270da936647f5a8018364eca519e6",
    "prompt": "none"
  }
} 
2018-03-28 17:41:50.5985|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:41:50.6292|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e156244811d488d85127d6d83c7900c",
    "nonce": "117270da936647f5a8018364eca519e6",
    "prompt": "none"
  }
} 
2018-03-28 17:41:50.6608|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 319.2017ms 302  
2018-03-28 17:41:50.6908|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsquLJj0a7aMpd6st4zsx7CW2qd6SwSh-hph9PV-0HWvsRWDGwKG6eaAeN8Ic1DyAB-Hi8x05LbIGifz6EEoRTX2fdfiVUz4dnNBhXQGT-j6nh2BVcBhlw9rjiayeeNBggQuj4GTmS0vfoEVvQAFuR90mNrNmTdDm7KhjLhuMUzdeT6dh7SvU265p-SBT29wCE9M5H7QwF1StfU4jFuwXoZDe-OXtZQZoYcdFIzAPHWHpJZ0DHgFQO_N95TS3xpyhua4J5WaGzWb_F-OdsOuJgBDicJpfHGz8vJukr_dIlUEDQ   
2018-03-28 17:41:50.7155|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:50.7334|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:50.7581|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsquLJj0a7aMpd6st4zsx7CW2qd6SwSh-hph9PV-0HWvsRWDGwKG6eaAeN8Ic1DyAB-Hi8x05LbIGifz6EEoRTX2fdfiVUz4dnNBhXQGT-j6nh2BVcBhlw9rjiayeeNBggQuj4GTmS0vfoEVvQAFuR90mNrNmTdDm7KhjLhuMUzdeT6dh7SvU265p-SBT29wCE9M5H7QwF1StfU4jFuwXoZDe-OXtZQZoYcdFIzAPHWHpJZ0DHgFQO_N95TS3xpyhua4J5WaGzWb_F-OdsOuJgBDicJpfHGz8vJukr_dIlUEDQ) - ModelState is Valid 
2018-03-28 17:41:50.7816|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:41:50.8530|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 52.009ms 
2018-03-28 17:41:50.9041|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 185.9958ms 200 text/html; charset=utf-8 
2018-03-28 17:41:58.8693|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:41:58.9484|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:41:58.9887|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:41:59.0202|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:41:59.0439|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:41:59.0754|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:41:59.0975|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:41:59.1190|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:41:59.1455|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:41:59.1974|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 360.5278ms 200 application/json; charset=UTF-8 
2018-03-28 17:41:59.2315|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:41:59.2743|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:59.3114|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:41:59.3386|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:41:59.7084|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:41:59.9376|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:42:00.0873|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:42:00.1313|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 915.6767ms 200 text/html; charset=UTF-8 
2018-03-28 17:42:02.8646|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=a56de1c32ebc4eedab3192e3e010f2f1&nonce=a35c6b8266fe4c398dceafb157515f5b&prompt=none   
2018-03-28 17:42:02.8866|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:02.9048|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:02.9209|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:42:02.9453|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:42:02.9739|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:42:03.0059|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:42:03.0220|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:42:03.0443|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:42:03.0715|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a56de1c32ebc4eedab3192e3e010f2f1",
    "nonce": "a35c6b8266fe4c398dceafb157515f5b",
    "prompt": "none"
  }
} 
2018-03-28 17:42:03.1059|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:42:03.1711|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a56de1c32ebc4eedab3192e3e010f2f1",
    "nonce": "a35c6b8266fe4c398dceafb157515f5b",
    "prompt": "none"
  }
} 
2018-03-28 17:42:03.4228|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 345.9778ms 302  
2018-03-28 17:42:03.5891|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspay4t_r7TbbrYKqD-V6SoC2-UOZAc1PiOrWNVHO2jTWv4NhtPX_1tOnRgFbnzQLg0h5UWf1xhpbooE7c6T4i-vQRF5g4OjVWLH-Kop-X_guM8SfqSjxJU6f7RfmwXn_Zwd5wAkdTQ13Ha9QnvDgeXprJ5k0OQaqzmtFnHLJF0PnTJKM4dq8BwQnZ844D8rgBbx88SB1PL-VyKf1coCHUWiBsxfpJBDZriV5IU01zE4-7Tnl0Lxw_XBcnQcGTjccFmX3NaK77SLjvWwXej3v7VaO0p6YMLE_JJ3D9bq5o4-ZA   
2018-03-28 17:42:03.6140|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:03.6597|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:03.7115|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspay4t_r7TbbrYKqD-V6SoC2-UOZAc1PiOrWNVHO2jTWv4NhtPX_1tOnRgFbnzQLg0h5UWf1xhpbooE7c6T4i-vQRF5g4OjVWLH-Kop-X_guM8SfqSjxJU6f7RfmwXn_Zwd5wAkdTQ13Ha9QnvDgeXprJ5k0OQaqzmtFnHLJF0PnTJKM4dq8BwQnZ844D8rgBbx88SB1PL-VyKf1coCHUWiBsxfpJBDZriV5IU01zE4-7Tnl0Lxw_XBcnQcGTjccFmX3NaK77SLjvWwXej3v7VaO0p6YMLE_JJ3D9bq5o4-ZA) - ModelState is Valid 
2018-03-28 17:42:03.7562|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:42:03.8182|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 90.1043ms 
2018-03-28 17:42:03.8539|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 254.579ms 200 text/html; charset=utf-8 
2018-03-28 17:42:45.3142|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:42:46.0106|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:42:46.8613|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:42:46.9063|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:42:46.9342|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:42:46.9912|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:42:47.0225|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:42:47.1064|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:42:47.1347|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:42:47.4624|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:42:47.6894|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2047.962ms 200 application/json; charset=UTF-8 
2018-03-28 17:42:48.5360|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:48.6107|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:48.6388|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:42:48.6688|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:42:48.7325|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:42:48.7601|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:42:48.8768|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1573.4812ms 200 text/html; charset=UTF-8 
2018-03-28 17:42:50.8813|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=0acb8d7dc5064f62888cbfe281e28776&nonce=abb03b43d70a4466856c2834388f9c90&prompt=none   
2018-03-28 17:42:50.9054|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:50.9250|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:50.9412|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:42:50.9612|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:42:50.9896|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:42:51.0230|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:42:51.0579|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:42:51.0913|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:42:51.1264|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0acb8d7dc5064f62888cbfe281e28776",
    "nonce": "abb03b43d70a4466856c2834388f9c90",
    "prompt": "none"
  }
} 
2018-03-28 17:42:51.1491|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:42:51.1906|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0acb8d7dc5064f62888cbfe281e28776",
    "nonce": "abb03b43d70a4466856c2834388f9c90",
    "prompt": "none"
  }
} 
2018-03-28 17:42:52.3680|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 374.9123ms 302  
2018-03-28 17:42:52.4100|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr-XmvPTbs-xCq9hDkSSCTD0hnFKRTmKKYjJ7G3JdRkZl3TMlEurcqC5R4CoDinqS_sgwKiKf3HVPRHYr3O6Y4d2MeH0NgscYB2OMGsaO2yJ6XN9cIpTAUDBzRgqZoJebQr0uh6QQs19HunCH-F6-_CGjSUMDr3-V-RofNs6zOHxdaYbZIEOxRLfWUFYV6Mmfx6OGpPskMMlSWMwCNDF0AvmYrNhyNMe6dXB3-cpM5TlFI0YDkKSwd23HBSfEFnFduImR7GWdgOAQ6I-WnwHuMWofI0Smjro-gClJ8ywZzq6g   
2018-03-28 17:42:52.4417|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:52.4908|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:42:52.5266|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr-XmvPTbs-xCq9hDkSSCTD0hnFKRTmKKYjJ7G3JdRkZl3TMlEurcqC5R4CoDinqS_sgwKiKf3HVPRHYr3O6Y4d2MeH0NgscYB2OMGsaO2yJ6XN9cIpTAUDBzRgqZoJebQr0uh6QQs19HunCH-F6-_CGjSUMDr3-V-RofNs6zOHxdaYbZIEOxRLfWUFYV6Mmfx6OGpPskMMlSWMwCNDF0AvmYrNhyNMe6dXB3-cpM5TlFI0YDkKSwd23HBSfEFnFduImR7GWdgOAQ6I-WnwHuMWofI0Smjro-gClJ8ywZzq6g) - ModelState is Valid 
2018-03-28 17:42:52.5609|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:42:52.6200|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 74.2399ms 
2018-03-28 17:42:52.6637|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 235.1337ms 200 text/html; charset=utf-8 
2018-03-28 17:43:02.7979|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:43:02.8412|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:43:02.8665|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:43:02.8947|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:43:02.9278|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:43:02.9557|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:43:03.0727|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:43:03.1092|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:43:03.1374|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:43:03.3124|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:43:03.3247|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 371.4391ms 200 application/json; charset=UTF-8 
2018-03-28 17:43:03.5776|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:03.7209|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:03.7617|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:43:03.8101|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:43:03.9222|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:43:03.9794|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:43:04.0234|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 739.0245ms 200 text/html; charset=UTF-8 
2018-03-28 17:43:06.0591|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=e5dec004499148a3ac867b328633421e&nonce=d64aa65e97614a6983e2c892a9d7e8c1&prompt=none   
2018-03-28 17:43:06.0911|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:06.1269|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:06.2426|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:43:06.2779|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:43:06.3109|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:43:06.3306|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:43:06.7070|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:43:06.7309|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:43:06.7598|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e5dec004499148a3ac867b328633421e",
    "nonce": "d64aa65e97614a6983e2c892a9d7e8c1",
    "prompt": "none"
  }
} 
2018-03-28 17:43:06.8125|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:43:06.8533|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e5dec004499148a3ac867b328633421e",
    "nonce": "d64aa65e97614a6983e2c892a9d7e8c1",
    "prompt": "none"
  }
} 
2018-03-28 17:43:07.2409|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 811.6032ms 302  
2018-03-28 17:43:07.2842|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrK_XYKzPaHLJtatYFiHKmhtZMNAwj1wk907OlWdAyeUBUubfyoctbrahzOWDyRtkmEqccUiq2O7hOMFjfY0JFOzsKVyRJUJK_uRDrDct39Vn0lPBVWcuXmcZLSjd1UJUd7BXJoAOFNskY-sM73uutl4P1Tf_qJndax-T75R5e3DhBQSFcdXawfdOgQxkELgmDf01wiB350G0Fq2DLxDF4qHMczzV4XWYwPobkZSLWTvuWQ4jqd10WBKJ_nhjyqbxorqwqgVUcIamerrsRexu6p26zxP5aUtPXbgm_QNtWBJw   
2018-03-28 17:43:07.3274|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:07.3464|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:43:07.3721|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrK_XYKzPaHLJtatYFiHKmhtZMNAwj1wk907OlWdAyeUBUubfyoctbrahzOWDyRtkmEqccUiq2O7hOMFjfY0JFOzsKVyRJUJK_uRDrDct39Vn0lPBVWcuXmcZLSjd1UJUd7BXJoAOFNskY-sM73uutl4P1Tf_qJndax-T75R5e3DhBQSFcdXawfdOgQxkELgmDf01wiB350G0Fq2DLxDF4qHMczzV4XWYwPobkZSLWTvuWQ4jqd10WBKJ_nhjyqbxorqwqgVUcIamerrsRexu6p26zxP5aUtPXbgm_QNtWBJw) - ModelState is Valid 
2018-03-28 17:43:07.4524|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:43:07.5649|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 104.995ms 
2018-03-28 17:43:07.6116|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 312.8999ms 200 text/html; charset=utf-8 
2018-03-28 17:46:40.0018|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:46:40.0824|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:46:40.2004|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:46:40.2383|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:46:40.2715|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:46:40.2988|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:46:40.3194|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:46:40.3393|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:46:40.3654|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:46:40.4006|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 376.6539ms 200 application/json; charset=UTF-8 
2018-03-28 17:46:40.4309|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:46:40.4881|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:40.5205|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:40.5498|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:46:40.5964|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:46:40.6376|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:46:40.6860|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:46:40.7667|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 291.7862ms 200 text/html; charset=UTF-8 
2018-03-28 17:46:42.7720|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=c22b941fd79d4d55afcb27a444a7bdba&nonce=b9d9a628b7be42aeaefc0f14d73098b9&prompt=none   
2018-03-28 17:46:42.7896|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:42.8061|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:42.8219|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:46:42.8401|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:46:42.8582|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:46:42.8768|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:46:42.8935|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:46:42.9142|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:46:42.9344|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c22b941fd79d4d55afcb27a444a7bdba",
    "nonce": "b9d9a628b7be42aeaefc0f14d73098b9",
    "prompt": "none"
  }
} 
2018-03-28 17:46:42.9505|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:46:42.9767|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c22b941fd79d4d55afcb27a444a7bdba",
    "nonce": "b9d9a628b7be42aeaefc0f14d73098b9",
    "prompt": "none"
  }
} 
2018-03-28 17:46:43.0038|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 221.7723ms 302  
2018-03-28 17:46:43.0284|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspDgeX9cJP2LFHWLs9mcO0w_3U2MWzzIG3lza8mpCsCAeFh-fPKdVMIUSDhfPyiBgEAUN3j0iDeuDRUTThrd6kmGlIpLrwBZGcFEclrlkLiusBCicm4f_4dMnc33na9Z_Ue7OIaPTWekYfp13H7bpVpAeBD3D24wS7im3hhln_ykCUqbWzG16Iw1XGMPU46GbpJ7bDDf_HNBSViucynNJJ2vdPVFILtBXTx7gblZY5HSAbAqdc9gfm1ND56qFFqpBPBdU_pglliRLMXRPr_m07lI9IL8fDVIX_dy3kBVP5BxA   
2018-03-28 17:46:43.0450|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:43.0593|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:46:43.0808|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspDgeX9cJP2LFHWLs9mcO0w_3U2MWzzIG3lza8mpCsCAeFh-fPKdVMIUSDhfPyiBgEAUN3j0iDeuDRUTThrd6kmGlIpLrwBZGcFEclrlkLiusBCicm4f_4dMnc33na9Z_Ue7OIaPTWekYfp13H7bpVpAeBD3D24wS7im3hhln_ykCUqbWzG16Iw1XGMPU46GbpJ7bDDf_HNBSViucynNJJ2vdPVFILtBXTx7gblZY5HSAbAqdc9gfm1ND56qFFqpBPBdU_pglliRLMXRPr_m07lI9IL8fDVIX_dy3kBVP5BxA) - ModelState is Valid 
2018-03-28 17:46:43.1044|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:46:43.1548|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 54.4298ms 
2018-03-28 17:46:43.1996|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   
2018-03-28 17:46:43.2297|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 158.0797ms 200 text/html; charset=utf-8 
2018-03-28 17:46:43.4522|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /css/site.css was not modified 
2018-03-28 17:46:43.5868|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 328.3918ms 304 text/css 
2018-03-28 17:48:32.2888|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:48:32.4079|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:48:32.4943|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:48:32.5243|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:48:32.5493|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:48:32.5745|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:48:32.6369|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:48:32.6696|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:48:32.6905|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:48:32.7250|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 432.2658ms 200 application/json; charset=UTF-8 
2018-03-28 17:48:32.7825|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:48:32.8037|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:32.8232|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:32.8612|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:48:32.9900|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:48:33.0394|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:48:33.0689|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:48:33.1106|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 345.2141ms 200 text/html; charset=UTF-8 
2018-03-28 17:48:35.8854|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=493a94d5c9754eabb9669bb66b0bdb53&nonce=1f8aef1c9d4d458e920b1e92b38ffc7d&prompt=none   
2018-03-28 17:48:35.9173|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:36.0042|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:36.0698|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:48:36.1123|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:48:36.1498|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:48:36.1786|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:48:36.2013|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:48:36.2410|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:48:36.3257|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "493a94d5c9754eabb9669bb66b0bdb53",
    "nonce": "1f8aef1c9d4d458e920b1e92b38ffc7d",
    "prompt": "none"
  }
} 
2018-03-28 17:48:36.6223|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:48:36.6924|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "493a94d5c9754eabb9669bb66b0bdb53",
    "nonce": "1f8aef1c9d4d458e920b1e92b38ffc7d",
    "prompt": "none"
  }
} 
2018-03-28 17:48:36.7402|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 838.1369ms 302  
2018-03-28 17:48:36.9008|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsohpkK4t_08aQ4ydZt1Y9FQegxsSl0GgcP-sLDKYHuGoTefhiHcgOvloGaa6RUgp68Sz0D0TbwgpmkPldGacnlcYCFS9ur-H_1vCkyPhMxJd-XnTcwwUJ_LWdHxRJkhkqm5EBiGOwftiImXkHcQAjRcGSEW3W2odYNn-jASM55g17IvhUACdsNUnp13AfcryXL0hrgcPnUnOVOUr4NkqSxZhYGHFdHOTXPb50VfBsvnDHOTx6TBdr7IGan1BVbdOlR_FFHvYYmpQLAYnCd2iuGGnw-KFDgtojWnjQik2E7XTg   
2018-03-28 17:48:36.9256|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:36.9546|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:48:37.0253|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsohpkK4t_08aQ4ydZt1Y9FQegxsSl0GgcP-sLDKYHuGoTefhiHcgOvloGaa6RUgp68Sz0D0TbwgpmkPldGacnlcYCFS9ur-H_1vCkyPhMxJd-XnTcwwUJ_LWdHxRJkhkqm5EBiGOwftiImXkHcQAjRcGSEW3W2odYNn-jASM55g17IvhUACdsNUnp13AfcryXL0hrgcPnUnOVOUr4NkqSxZhYGHFdHOTXPb50VfBsvnDHOTx6TBdr7IGan1BVbdOlR_FFHvYYmpQLAYnCd2iuGGnw-KFDgtojWnjQik2E7XTg) - ModelState is Valid 
2018-03-28 17:48:37.0544|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:48:37.1757|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 98.3765ms 
2018-03-28 17:48:37.4138|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 338.8909ms 200 text/html; charset=utf-8 
2018-03-28 17:50:38.2858|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:50:38.4102|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:50:38.4656|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:50:38.4954|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:50:38.5173|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:50:38.5393|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:50:38.5570|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:50:38.5759|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:50:38.6198|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:50:38.6567|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 360.2721ms 200 application/json; charset=UTF-8 
2018-03-28 17:50:38.7175|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:50:38.7526|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:38.7845|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:38.8338|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:50:38.8796|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:50:38.9036|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:50:38.9421|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:50:39.0153|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 286.5085ms 200 text/html; charset=UTF-8 
2018-03-28 17:50:41.0521|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=761da272cd054154a229200ab8914211&nonce=ddf27d74b62a4657a3ecafa041823284&prompt=none   
2018-03-28 17:50:41.0815|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:41.0998|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:41.1253|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:50:41.1492|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:50:41.1674|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:50:41.1918|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:50:41.2163|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:50:41.2379|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:50:41.2730|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "761da272cd054154a229200ab8914211",
    "nonce": "ddf27d74b62a4657a3ecafa041823284",
    "prompt": "none"
  }
} 
2018-03-28 17:50:41.3023|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:50:41.3283|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "761da272cd054154a229200ab8914211",
    "nonce": "ddf27d74b62a4657a3ecafa041823284",
    "prompt": "none"
  }
} 
2018-03-28 17:50:41.3552|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 294.9939ms 302  
2018-03-28 17:50:41.3919|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsomcjJy4rii3JQyJ25bArtkGu9uOF1w2Q-0WAR5xDsN24iECe7AOvtetcoDbBMJIy1KXJbeXNhdmawt_OpWvrVRRfuIriRx_8aOb2bpBXn9wrXgqjFQ1_-2TtAtvcasChimpEBLrGEYnxe1XyZuJX_qJESNGx1v9lW6UGCUKaqbtXs15lSwQdvwrUHda7AgJjX9a6rL64w4x1v_HXpw5dKGAv7Ct4tAajwn5DAmyHWmOMEgDM5eEALJOrIiYiAirD6ZxN1mbu8X5tPxmeQeFYh_UrPMqCBhkYQWsAgXY7vWSQ   
2018-03-28 17:50:41.4180|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:41.4365|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:50:41.4605|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsomcjJy4rii3JQyJ25bArtkGu9uOF1w2Q-0WAR5xDsN24iECe7AOvtetcoDbBMJIy1KXJbeXNhdmawt_OpWvrVRRfuIriRx_8aOb2bpBXn9wrXgqjFQ1_-2TtAtvcasChimpEBLrGEYnxe1XyZuJX_qJESNGx1v9lW6UGCUKaqbtXs15lSwQdvwrUHda7AgJjX9a6rL64w4x1v_HXpw5dKGAv7Ct4tAajwn5DAmyHWmOMEgDM5eEALJOrIiYiAirD6ZxN1mbu8X5tPxmeQeFYh_UrPMqCBhkYQWsAgXY7vWSQ) - ModelState is Valid 
2018-03-28 17:50:41.4860|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:50:41.7339|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 82.2158ms 
2018-03-28 17:50:41.8926|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 365.8802ms 200 text/html; charset=utf-8 
2018-03-28 17:51:25.8694|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 17:51:25.9119|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 17:51:26.8828|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 17:51:27.2376|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 17:51:27.2663|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 17:51:27.2940|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 17:51:27.3360|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 17:51:27.3767|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 17:51:27.4470|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 17:51:27.7312|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1809.4013ms 200 application/json; charset=UTF-8 
2018-03-28 17:51:27.7633|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 17:51:27.8458|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:28.3038|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:28.4764|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 17:51:28.6452|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 17:51:28.6803|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 17:51:28.7065|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 17:51:28.7837|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 992.8682ms 200 text/html; charset=UTF-8 
2018-03-28 17:51:30.9803|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=0882586c94254606ac9df807d788181f&nonce=13ca742ec8cd42d59d0de9c0e2249836&prompt=none   
2018-03-28 17:51:31.0025|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:31.0371|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:31.0518|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 17:51:31.0680|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 17:51:31.0881|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 17:51:31.1053|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 17:51:31.1248|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 17:51:31.1433|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 17:51:31.1744|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0882586c94254606ac9df807d788181f",
    "nonce": "13ca742ec8cd42d59d0de9c0e2249836",
    "prompt": "none"
  }
} 
2018-03-28 17:51:31.2095|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 17:51:31.2819|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "0882586c94254606ac9df807d788181f",
    "nonce": "13ca742ec8cd42d59d0de9c0e2249836",
    "prompt": "none"
  }
} 
2018-03-28 17:51:31.3216|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 334.4318ms 302  
2018-03-28 17:51:31.3564|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr1nCucHLBiHuLM7J7Uo1tIIX3JKX3hsAJOruzT6omCG1vEGEZBdhC_lrhMkeIPm2-UYf7Qho4GtJWd1gBPpUyInpUspXgHlLaDVqdfkC1E0hfOQOeb7IqitqmZelpVvuKYVXwxlkGym4m7Qvqxq5JO7j1t_Ij020U7MSt-EDveXu-2mWtlfIzHYvnGUzr1XztPGJ4djrtt11OHats-uPumAitNgtRWxjn-hBNnjNME4rz4haaakIXhXMy15H-WnwDrCF9v8GlXimhE6ONtihJhzUQ7VhQKQ6twyk4flzkGyA   
2018-03-28 17:51:31.4052|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:31.4383|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 17:51:31.4775|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr1nCucHLBiHuLM7J7Uo1tIIX3JKX3hsAJOruzT6omCG1vEGEZBdhC_lrhMkeIPm2-UYf7Qho4GtJWd1gBPpUyInpUspXgHlLaDVqdfkC1E0hfOQOeb7IqitqmZelpVvuKYVXwxlkGym4m7Qvqxq5JO7j1t_Ij020U7MSt-EDveXu-2mWtlfIzHYvnGUzr1XztPGJ4djrtt11OHats-uPumAitNgtRWxjn-hBNnjNME4rz4haaakIXhXMy15H-WnwDrCF9v8GlXimhE6ONtihJhzUQ7VhQKQ6twyk4flzkGyA) - ModelState is Valid 
2018-03-28 17:51:31.5249|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 17:51:31.7831|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 85.3757ms 
2018-03-28 17:51:32.6913|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 483.8499ms 200 text/html; charset=utf-8 
2018-03-28 17:52:51.0711|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 17:52:51.3546|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (71ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 17:52:51.4003|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 18:01:20.7718|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:01:20.8388|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:01:21.0291|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:01:21.0817|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:01:21.1157|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:01:21.1514|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:01:21.4506|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:01:21.9698|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:01:22.2698|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:01:23.1303|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1657.9292ms 200 application/json; charset=UTF-8 
2018-03-28 18:01:23.7356|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:01:24.1856|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 18:01:25.3688|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (642ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 18:01:25.4999|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (63ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:01:25.6027|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:01:25.6350|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:01:25.6792|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:01:25.7017|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:25.7226|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:25.7488|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:01:25.7801|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:01:25.8134|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:01:25.8384|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:01:25.8936|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2640.6796ms 200 text/html; charset=UTF-8 
2018-03-28 18:01:28.0835|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=dcb2f617358d4abe9c3cc35370cddef0&nonce=f4bc43c344764c74a72a6aa9d0f3d014&prompt=none   
2018-03-28 18:01:28.1027|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:28.1165|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:28.1297|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:01:28.1495|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:01:28.1664|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:01:28.1843|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:01:28.2032|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:01:28.2198|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:01:28.2378|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dcb2f617358d4abe9c3cc35370cddef0",
    "nonce": "f4bc43c344764c74a72a6aa9d0f3d014",
    "prompt": "none"
  }
} 
2018-03-28 18:01:28.2562|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:01:28.2739|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dcb2f617358d4abe9c3cc35370cddef0",
    "nonce": "f4bc43c344764c74a72a6aa9d0f3d014",
    "prompt": "none"
  }
} 
2018-03-28 18:01:28.2962|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 211.9892ms 302  
2018-03-28 18:01:28.3200|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrhj6hQb-S4pk6YeLQaGMjEevK_bP2HQvcD98dOVi9wehFqC_jBgqdZSZs-b8Cq1GaLuBcQgq1GwHJwMa7fEX_EICTMyTPmIVvYE0ddSuichH_MstIEDga8wWTXs4rdH7KWLJs4gYC2fBP0vsACvRTUBuWZUkSHhZhXpuBGKmVNVdq4AFhejJWQdYamQ_GY_JHddqI9p1-7lBIP7GqiQlShb2keXMkPq92KpMysMwZgHHCDlKlhPx1KPwNtbGhxRe7D8bUAN188BamXN-Uuuop7yAgS_h-zN4Z7oXn2z3iUyQ   
2018-03-28 18:01:28.3377|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:28.3525|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:01:28.3995|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrhj6hQb-S4pk6YeLQaGMjEevK_bP2HQvcD98dOVi9wehFqC_jBgqdZSZs-b8Cq1GaLuBcQgq1GwHJwMa7fEX_EICTMyTPmIVvYE0ddSuichH_MstIEDga8wWTXs4rdH7KWLJs4gYC2fBP0vsACvRTUBuWZUkSHhZhXpuBGKmVNVdq4AFhejJWQdYamQ_GY_JHddqI9p1-7lBIP7GqiQlShb2keXMkPq92KpMysMwZgHHCDlKlhPx1KPwNtbGhxRe7D8bUAN188BamXN-Uuuop7yAgS_h-zN4Z7oXn2z3iUyQ) - ModelState is Valid 
2018-03-28 18:01:28.4207|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:01:28.4683|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 74.2262ms 
2018-03-28 18:01:28.5103|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 164.7569ms 200 text/html; charset=utf-8 
2018-03-28 18:02:25.1679|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:02:25.3005|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:02:25.3562|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:02:25.3788|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:02:25.3979|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:02:25.4154|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:02:25.4437|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:02:25.4791|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:02:25.5829|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:02:26.0119|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 485.7414ms 200 application/json; charset=UTF-8 
2018-03-28 18:02:26.1278|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:02:26.1727|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:26.2027|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:26.2368|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:02:26.2688|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:02:26.3063|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:02:26.3364|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:02:26.6043|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 353.2192ms 200 text/html; charset=UTF-8 
2018-03-28 18:02:28.7150|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=77b7e6b871cc48cc98f9ec8395c8e52a&nonce=dd938d81230744eba44386f07f6ac962&prompt=none   
2018-03-28 18:02:28.7426|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:28.7614|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:28.7767|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:02:28.7920|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:02:28.8091|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:02:28.8459|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:02:28.8601|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:02:28.8764|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:02:28.8952|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77b7e6b871cc48cc98f9ec8395c8e52a",
    "nonce": "dd938d81230744eba44386f07f6ac962",
    "prompt": "none"
  }
} 
2018-03-28 18:02:28.9127|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:02:28.9311|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77b7e6b871cc48cc98f9ec8395c8e52a",
    "nonce": "dd938d81230744eba44386f07f6ac962",
    "prompt": "none"
  }
} 
2018-03-28 18:02:28.9502|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 358.4251ms 302  
2018-03-28 18:02:28.9764|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoxif3e1SaNc6nvzVHUxtMdHYwjH9_56r3KnMg0X4XybiLSKH5RyJKa0EfvjSwD4D1kawY7w0_3qcuNkqmzOBKsw7QIo3O27WeMj7Kf2zgWb-fywGxkGBGLHF4eGClJfYNNGAJyzcl3qn2jloTI8nYLsZiCBsY3TUVtN4uQFBAZyqI6_IokAtpyoxhOgUOCbIVoYU7rZP_6lj1Tm0Y8QixyKrQziZDNNMfk8_l7ycEOktSBkoe471ypdqNJ5Qiq35zQNzzW_vdxbbNmUfGL8wC7AL5Fc04t1Exy2wSnFTa4cw   
2018-03-28 18:02:28.9960|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:29.0101|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:02:29.0322|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoxif3e1SaNc6nvzVHUxtMdHYwjH9_56r3KnMg0X4XybiLSKH5RyJKa0EfvjSwD4D1kawY7w0_3qcuNkqmzOBKsw7QIo3O27WeMj7Kf2zgWb-fywGxkGBGLHF4eGClJfYNNGAJyzcl3qn2jloTI8nYLsZiCBsY3TUVtN4uQFBAZyqI6_IokAtpyoxhOgUOCbIVoYU7rZP_6lj1Tm0Y8QixyKrQziZDNNMfk8_l7ycEOktSBkoe471ypdqNJ5Qiq35zQNzzW_vdxbbNmUfGL8wC7AL5Fc04t1Exy2wSnFTa4cw) - ModelState is Valid 
2018-03-28 18:02:29.0492|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:02:29.3344|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 45.5668ms 
2018-03-28 18:02:29.3674|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 378.7424ms 200 text/html; charset=utf-8 
2018-03-28 18:04:36.4641|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:04:36.5186|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:04:36.6318|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:04:36.6545|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:04:36.6759|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:04:36.7016|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:04:36.7293|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:04:36.7548|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:04:36.7799|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:04:36.9267|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:04:37.0693|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 340.0748ms 200 application/json; charset=UTF-8 
2018-03-28 18:04:37.0999|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:37.1250|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:37.1551|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:04:37.4657|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:04:37.9701|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:04:38.1050|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:04:38.6719|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1250.0977ms 200 text/html; charset=UTF-8 
2018-03-28 18:04:41.0469|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=dbed15efbdc24adabbe8f2524b033af1&nonce=c67a33f03769497dbcd9f760a0dfb323&prompt=none   
2018-03-28 18:04:41.0663|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:41.0863|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:41.1041|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:04:41.1283|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:04:41.1584|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:04:41.1808|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:04:41.1997|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:04:41.2212|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:04:41.2410|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dbed15efbdc24adabbe8f2524b033af1",
    "nonce": "c67a33f03769497dbcd9f760a0dfb323",
    "prompt": "none"
  }
} 
2018-03-28 18:04:41.2623|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:04:41.2847|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dbed15efbdc24adabbe8f2524b033af1",
    "nonce": "c67a33f03769497dbcd9f760a0dfb323",
    "prompt": "none"
  }
} 
2018-03-28 18:04:41.3171|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 304.984ms 302  
2018-03-28 18:04:41.3452|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrtG8Nvd7vgYEvgzMGn6QEdPr5R2Lkh67zC9diK53AXQn1nJQjaf9sw9VflTPQ9NhI46MSx-SJ4FTgTsEXH_LfbNbfrWUyp3GQ5pios6Q-M_JBBZYpJY-FZ-wmAdxf6fsjMMKatVE8dOf5HjMpbtD72GSlGZ34VcABbgZd_M7-yWJRq-irIAfMDpfFTByuwALoC2qP1Eq9m_FvAcIokr1LiUOphEgoHUcWK5N7odS4HJZ0TjoESV74ZwHbLvFG-F65VhZfkng60I3JnpS22oJrgaCbvVh7O7Qy0uhGt_H23-Q   
2018-03-28 18:04:41.4170|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:41.5199|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:04:41.5797|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrtG8Nvd7vgYEvgzMGn6QEdPr5R2Lkh67zC9diK53AXQn1nJQjaf9sw9VflTPQ9NhI46MSx-SJ4FTgTsEXH_LfbNbfrWUyp3GQ5pios6Q-M_JBBZYpJY-FZ-wmAdxf6fsjMMKatVE8dOf5HjMpbtD72GSlGZ34VcABbgZd_M7-yWJRq-irIAfMDpfFTByuwALoC2qP1Eq9m_FvAcIokr1LiUOphEgoHUcWK5N7odS4HJZ0TjoESV74ZwHbLvFG-F65VhZfkng60I3JnpS22oJrgaCbvVh7O7Qy0uhGt_H23-Q) - ModelState is Valid 
2018-03-28 18:04:41.6144|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:04:43.1642|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 95.1102ms 
2018-03-28 18:04:43.3884|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1849.8582ms 200 text/html; charset=utf-8 
2018-03-28 18:06:33.4464|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:06:33.5555|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:06:33.6488|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:06:33.7471|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:06:33.7729|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:06:33.7999|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:06:33.8876|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:06:33.9203|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:06:33.9569|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:06:34.0398|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 554.1526ms 200 application/json; charset=UTF-8 
2018-03-28 18:06:34.0993|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:06:34.3478|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:34.3781|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:34.4246|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:06:34.4604|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:06:34.4835|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:06:34.5156|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:06:34.7695|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 457.0313ms 200 text/html; charset=UTF-8 
2018-03-28 18:06:36.7499|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=63595acf34444d21b728b779eb58d690&nonce=709b52c6805c4e3d84a1b4b441a2e945&prompt=none   
2018-03-28 18:06:36.7787|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:36.8099|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:36.8383|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:06:36.8647|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:06:36.8939|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:06:36.9254|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:06:36.9727|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:06:37.2298|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:06:37.2796|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "63595acf34444d21b728b779eb58d690",
    "nonce": "709b52c6805c4e3d84a1b4b441a2e945",
    "prompt": "none"
  }
} 
2018-03-28 18:06:37.3549|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:06:37.3972|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "63595acf34444d21b728b779eb58d690",
    "nonce": "709b52c6805c4e3d84a1b4b441a2e945",
    "prompt": "none"
  }
} 
2018-03-28 18:06:37.5057|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 684.3499ms 302  
2018-03-28 18:06:37.6154|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq8XQbpVmSu3rA44NSPhfXjwNqLu3ZMlpJtsuP8kYQ9XVqQ6yVSk6qOUEgNnbT1PRe348U69Tv5e-xrdbvg_RITltvc-0bvQuAGjnIXsmGdzEcQ2LCnGjcMU0aOW-9qpfAhvWcgzuDD3eJ7rTLhKS6GW0TGJfT2qgBVIfro1Ti8fX7Vcj1cioP9Chse7XYoVqen-jAMLdHyXjefCxcj1gLTvHgNfSptePPFZHKBrE7VvsHa2r6RnV86QaGg5cwyrEM8ylqihSMGeX-s1sEpPvoWqcHnCZ6AXmp3XOO_9SgGSw   
2018-03-28 18:06:37.6381|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:37.6605|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:06:37.6844|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq8XQbpVmSu3rA44NSPhfXjwNqLu3ZMlpJtsuP8kYQ9XVqQ6yVSk6qOUEgNnbT1PRe348U69Tv5e-xrdbvg_RITltvc-0bvQuAGjnIXsmGdzEcQ2LCnGjcMU0aOW-9qpfAhvWcgzuDD3eJ7rTLhKS6GW0TGJfT2qgBVIfro1Ti8fX7Vcj1cioP9Chse7XYoVqen-jAMLdHyXjefCxcj1gLTvHgNfSptePPFZHKBrE7VvsHa2r6RnV86QaGg5cwyrEM8ylqihSMGeX-s1sEpPvoWqcHnCZ6AXmp3XOO_9SgGSw) - ModelState is Valid 
2018-03-28 18:06:37.8596|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:06:37.9655|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 203.2392ms 
2018-03-28 18:06:37.9897|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 382.2748ms 200 text/html; charset=utf-8 
2018-03-28 18:07:20.9520|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:07:21.2731|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:07:21.3564|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:07:21.3820|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:07:21.6381|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:07:21.7604|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:07:21.8751|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:07:21.9187|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:07:21.9440|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:07:22.0534|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1052.5469ms 200 application/json; charset=UTF-8 
2018-03-28 18:07:22.0662|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:07:22.1053|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:22.1381|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:22.1678|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:07:22.2982|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:07:22.3269|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:07:22.3580|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:07:22.4065|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 311.9376ms 200 text/html; charset=UTF-8 
2018-03-28 18:07:24.5834|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=a1b5617f4cd542d59631efbe6c4f8c16&nonce=3a215525f9f845a99a5a9ff09c427076&prompt=none   
2018-03-28 18:07:24.6096|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:24.6234|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:24.6371|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:07:24.6529|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:07:24.6685|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:07:24.6860|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:07:24.7035|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:07:24.7202|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:07:24.7419|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a1b5617f4cd542d59631efbe6c4f8c16",
    "nonce": "3a215525f9f845a99a5a9ff09c427076",
    "prompt": "none"
  }
} 
2018-03-28 18:07:24.7664|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:07:24.7929|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a1b5617f4cd542d59631efbe6c4f8c16",
    "nonce": "3a215525f9f845a99a5a9ff09c427076",
    "prompt": "none"
  }
} 
2018-03-28 18:07:24.8418|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 249.8949ms 302  
2018-03-28 18:07:24.8776|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoqKVccB-4qljXJHDSzT9ky8tarjxknCF7pFYT5XhGnal933Rm3x6EdFx0wF05wEgW7FZ-m9p3Y-DB-uAHC1mGHMywf_WJFOMIUNXzmIMaSBy-cNYKG3magcnNNAz5sCTTxlJ01xbBEBhOaSVqXutlV9o78MZXOts1SqpN6JAEgS6ddGf_rraJnuBM2wtW2Trr6YgnNDAPEdQT7NHaV5rrOrcVQrJl3bF6i_zxkg_dprR1GVGeAFmjr57bywbhMknD4sL2w5G6zcpfHda-c8E1SYfHELcNVh7J11qnsb2BEnw   
2018-03-28 18:07:24.9968|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:25.0599|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:07:25.1309|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoqKVccB-4qljXJHDSzT9ky8tarjxknCF7pFYT5XhGnal933Rm3x6EdFx0wF05wEgW7FZ-m9p3Y-DB-uAHC1mGHMywf_WJFOMIUNXzmIMaSBy-cNYKG3magcnNNAz5sCTTxlJ01xbBEBhOaSVqXutlV9o78MZXOts1SqpN6JAEgS6ddGf_rraJnuBM2wtW2Trr6YgnNDAPEdQT7NHaV5rrOrcVQrJl3bF6i_zxkg_dprR1GVGeAFmjr57bywbhMknD4sL2w5G6zcpfHda-c8E1SYfHELcNVh7J11qnsb2BEnw) - ModelState is Valid 
2018-03-28 18:07:25.1632|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:07:25.1947|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 106.9374ms 
2018-03-28 18:07:25.2649|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 344.5439ms 200 text/html; charset=utf-8 
2018-03-28 18:09:07.5623|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:09:07.6754|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:09:07.8053|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:09:07.8395|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:09:07.8646|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:09:07.9242|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:09:07.9571|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:09:07.9843|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:09:08.0147|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:09:08.1295|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 481.4944ms 200 application/json; charset=UTF-8 
2018-03-28 18:09:08.1793|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:09:08.2931|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:08.3236|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:08.3720|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:09:08.6358|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:09:08.6688|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:09:08.6897|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:09:08.7751|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 575.3901ms 200 text/html; charset=UTF-8 
2018-03-28 18:09:11.4403|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=c328267736e8423ea4521e6a6d100bd9&nonce=b776308587b44405b02494ff5ab6465a&prompt=none   
2018-03-28 18:09:11.5066|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:11.6349|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:11.6641|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:09:11.6981|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:09:11.7175|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:09:11.7370|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:09:11.7625|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:09:11.7841|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:09:11.8085|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c328267736e8423ea4521e6a6d100bd9",
    "nonce": "b776308587b44405b02494ff5ab6465a",
    "prompt": "none"
  }
} 
2018-03-28 18:09:11.8445|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:09:11.8839|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "c328267736e8423ea4521e6a6d100bd9",
    "nonce": "b776308587b44405b02494ff5ab6465a",
    "prompt": "none"
  }
} 
2018-03-28 18:09:11.9249|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 586.5429ms 302  
2018-03-28 18:09:11.9611|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrKdcidiEzZaImXGdxl5FAEvZRvKrqwnis6lxENxWF7cxBGhAbTtJwGYARreElEDG7kk4IPQrisoO_Nb26GBBhRbWi4SOK225Bl-_M918Mgj6X0BVx8a8IFWrXPaIeCRC7xfJN1m3OugKiGjQXCMP1Hg57loHfVFdwNY7VhRFwD14VV2d6niMytGV2WKpHwti9H-LBVgwmGmu9Z2PUYpGKMwRtqyUtBjy5-KWy1uX2j5tb68CB54OfFJTr_rtFKKdYkCoSA4nk79cndymDD4k1UslPCm5Gn7M1BsB1mC1w-Ug   
2018-03-28 18:09:11.9818|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:12.0201|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:12.0510|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrKdcidiEzZaImXGdxl5FAEvZRvKrqwnis6lxENxWF7cxBGhAbTtJwGYARreElEDG7kk4IPQrisoO_Nb26GBBhRbWi4SOK225Bl-_M918Mgj6X0BVx8a8IFWrXPaIeCRC7xfJN1m3OugKiGjQXCMP1Hg57loHfVFdwNY7VhRFwD14VV2d6niMytGV2WKpHwti9H-LBVgwmGmu9Z2PUYpGKMwRtqyUtBjy5-KWy1uX2j5tb68CB54OfFJTr_rtFKKdYkCoSA4nk79cndymDD4k1UslPCm5Gn7M1BsB1mC1w-Ug) - ModelState is Valid 
2018-03-28 18:09:12.1500|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:09:12.1980|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 135.9343ms 
2018-03-28 18:09:12.6019|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 272.3716ms 200 text/html; charset=utf-8 
2018-03-28 18:09:45.2443|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:09:45.2775|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:09:45.5009|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:09:45.5228|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:09:45.5465|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:09:45.5625|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:09:45.5855|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:09:45.6133|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:09:45.6476|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:09:45.7313|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 424.8877ms 200 application/json; charset=UTF-8 
2018-03-28 18:09:45.8009|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:09:45.8276|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:45.8583|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:45.8901|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:09:45.9170|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:09:45.9542|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:09:46.0109|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:09:46.0900|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 289.3324ms 200 text/html; charset=UTF-8 
2018-03-28 18:09:48.2124|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=19e499cde571408fae8538617c9a93e5&nonce=2697667bf34d474da71b1480482cbfe8&prompt=none   
2018-03-28 18:09:48.2301|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:48.2460|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:48.2637|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:09:48.2820|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:09:48.2988|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:09:48.3189|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:09:48.3349|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:09:48.3530|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:09:48.3754|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "19e499cde571408fae8538617c9a93e5",
    "nonce": "2697667bf34d474da71b1480482cbfe8",
    "prompt": "none"
  }
} 
2018-03-28 18:09:48.3929|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:09:48.4125|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "19e499cde571408fae8538617c9a93e5",
    "nonce": "2697667bf34d474da71b1480482cbfe8",
    "prompt": "none"
  }
} 
2018-03-28 18:09:48.4308|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 220.9169ms 302  
2018-03-28 18:09:48.4510|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrGMEGAodLtDmixYuBORNH06h997cqo6ruMA1FUlFxdobvxYPHEkZnubpnpML2Y17lWcv1HK5_Goaex9VgGIqRDkmnSe3xUfypqibnePBvgf47vQPsr2zwL9qNvGnRtEAB8PhZdKkYQMemcO-nCot4om2JqNz9jHwYLwMzqyj52KlWN7ix6LXMalQYGz8OHiXIp0IvBmDxUrgghVUpMT_tj27GXx1T35YyZht4Zom8gVtSSDBiKOrXHbrsnVVwE3czyd1H3rO1LTheoJ6Vrd5_OUy5eIkt80so61yA5bWJ_fA   
2018-03-28 18:09:48.4724|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:48.4882|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:09:48.5057|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrGMEGAodLtDmixYuBORNH06h997cqo6ruMA1FUlFxdobvxYPHEkZnubpnpML2Y17lWcv1HK5_Goaex9VgGIqRDkmnSe3xUfypqibnePBvgf47vQPsr2zwL9qNvGnRtEAB8PhZdKkYQMemcO-nCot4om2JqNz9jHwYLwMzqyj52KlWN7ix6LXMalQYGz8OHiXIp0IvBmDxUrgghVUpMT_tj27GXx1T35YyZht4Zom8gVtSSDBiKOrXHbrsnVVwE3czyd1H3rO1LTheoJ6Vrd5_OUy5eIkt80so61yA5bWJ_fA) - ModelState is Valid 
2018-03-28 18:09:48.5249|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:09:48.7205|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 39.8075ms 
2018-03-28 18:09:48.7665|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 290.4114ms 200 text/html; charset=utf-8 
2018-03-28 18:10:20.9254|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:10:21.1100|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:10:21.2078|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:10:21.2274|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:10:21.2581|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:10:21.2756|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:10:21.2947|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:10:21.3103|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:10:21.3279|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:10:21.3713|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 417.0697ms 200 application/json; charset=UTF-8 
2018-03-28 18:10:21.4161|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:10:21.4519|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:21.5801|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:21.9189|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:10:21.9401|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:10:21.9577|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:10:21.9776|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:10:22.0142|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 608.46ms 200 text/html; charset=UTF-8 
2018-03-28 18:10:24.2070|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ef28d65af71c47109a6174f35b4bd9f9&nonce=cc88b62949e443cd88433bb60b5aff77&prompt=none   
2018-03-28 18:10:24.2293|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:24.2472|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:24.2631|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:10:24.2801|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:10:24.2980|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:10:24.3151|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:10:24.3308|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:10:24.3583|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:10:24.3804|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ef28d65af71c47109a6174f35b4bd9f9",
    "nonce": "cc88b62949e443cd88433bb60b5aff77",
    "prompt": "none"
  }
} 
2018-03-28 18:10:24.3991|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:10:24.4169|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ef28d65af71c47109a6174f35b4bd9f9",
    "nonce": "cc88b62949e443cd88433bb60b5aff77",
    "prompt": "none"
  }
} 
2018-03-28 18:10:24.4435|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 235.1956ms 302  
2018-03-28 18:10:24.4895|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqVYQ0RLvQhvmImf8VCT7xqN6ww7bGT9z3M2qFRco4BiTRylur7qGjsdLLyecDYHM9tJ9R5rKS6MS9ZZtfx2Z_s0JPVcFQr9_CDrPCAYe4hqTwMMeqpPJP3-nuOSO0Z2efUvSWNaKlQTMH9p-wPVdre7_n-EdpLecgxOC7y_GGWAyYby9c0nP-Su2hqI5l6Pr3h9_Xd9XFGUTwbxhGKYah73L6oOMmq_lVnxlriSWHGdsMv6Ilcfr8tRKc96zkevKs0S0F_Nlm8J2ZoZOkS8MtmTl4JqseH_06arfFx5shxWg   
2018-03-28 18:10:24.5096|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:24.5312|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:10:24.5626|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqVYQ0RLvQhvmImf8VCT7xqN6ww7bGT9z3M2qFRco4BiTRylur7qGjsdLLyecDYHM9tJ9R5rKS6MS9ZZtfx2Z_s0JPVcFQr9_CDrPCAYe4hqTwMMeqpPJP3-nuOSO0Z2efUvSWNaKlQTMH9p-wPVdre7_n-EdpLecgxOC7y_GGWAyYby9c0nP-Su2hqI5l6Pr3h9_Xd9XFGUTwbxhGKYah73L6oOMmq_lVnxlriSWHGdsMv6Ilcfr8tRKc96zkevKs0S0F_Nlm8J2ZoZOkS8MtmTl4JqseH_06arfFx5shxWg) - ModelState is Valid 
2018-03-28 18:10:24.6044|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:10:24.6986|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 73.5225ms 
2018-03-28 18:10:24.7578|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 260.6346ms 200 text/html; charset=utf-8 
2018-03-28 18:11:23.2168|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:11:23.3103|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:11:24.6462|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:11:25.9028|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:11:26.3372|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:11:27.4811|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:11:28.1559|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:11:28.6623|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:11:28.7680|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:11:28.9894|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6553.8099ms 200 application/json; charset=UTF-8 
2018-03-28 18:11:29.0314|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:11:29.3233|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:29.3569|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:29.3894|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:11:29.4149|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:11:29.4344|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:11:29.4559|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:11:29.5751|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 475.4048ms 200 text/html; charset=UTF-8 
2018-03-28 18:11:31.9335|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=2c3f78aac50f4326a789d0ef0264d11b&nonce=f9d152438805435aae075e4d706edf60&prompt=none   
2018-03-28 18:11:32.2907|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:33.6751|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:34.8759|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:11:34.9633|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:11:35.0204|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:11:35.0835|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:11:35.1269|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:11:35.1819|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:11:35.2499|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2c3f78aac50f4326a789d0ef0264d11b",
    "nonce": "f9d152438805435aae075e4d706edf60",
    "prompt": "none"
  }
} 
2018-03-28 18:11:35.4442|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:11:35.4726|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "2c3f78aac50f4326a789d0ef0264d11b",
    "nonce": "f9d152438805435aae075e4d706edf60",
    "prompt": "none"
  }
} 
2018-03-28 18:11:35.5780|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3744.2006ms 0  
2018-03-28 18:11:41.6890|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:11:41.7151|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:11:41.8387|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:11:42.4304|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:11:42.4835|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:11:42.5071|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:11:42.5319|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:11:42.5563|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:11:42.5937|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:11:42.7820|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1094.4249ms 200 application/json; charset=UTF-8 
2018-03-28 18:11:42.8157|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:11:42.9902|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:43.0248|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:43.0516|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:11:43.0719|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:11:43.0954|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:11:43.1153|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:11:43.1621|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 351.6554ms 200 text/html; charset=UTF-8 
2018-03-28 18:11:45.8278|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=77025df58b9d4a5b9930fe9d6beea5d8&nonce=afedc8e1dc2d4207914589726c07cf17&prompt=none   
2018-03-28 18:11:45.8957|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:45.9130|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:45.9311|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:11:45.9553|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:11:45.9735|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:11:46.0049|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:11:46.0299|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:11:46.1401|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:11:46.1834|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77025df58b9d4a5b9930fe9d6beea5d8",
    "nonce": "afedc8e1dc2d4207914589726c07cf17",
    "prompt": "none"
  }
} 
2018-03-28 18:11:46.2404|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:11:46.2780|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77025df58b9d4a5b9930fe9d6beea5d8",
    "nonce": "afedc8e1dc2d4207914589726c07cf17",
    "prompt": "none"
  }
} 
2018-03-28 18:11:46.3149|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 647.7363ms 302  
2018-03-28 18:11:46.3599|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoRnGFbG45lbOFHrm21cIt912qUzQC2fKWB197JeOAz6Asm-3teejdBhJKrSJMm_pYuvYxmAmoRFgcLtSz4OTx77Un0TjtXQiwCCyXv2H3gDEW1SO6FJW2C8FqdXwfwK22kc8CAUlXx7vDFmXljSMH_E6UBCYFIeeYcwapwoVrNneycG-XIkQvLx-rHNj0Fji42v9qzCm9qid6vDz3Ob5XWjIApKFHvJvNcZuqmsLKz4wWDCmqC5do-JuQTKWF83-suVZ1l6jScAMc47B6ro0_zxFdMHO8RXPlNJNUmdu1NXQ   
2018-03-28 18:11:46.3914|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:46.4417|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:11:46.4703|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoRnGFbG45lbOFHrm21cIt912qUzQC2fKWB197JeOAz6Asm-3teejdBhJKrSJMm_pYuvYxmAmoRFgcLtSz4OTx77Un0TjtXQiwCCyXv2H3gDEW1SO6FJW2C8FqdXwfwK22kc8CAUlXx7vDFmXljSMH_E6UBCYFIeeYcwapwoVrNneycG-XIkQvLx-rHNj0Fji42v9qzCm9qid6vDz3Ob5XWjIApKFHvJvNcZuqmsLKz4wWDCmqC5do-JuQTKWF83-suVZ1l6jScAMc47B6ro0_zxFdMHO8RXPlNJNUmdu1NXQ) - ModelState is Valid 
2018-03-28 18:11:46.5128|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:11:46.5985|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 75.9291ms 
2018-03-28 18:11:46.9640|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 272.839ms 200 text/html; charset=utf-8 
2018-03-28 18:12:52.4359|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:12:52.5019|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:12:52.5786|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:12:52.6110|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:12:52.6364|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:12:52.6629|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:12:52.6921|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:12:52.7211|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:12:53.0459|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:12:53.9405|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 785.443ms 200 application/json; charset=UTF-8 
2018-03-28 18:12:53.9831|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:12:54.0022|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:54.0225|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:54.1331|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:12:54.1716|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:12:54.1991|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:12:54.2195|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:12:54.2505|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 287.5988ms 200 text/html; charset=UTF-8 
2018-03-28 18:12:56.5384|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4ea638b2453e4c6eba77b1d451b848bf&nonce=18f1793386ba4e3bb9b27c1e95b7e775&prompt=none   
2018-03-28 18:12:56.5657|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:56.5896|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:56.6158|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:12:56.6457|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:12:56.6708|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:12:56.6915|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:12:56.7081|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:12:56.7249|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:12:56.7464|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4ea638b2453e4c6eba77b1d451b848bf",
    "nonce": "18f1793386ba4e3bb9b27c1e95b7e775",
    "prompt": "none"
  }
} 
2018-03-28 18:12:56.7664|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:12:56.7892|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4ea638b2453e4c6eba77b1d451b848bf",
    "nonce": "18f1793386ba4e3bb9b27c1e95b7e775",
    "prompt": "none"
  }
} 
2018-03-28 18:12:56.8193|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 280.3276ms 302  
2018-03-28 18:12:56.8549|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqlX6Nq_DUBf9ZMtV664T-7GOVh3BEg_9jRmmdXUoCIVT2r26r2VUdCshgM5hol6qeMcKvVfL2O_juqFAgyr2ao-WpVPwNxxXaKOMoHi_FzLLr_K-VI_yBrRlSPqdqge6sWlC9DPveljUNSGssugtoi6U9Ly-uz24KMQyDwEjMyBsUZEODbXhtTai6wSTCBq6djPYqpuFpA3oIZhJm2GkPI914lCXUm83rQj17wmrZWbihDvuxYi4YFfQN996r3Pb8R-_AkbU2Wajz5WUa_796wE5cVzlRG_3AE_y688FJlUw   
2018-03-28 18:12:56.8824|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:56.9374|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:12:57.0361|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqlX6Nq_DUBf9ZMtV664T-7GOVh3BEg_9jRmmdXUoCIVT2r26r2VUdCshgM5hol6qeMcKvVfL2O_juqFAgyr2ao-WpVPwNxxXaKOMoHi_FzLLr_K-VI_yBrRlSPqdqge6sWlC9DPveljUNSGssugtoi6U9Ly-uz24KMQyDwEjMyBsUZEODbXhtTai6wSTCBq6djPYqpuFpA3oIZhJm2GkPI914lCXUm83rQj17wmrZWbihDvuxYi4YFfQN996r3Pb8R-_AkbU2Wajz5WUa_796wE5cVzlRG_3AE_y688FJlUw) - ModelState is Valid 
2018-03-28 18:12:57.0939|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:12:57.2481|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 161.0605ms 
2018-03-28 18:12:57.2796|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 421.6064ms 200 text/html; charset=utf-8 
2018-03-28 18:13:40.8067|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:13:40.9224|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:13:41.0462|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:13:41.0902|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:13:41.1097|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:13:41.1357|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:13:41.1774|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:13:41.2112|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:13:41.2423|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:13:41.5089|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 457.9766ms 200 application/json; charset=UTF-8 
2018-03-28 18:13:41.5974|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:13:41.6477|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:41.6666|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:41.6918|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:13:41.7172|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:13:41.7367|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:13:41.7619|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:13:41.8477|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 471.371ms 200 text/html; charset=UTF-8 
2018-03-28 18:13:44.0410|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=a7daef9a0863416d9c3499f30dcff7fb&nonce=307cd589ffcb43d2b7876aad292c90bf&prompt=none   
2018-03-28 18:13:44.1034|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:44.1211|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:44.1397|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:13:44.1648|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:13:44.1861|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:13:44.2397|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:13:44.4845|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:13:44.5412|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:13:44.5977|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a7daef9a0863416d9c3499f30dcff7fb",
    "nonce": "307cd589ffcb43d2b7876aad292c90bf",
    "prompt": "none"
  }
} 
2018-03-28 18:13:44.7895|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:13:44.8357|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a7daef9a0863416d9c3499f30dcff7fb",
    "nonce": "307cd589ffcb43d2b7876aad292c90bf",
    "prompt": "none"
  }
} 
2018-03-28 18:13:44.8725|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 841.4806ms 302  
2018-03-28 18:13:44.9163|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrakNcrJHow4wDeWiTXa0HgI6kKF_m0605_Y5VeIePn2n3UqNwr4tNO3luJJwamdAYnX5EN1AyRXkr3QSxejEgjQnfKMFhlqJEWxbH5pzud5sYGB_GSow5QJ_dZnHl44UZW7Ff3z3pMfAfw4rMNBpo0FkFIBl9Vy3KzEaITuOUDZz3RRfm4b5S8t32nJU2tAHnMVnBilTep_ejlnVcAh0GSdt-XFZjHjRRURaYGN52glotEJlrJ7IrjQSfYcXSPmcar0zHvWyd4RSJTdRPuYyMVCwQzC0M5nG-_icB-dDENrg   
2018-03-28 18:13:45.0087|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:45.2400|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:13:45.3737|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrakNcrJHow4wDeWiTXa0HgI6kKF_m0605_Y5VeIePn2n3UqNwr4tNO3luJJwamdAYnX5EN1AyRXkr3QSxejEgjQnfKMFhlqJEWxbH5pzud5sYGB_GSow5QJ_dZnHl44UZW7Ff3z3pMfAfw4rMNBpo0FkFIBl9Vy3KzEaITuOUDZz3RRfm4b5S8t32nJU2tAHnMVnBilTep_ejlnVcAh0GSdt-XFZjHjRRURaYGN52glotEJlrJ7IrjQSfYcXSPmcar0zHvWyd4RSJTdRPuYyMVCwQzC0M5nG-_icB-dDENrg) - ModelState is Valid 
2018-03-28 18:13:45.4105|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:13:45.8264|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 172.5219ms 
2018-03-28 18:13:46.5584|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 945.1145ms 200 text/html; charset=utf-8 
2018-03-28 18:16:36.0881|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:16:36.2391|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:16:36.4849|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:16:36.5721|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:16:36.6446|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:16:36.6757|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:16:37.1722|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:16:37.4069|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:16:37.4565|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:16:37.6030|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1422.6324ms 200 application/json; charset=UTF-8 
2018-03-28 18:16:37.9401|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:16:38.5065|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:38.5690|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:38.6943|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:16:38.7197|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:16:38.7677|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:16:38.7939|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:16:38.8611|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1241.7508ms 200 text/html; charset=UTF-8 
2018-03-28 18:16:41.0332|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=33c82617c8a14750bb6dd7a85dfa111d&nonce=aa2bbe07679b48b39ad2330c435be54c&prompt=none   
2018-03-28 18:16:41.0695|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:41.0949|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:41.1281|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:16:41.2132|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:16:41.2583|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:16:41.2955|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:16:41.3387|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:16:41.3702|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:16:41.4129|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "33c82617c8a14750bb6dd7a85dfa111d",
    "nonce": "aa2bbe07679b48b39ad2330c435be54c",
    "prompt": "none"
  }
} 
2018-03-28 18:16:41.4802|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:16:41.5385|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "33c82617c8a14750bb6dd7a85dfa111d",
    "nonce": "aa2bbe07679b48b39ad2330c435be54c",
    "prompt": "none"
  }
} 
2018-03-28 18:16:41.5785|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 525.7696ms 302  
2018-03-28 18:16:41.6399|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsojGsMXP5r7X2Mt22SCp2ysKQWV9vUueqyBzY4qpBqsvVxPaPS7WCtZBLo-HpNuThjSWoEMUXVK16milizzVkDGfshIp2WLDzCX5iwCgEMYCRetCBj2_5zXJP6HlTVuT8XWlgaCwna71aPziJteUqGay1v51vyNvr1r7HyC5bl6VVfGuqqaHFhsbgg__q-5D0ThbcyUCRI1InnMjLsoRxkufocFYtVJT5dAzrJ0-gH7wxpv2ClD_IlRsLNTqsN2LmrtSvQz7Ovis51n9JYSW1yrKiW3Ufit5fezCyZ5kgKUrw   
2018-03-28 18:16:41.7125|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:41.7606|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:16:41.8622|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsojGsMXP5r7X2Mt22SCp2ysKQWV9vUueqyBzY4qpBqsvVxPaPS7WCtZBLo-HpNuThjSWoEMUXVK16milizzVkDGfshIp2WLDzCX5iwCgEMYCRetCBj2_5zXJP6HlTVuT8XWlgaCwna71aPziJteUqGay1v51vyNvr1r7HyC5bl6VVfGuqqaHFhsbgg__q-5D0ThbcyUCRI1InnMjLsoRxkufocFYtVJT5dAzrJ0-gH7wxpv2ClD_IlRsLNTqsN2LmrtSvQz7Ovis51n9JYSW1yrKiW3Ufit5fezCyZ5kgKUrw) - ModelState is Valid 
2018-03-28 18:16:41.9382|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:16:42.1529|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 171.3565ms 
2018-03-28 18:16:42.1931|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 552.3495ms 200 text/html; charset=utf-8 
2018-03-28 18:17:06.0538|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:17:06.0871|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:17:06.1383|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:17:06.1568|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:17:06.1777|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:17:06.1923|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:17:06.2112|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:17:06.2280|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:17:06.2451|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:17:06.2990|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 320.4031ms 200 application/json; charset=UTF-8 
2018-03-28 18:17:06.5532|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:17:06.6299|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:06.6645|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:06.6886|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:17:06.7200|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:17:06.7456|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:17:06.7670|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:17:06.8267|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 335.8213ms 200 text/html; charset=UTF-8 
2018-03-28 18:17:09.1481|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=dc81a53e776342b4b060f57f4ba73cd3&nonce=1c00078a7cd44141807aca03bf877652&prompt=none   
2018-03-28 18:17:09.2156|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:09.2784|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:09.3433|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:17:09.3895|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:17:09.4697|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:17:09.5045|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:17:09.5472|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:17:09.5758|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:17:09.6094|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dc81a53e776342b4b060f57f4ba73cd3",
    "nonce": "1c00078a7cd44141807aca03bf877652",
    "prompt": "none"
  }
} 
2018-03-28 18:17:09.6361|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:17:09.6873|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "dc81a53e776342b4b060f57f4ba73cd3",
    "nonce": "1c00078a7cd44141807aca03bf877652",
    "prompt": "none"
  }
} 
2018-03-28 18:17:09.7196|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 573.7879ms 302  
2018-03-28 18:17:09.7619|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspOGGzCFK4Wb-WWYGsjS_iL5Z8pjIYy6l1RxzkFPuE_i3gZTixsqFptMejK5atX0mPY748WU1WMVb7mqKmeaDMwGl8J6JTtgJl01HHnAbOsa7WSo5orvp4S69AFRvTDjPC2uURETiW1anORyLQDZXfVbalcD-Onul1GIFBCKFWsAyhIJ1ZJD9uxwh84A5nFy9uUkMBfNs5HcnkLPf4xbBljLj4Bp7kDVs-0Zr9FXvMTE9rZGELMgpvNI7Rb34S13NLM-hEsudnGQ9d7S0TNnXQwbONtb81cXdJIxbPZnPzR3A   
2018-03-28 18:17:09.7886|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:09.8181|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:09.8380|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspOGGzCFK4Wb-WWYGsjS_iL5Z8pjIYy6l1RxzkFPuE_i3gZTixsqFptMejK5atX0mPY748WU1WMVb7mqKmeaDMwGl8J6JTtgJl01HHnAbOsa7WSo5orvp4S69AFRvTDjPC2uURETiW1anORyLQDZXfVbalcD-Onul1GIFBCKFWsAyhIJ1ZJD9uxwh84A5nFy9uUkMBfNs5HcnkLPf4xbBljLj4Bp7kDVs-0Zr9FXvMTE9rZGELMgpvNI7Rb34S13NLM-hEsudnGQ9d7S0TNnXQwbONtb81cXdJIxbPZnPzR3A) - ModelState is Valid 
2018-03-28 18:17:09.8631|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:17:10.2124|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 48.4597ms 
2018-03-28 18:17:10.2478|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 478.5869ms 200 text/html; charset=utf-8 
2018-03-28 18:17:49.4533|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:17:49.8093|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:17:51.2690|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:17:51.3069|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:17:51.3440|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:17:51.3692|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:17:51.3880|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:17:51.4056|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:17:51.4234|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:17:51.4447|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1987.5479ms 200 application/json; charset=UTF-8 
2018-03-28 18:17:51.4938|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:17:51.5128|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:51.5276|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:51.5470|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:17:51.5666|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:17:51.5877|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:17:51.6120|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:17:51.6441|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 138.1519ms 200 text/html; charset=UTF-8 
2018-03-28 18:17:53.8859|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4b5e3986f9ed46a1a7231c70e636ce5f&nonce=7d6b77b3f4ea4df1babffe9cb1d664c1&prompt=none   
2018-03-28 18:17:53.9096|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:53.9430|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:53.9878|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:17:54.0194|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:17:54.0554|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:17:54.1220|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:17:54.2447|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:17:54.3214|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:17:54.3747|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4b5e3986f9ed46a1a7231c70e636ce5f",
    "nonce": "7d6b77b3f4ea4df1babffe9cb1d664c1",
    "prompt": "none"
  }
} 
2018-03-28 18:17:54.4048|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:17:54.4749|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4b5e3986f9ed46a1a7231c70e636ce5f",
    "nonce": "7d6b77b3f4ea4df1babffe9cb1d664c1",
    "prompt": "none"
  }
} 
2018-03-28 18:17:54.5747|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 629.8676ms 302  
2018-03-28 18:17:54.6241|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrWKBKKV2Fnidj7a9FQESAu5BlaOHExC8SlrjwM2tPmX6S6HIXgsOoIoExkLwSnGMUFTV1xyPQUneHdtWC61ZVIRafn8QwD5hIYczU4f4O-US4hzVRyimf3P2BkIKIfERDJtrH_h7dDyQgBeCZ317eeJA-HDWnEEFZBT8DhaaYyP_TQinthO3NbDOGvCPAMGq3icMRt3T_CszHN3zW-s0QOlgq-ZEXj4liEM1ieQbH8QDvfxwi2IJ7d9KQoX2ZDdduSwswQzn2B8WvKfFPIJ7bMo2pFq4uFu9fZarB5vY-mHQ   
2018-03-28 18:17:54.6544|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:54.6823|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:17:54.7094|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrWKBKKV2Fnidj7a9FQESAu5BlaOHExC8SlrjwM2tPmX6S6HIXgsOoIoExkLwSnGMUFTV1xyPQUneHdtWC61ZVIRafn8QwD5hIYczU4f4O-US4hzVRyimf3P2BkIKIfERDJtrH_h7dDyQgBeCZ317eeJA-HDWnEEFZBT8DhaaYyP_TQinthO3NbDOGvCPAMGq3icMRt3T_CszHN3zW-s0QOlgq-ZEXj4liEM1ieQbH8QDvfxwi2IJ7d9KQoX2ZDdduSwswQzn2B8WvKfFPIJ7bMo2pFq4uFu9fZarB5vY-mHQ) - ModelState is Valid 
2018-03-28 18:17:54.7420|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:17:54.8336|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 72.6954ms 
2018-03-28 18:17:55.9424|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 253.458ms 200 text/html; charset=utf-8 
2018-03-28 18:21:14.0559|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:21:14.0777|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:21:14.1211|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:21:14.1464|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:21:14.1724|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:21:14.2032|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:21:14.2242|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:21:14.2473|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:21:14.2687|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:21:14.3040|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 233.679ms 200 application/json; charset=UTF-8 
2018-03-28 18:21:14.4030|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:21:14.4216|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:14.4520|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:14.4843|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:21:14.5067|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:21:14.5398|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:21:14.6297|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:21:14.6881|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 250.4068ms 200 text/html; charset=UTF-8 
2018-03-28 18:21:17.4195|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=bab62e304a024b1582be310909b11d18&nonce=5c6dc0ec0f8b4817a11fbb23d1376b14&prompt=none   
2018-03-28 18:21:17.4686|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:17.5149|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:17.5605|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:21:17.5899|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:21:17.6138|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:21:17.6422|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:21:17.6825|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:21:17.7665|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:21:17.8255|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "bab62e304a024b1582be310909b11d18",
    "nonce": "5c6dc0ec0f8b4817a11fbb23d1376b14",
    "prompt": "none"
  }
} 
2018-03-28 18:21:17.8582|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:21:18.0099|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "bab62e304a024b1582be310909b11d18",
    "nonce": "5c6dc0ec0f8b4817a11fbb23d1376b14",
    "prompt": "none"
  }
} 
2018-03-28 18:21:18.1071|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 730.6105ms 302  
2018-03-28 18:21:18.1839|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspzFZPq68hYd8-2HFB6026KOvpY21H01LnbuUWTUkJZx7NXMJgZxHhVW_Odw4fyHz2_nHHZENfbnRZ-aYFzve9_Zbm2XSgbd8dYZ48yXJtOmTci4vjEaLOodMM_FurUqWAm1Uq-T2HQ7fZqZ5hRXf3_SSrrpOtxxGfhW3bDdESoQatzRbeAJ9PSyuZ6Pw6_rnbfWzWq6tDrpBKeR9yuD00d9dQPC16MgVEfpD_xJeCNji-JB5m0amYANnnld6fewYoP2l-Uo9atGPP4AQy6Vi1_2714JdF_fCooY4imFjZvxg   
2018-03-28 18:21:18.2057|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:18.2400|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:21:18.2873|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspzFZPq68hYd8-2HFB6026KOvpY21H01LnbuUWTUkJZx7NXMJgZxHhVW_Odw4fyHz2_nHHZENfbnRZ-aYFzve9_Zbm2XSgbd8dYZ48yXJtOmTci4vjEaLOodMM_FurUqWAm1Uq-T2HQ7fZqZ5hRXf3_SSrrpOtxxGfhW3bDdESoQatzRbeAJ9PSyuZ6Pw6_rnbfWzWq6tDrpBKeR9yuD00d9dQPC16MgVEfpD_xJeCNji-JB5m0amYANnnld6fewYoP2l-Uo9atGPP4AQy6Vi1_2714JdF_fCooY4imFjZvxg) - ModelState is Valid 
2018-03-28 18:21:18.3180|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:21:18.4159|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 72.8741ms 
2018-03-28 18:21:18.4580|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 295.5738ms 200 text/html; charset=utf-8 
2018-03-28 18:22:29.3986|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:22:29.4866|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:22:29.5440|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:22:29.5700|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:22:29.5936|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:22:29.6093|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:22:29.6296|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:22:29.6489|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:22:29.8894|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:22:30.1590|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 704.662ms 200 application/json; charset=UTF-8 
2018-03-28 18:22:30.4022|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:22:30.4432|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:30.4700|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:30.5008|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:22:30.5961|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:22:30.7750|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:22:30.9510|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:22:31.1024|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 777.1972ms 200 text/html; charset=UTF-8 
2018-03-28 18:22:33.2353|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=85bccb2092c444b6b8cc24dd11447c80&nonce=427da2a4cd7e4e13baad2d96da728443&prompt=none   
2018-03-28 18:22:33.2695|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:33.2989|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:33.3185|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:22:33.3458|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:22:33.3675|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:22:33.3941|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:22:33.4171|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:22:33.4386|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:22:33.4635|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "85bccb2092c444b6b8cc24dd11447c80",
    "nonce": "427da2a4cd7e4e13baad2d96da728443",
    "prompt": "none"
  }
} 
2018-03-28 18:22:33.5254|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:22:33.7199|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "85bccb2092c444b6b8cc24dd11447c80",
    "nonce": "427da2a4cd7e4e13baad2d96da728443",
    "prompt": "none"
  }
} 
2018-03-28 18:22:33.7748|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 527.341ms 302  
2018-03-28 18:22:34.0099|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqJyphUuSYsZQ2USjFa0DF8x4duezs4le7-CoW9lbRReCb_qGnQefsq_5lYyu5JDkF7HJxzjI8x4WLDQHSGU-AOooHV1AVBFHn1IcV472A_M0aHmWMB2KiTs5mJeuoJZX_Qw962SdVE1h9bm3MZrzJ_TcltY647PT03p2hZgCN1XAjLEvOTdE1zD30DmnlLfRZ_pwXjYsab6R5KCk7Roq6DyEA_smZFs5BX9NRyXE9E__gMkhAUuuWt7CRJpsC5kPgmbSZDfJ4dAZ_illC3bfLhcsMVy_nnD_QAmEgrhDbg9Q   
2018-03-28 18:22:34.0624|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:34.0844|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:22:34.1146|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqJyphUuSYsZQ2USjFa0DF8x4duezs4le7-CoW9lbRReCb_qGnQefsq_5lYyu5JDkF7HJxzjI8x4WLDQHSGU-AOooHV1AVBFHn1IcV472A_M0aHmWMB2KiTs5mJeuoJZX_Qw962SdVE1h9bm3MZrzJ_TcltY647PT03p2hZgCN1XAjLEvOTdE1zD30DmnlLfRZ_pwXjYsab6R5KCk7Roq6DyEA_smZFs5BX9NRyXE9E__gMkhAUuuWt7CRJpsC5kPgmbSZDfJ4dAZ_illC3bfLhcsMVy_nnD_QAmEgrhDbg9Q) - ModelState is Valid 
2018-03-28 18:22:34.1399|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:22:34.4594|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 54.6108ms 
2018-03-28 18:22:34.9925|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 653.3765ms 200 text/html; charset=utf-8 
2018-03-28 18:22:51.5374|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 18:22:52.1804|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (455ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 18:22:52.2185|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 18:24:13.2339|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:24:13.4658|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:24:13.5450|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:24:13.5639|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:24:13.5891|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:24:13.6098|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:24:13.6400|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:24:13.6681|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:24:13.8759|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:24:13.9868|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 710.3561ms 200 application/json; charset=UTF-8 
2018-03-28 18:24:14.0576|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 18:24:14.3267|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:14.3576|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:14.3847|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 18:24:14.4077|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 18:24:14.4304|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 18:24:14.4523|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 18:24:14.4884|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 474.9832ms 200 text/html; charset=UTF-8 
2018-03-28 18:24:16.7221|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=a8e1e826447c4f879ff4c72703b7d473&nonce=66596e6adbac4bac8f6a32f3aaaa7810&prompt=none   
2018-03-28 18:24:16.7537|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:16.7740|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:16.7973|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:24:16.8238|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:24:16.8520|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:24:16.8899|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:24:17.0064|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:24:17.0456|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:24:17.0718|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a8e1e826447c4f879ff4c72703b7d473",
    "nonce": "66596e6adbac4bac8f6a32f3aaaa7810",
    "prompt": "none"
  }
} 
2018-03-28 18:24:17.0996|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 18:24:17.1209|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "a8e1e826447c4f879ff4c72703b7d473",
    "nonce": "66596e6adbac4bac8f6a32f3aaaa7810",
    "prompt": "none"
  }
} 
2018-03-28 18:24:17.1664|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 425.0446ms 302  
2018-03-28 18:24:17.2260|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrzeRPi3dCjOvuADK0y8n_QqeGmAajQDJsyaShZYs4bPG9elkmdKUhpDS_WX0BMe3m9Hypz68h-hW3aKHTuq60Dq6FPQPD8GnurDl2-wS2gAEox1UoK0lwbVpNkGTBj3uN4CYh0JmsNIMsVCSHniHaNFQTtvDJLMQH5aHDfJfI9It85yI9RJXfbhZwOI_Xhp1autQ4MGRWNhnfE8Y3yoDC-XkNHOBbJygIWIFGcgOK5uSZpZOAWO_ceDSrloSFKQaX3WkGkRGgowNNn1zAg1W9JQDoYY9Dds4hq2-J00lKhHA   
2018-03-28 18:24:17.3833|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:17.4176|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:24:17.4358|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrzeRPi3dCjOvuADK0y8n_QqeGmAajQDJsyaShZYs4bPG9elkmdKUhpDS_WX0BMe3m9Hypz68h-hW3aKHTuq60Dq6FPQPD8GnurDl2-wS2gAEox1UoK0lwbVpNkGTBj3uN4CYh0JmsNIMsVCSHniHaNFQTtvDJLMQH5aHDfJfI9It85yI9RJXfbhZwOI_Xhp1autQ4MGRWNhnfE8Y3yoDC-XkNHOBbJygIWIFGcgOK5uSZpZOAWO_ceDSrloSFKQaX3WkGkRGgowNNn1zAg1W9JQDoYY9Dds4hq2-J00lKhHA) - ModelState is Valid 
2018-03-28 18:24:17.4538|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 18:24:17.4889|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 40.0802ms 
2018-03-28 18:24:17.6030|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 331.564ms 200 text/html; charset=utf-8 
2018-03-28 18:26:01.0425|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:26:01.0695|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:26:01.1289|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:26:01.1289|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:26:01.1622|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:26:01.1774|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:26:01.1939|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:26:01.2112|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:26:01.2496|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:26:01.2747|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 226.1975ms 200 application/json; charset=UTF-8 
2018-03-28 18:26:01.3434|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=ceb11eb0636f427e8b030facb4ba0b43&nonce=299416836e8341eba3b6a0ebe8824971   
2018-03-28 18:26:01.3776|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:26:01.4036|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:26:01.4205|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:26:01.4391|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:26:01.4917|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 18:26:01.5076|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:26:02.0733|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 18:26:02.1388|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "ceb11eb0636f427e8b030facb4ba0b43",
  "Nonce": "299416836e8341eba3b6a0ebe8824971",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "ceb11eb0636f427e8b030facb4ba0b43",
    "nonce": "299416836e8341eba3b6a0ebe8824971"
  }
} 
2018-03-28 18:26:02.2057|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 18:26:02.2566|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 930.8845ms 302  
2018-03-28 18:26:02.2781|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Dceb11eb0636f427e8b030facb4ba0b43%26nonce%3D299416836e8341eba3b6a0ebe8824971   
2018-03-28 18:26:02.5388|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=ceb11eb0636f427e8b030facb4ba0b43&nonce=299416836e8341eba3b6a0ebe8824971) - ModelState is Valid 
2018-03-28 18:26:02.6132|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 18:26:05.7066|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 18:26:07.7579|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 5300.8004ms 
2018-03-28 18:26:07.7850|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5496.5628ms 200 text/html; charset=utf-8 
2018-03-28 18:26:07.8831|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   
2018-03-28 18:26:07.9393|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css   
2018-03-28 18:26:08.2131|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/font-awesome/css/font-awesome.min.css   
2018-03-28 18:26:08.2261|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/register-login.css   
2018-03-28 18:26:08.2515|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css' 
2018-03-28 18:26:08.3055|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/site.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\site.css' 
2018-03-28 18:26:08.3707|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/font-awesome/css/font-awesome.min.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\font-awesome\css\font-awesome.min.css' 
2018-03-28 18:26:08.4209|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/register-login.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\register-login.css' 
2018-03-28 18:26:08.5353|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js   
2018-03-28 18:26:08.5353|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 639.5047ms 200 text/css 
2018-03-28 18:26:08.5353|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 538.6172ms 200 text/css 
2018-03-28 18:26:08.5790|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 580.8015ms 200 text/css 
2018-03-28 18:26:08.6301|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery\dist\jquery.js' 
2018-03-28 18:26:08.6669|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js   
2018-03-28 18:26:08.6920|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js   
2018-03-28 18:26:08.7197|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA   
2018-03-28 18:26:08.7340|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js' 
2018-03-28 18:26:08.7698|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/js/site.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\js\site.js' 
2018-03-28 18:26:08.8768|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery-validation\dist\jquery.validate.js' 
2018-03-28 18:26:08.8920|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 252.0959ms 200 application/javascript 
2018-03-28 18:26:08.9568|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 195.1106ms 200 application/javascript 
2018-03-28 18:26:08.9568|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/tether/dist/js/tether.js   
2018-03-28 18:26:09.0441|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 327.7594ms 200 application/javascript 
2018-03-28 18:26:09.0734|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/tether/dist/js/tether.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\tether\dist\js\tether.js' 
2018-03-28 18:26:09.0868|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1203.0435ms 200 text/css 
2018-03-28 18:26:09.1605|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   
2018-03-28 18:26:09.2742|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 318.3208ms 200 application/javascript 
2018-03-28 18:26:09.2909|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 18:26:09.3084|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js' 
2018-03-28 18:26:09.3543|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/images/bg.jpg   
2018-03-28 18:26:09.3912|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 196.8617ms 404  
2018-03-28 18:26:09.4274|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 357.7445ms 200 application/javascript 
2018-03-28 18:26:09.4490|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css.map   
2018-03-28 18:26:09.5140|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/images/bg.jpg'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\images\bg.jpg' 
2018-03-28 18:26:09.6228|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/fonts/icomoon.ttf?u4m6fy   
2018-03-28 18:26:09.6631|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map' 
2018-03-28 18:26:09.8131|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1109.7987ms 200 application/javascript 
2018-03-28 18:26:09.8519|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/fonts/icomoon.ttf'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\fonts\icomoon.ttf' 
2018-03-28 18:26:09.8889|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 437.6403ms 200 image/jpeg 
2018-03-28 18:26:10.0473|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 399.3182ms 200 application/x-font-ttf 
2018-03-28 18:26:10.0689|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 647.9877ms 200 text/plain 
2018-03-28 18:26:10.1177|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js.map   
2018-03-28 18:26:10.1447|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js.map'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js.map' 
2018-03-28 18:26:10.2350|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 168.5643ms 200 text/plain 
2018-03-28 18:26:19.3239|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Dceb11eb0636f427e8b030facb4ba0b43%26nonce%3D299416836e8341eba3b6a0ebe8824971 application/x-www-form-urlencoded 232 
2018-03-28 18:26:19.4759|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=ceb11eb0636f427e8b030facb4ba0b43&nonce=299416836e8341eba3b6a0ebe8824971) - ModelState is Valid 
2018-03-28 18:26:19.5253|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 18:26:19.6755|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (119ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 18:26:19.8712|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:26:19.9367|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:26:19.9724|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:26:20.0095|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:26:20.0394|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 18:26:20.0636|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 18:26:20.0772|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 18:26:20.0932|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522232780 
2018-03-28 18:26:20.1331|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 18:26:20.1492|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 18:26:20.1720|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=ceb11eb0636f427e8b030facb4ba0b43&nonce=299416836e8341eba3b6a0ebe8824971. 
2018-03-28 18:26:20.1882|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 813.2068ms 
2018-03-28 18:26:20.2091|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 883.8129ms 302  
2018-03-28 18:26:20.2364|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=ceb11eb0636f427e8b030facb4ba0b43&nonce=299416836e8341eba3b6a0ebe8824971   
2018-03-28 18:26:20.2523|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:26:20.2713|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:26:20.2866|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 18:26:20.3104|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 18:26:20.3341|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 18:26:20.4185|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 18:26:20.4588|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:26:20.4742|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:26:20.4988|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 18:26:20.5223|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "ceb11eb0636f427e8b030facb4ba0b43",
  "Nonce": "299416836e8341eba3b6a0ebe8824971",
  "SessionId": "7d1690af4e2d9c217ac9e00ad9eebea0",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "ceb11eb0636f427e8b030facb4ba0b43",
    "nonce": "299416836e8341eba3b6a0ebe8824971"
  }
} 
2018-03-28 18:26:20.5532|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 18:26:20.5906|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 18:26:20.6733|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 18:26:20.7893|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 18:26:20.9552|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 18:26:21.0774|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 18:26:21.1507|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 18:26:21.2840|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 18:26:21.3214|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:26:21.4312|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:26:21.4789|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:26:21.5085|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:26:21.5396|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:26:22.0344|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 18:26:22.0554|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:26:22.0774|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:26:22.0971|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:26:22.1145|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:26:22.1783|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "ceb11eb0636f427e8b030facb4ba0b43",
  "Scope": "openid profile email client_name"
} 
2018-03-28 18:26:22.2454|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 18:26:22.2623|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 18:26:22.2922|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2059.4428ms 302  
2018-03-28 18:39:03.6730|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 18:39:03.7218|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 18:39:03.8058|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 18:39:03.8297|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 18:39:03.8498|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 18:39:03.8786|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 18:39:03.9332|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 18:39:03.9623|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 18:39:03.9875|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 18:39:04.1235|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 413.0043ms 200 application/json; charset=UTF-8 
2018-03-28 18:39:04.1807|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=023c3aa992454839babe29b296a2571c&nonce=2988323e1fc246afae010f91dafb3273   
2018-03-28 18:39:04.2131|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:39:04.2309|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 18:39:04.2483|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 18:39:04.2740|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 18:39:04.3126|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 18:39:04.3401|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 18:39:04.3763|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:39:04.4617|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 18:39:04.5051|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 18:39:04.5832|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "023c3aa992454839babe29b296a2571c",
  "Nonce": "2988323e1fc246afae010f91dafb3273",
  "SessionId": "7d1690af4e2d9c217ac9e00ad9eebea0",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "023c3aa992454839babe29b296a2571c",
    "nonce": "2988323e1fc246afae010f91dafb3273"
  }
} 
2018-03-28 18:39:04.7788|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 18:39:05.6541|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (425ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 18:39:05.7062|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 18:39:05.8895|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (153ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 18:39:05.9392|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 18:39:06.0012|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 18:39:06.0185|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 18:39:06.0370|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 18:39:06.0538|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 18:39:06.1164|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:39:06.2353|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:39:06.2908|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:39:06.3205|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:39:06.3529|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 18:39:06.3856|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 18:39:06.4274|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 18:39:06.4550|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 18:39:06.4842|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 18:39:06.5139|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "023c3aa992454839babe29b296a2571c",
  "Scope": "openid profile email client_name"
} 
2018-03-28 18:39:06.5739|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2414.7709ms 302  
2018-03-28 18:52:52.5406|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 18:52:52.8779|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (130ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 18:52:52.9869|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 19:22:53.1053|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 19:22:53.5557|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (293ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 19:22:53.6020|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 19:52:53.7052|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 19:52:53.9807|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (69ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 19:52:54.0123|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 19:59:04.6346|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 19:59:04.7656|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 19:59:04.8590|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 19:59:04.8794|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 19:59:04.9062|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 19:59:04.9582|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 19:59:05.0345|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 19:59:05.0601|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 19:59:05.0795|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 19:59:05.2440|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 564.8701ms 200 application/json; charset=UTF-8 
2018-03-28 19:59:05.3794|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=a68e0052eee94f8ea8ca0b25392485c3&nonce=5cf186b2e25e478eafe42a435f309106   
2018-03-28 19:59:05.4040|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 19:59:05.4556|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 19:59:05.4905|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 19:59:05.5151|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 19:59:05.5503|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 19:59:05.7242|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 19:59:05.7784|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 19:59:05.8199|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "a68e0052eee94f8ea8ca0b25392485c3",
  "Nonce": "5cf186b2e25e478eafe42a435f309106",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "a68e0052eee94f8ea8ca0b25392485c3",
    "nonce": "5cf186b2e25e478eafe42a435f309106"
  }
} 
2018-03-28 19:59:05.8579|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 19:59:05.9253|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 620.5296ms 302  
2018-03-28 19:59:05.9543|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Da68e0052eee94f8ea8ca0b25392485c3%26nonce%3D5cf186b2e25e478eafe42a435f309106   
2018-03-28 19:59:06.2305|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=a68e0052eee94f8ea8ca0b25392485c3&nonce=5cf186b2e25e478eafe42a435f309106) - ModelState is Valid 
2018-03-28 19:59:06.3112|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 19:59:06.8506|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 19:59:07.0843|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 998.308ms 
2018-03-28 19:59:07.1101|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1151.9456ms 200 text/html; charset=utf-8 
2018-03-28 19:59:07.1807|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css   
2018-03-28 19:59:07.3303|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery/dist/jquery.js   
2018-03-28 19:59:07.3450|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css' 
2018-03-28 19:59:07.3561|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   
2018-03-28 19:59:07.3697|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/font-awesome/css/font-awesome.min.css   
2018-03-28 19:59:07.3950|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/font-awesome/css/font-awesome.min.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\font-awesome\css\font-awesome.min.css' 
2018-03-28 19:59:07.4286|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery/dist/jquery.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery\dist\jquery.js' 
2018-03-28 19:59:07.4729|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/site.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\site.css' 
2018-03-28 19:59:07.4881|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/register-login.css   
2018-03-28 19:59:07.5078|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 257.3693ms 200 text/css 
2018-03-28 19:59:07.6336|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 331.6547ms 200 text/css 
2018-03-28 19:59:07.7191|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/register-login.css'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\register-login.css' 
2018-03-28 19:59:07.7904|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/tether/dist/js/tether.js   
2018-03-28 19:59:07.7904|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 362.0657ms 200 text/css 
2018-03-28 19:59:07.8057|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/js/site.js?v=ji3-IxbEzYWjzzLCGkF1KDjrT2jLbbrSYXw-AhMPNIA   
2018-03-28 19:59:07.8213|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js   
2018-03-28 19:59:07.8580|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation/dist/jquery.validate.js   
2018-03-28 19:59:07.8580|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/js/site.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\js\site.js' 
2018-03-28 19:59:07.8740|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/tether/dist/js/tether.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\tether\dist\js\tether.js' 
2018-03-28 19:59:07.8915|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery-validation/dist/jquery.validate.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery-validation\dist\jquery.validate.js' 
2018-03-28 19:59:07.9043|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js' 
2018-03-28 19:59:07.9650|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 217.2116ms 200 application/javascript 
2018-03-28 19:59:07.9999|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 157.0381ms 200 application/javascript 
2018-03-28 19:59:08.0893|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js   
2018-03-28 19:59:08.0893|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 899.0155ms 200 text/css 
2018-03-28 19:59:08.1097|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 346.3101ms 200 application/javascript 
2018-03-28 19:59:08.1322|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 253.6962ms 200 application/javascript 
2018-03-28 19:59:08.1615|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.js' 
2018-03-28 19:59:08.2355|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 902.5167ms 200 application/javascript 
2018-03-28 19:59:08.4102|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 19:59:08.4704|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/fonts/icomoon.ttf?u4m6fy   
2018-03-28 19:59:08.5833|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/css/bootstrap.css.map   
2018-03-28 19:59:08.6831|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 307.7554ms 200 application/javascript 
2018-03-28 19:59:08.7422|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/images/bg.jpg   
2018-03-28 19:59:08.9357|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 204.0488ms 404  
2018-03-28 19:59:08.9631|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/css/fonts/icomoon.ttf'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\css\fonts\icomoon.ttf' 
2018-03-28 19:59:08.9882|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.css.map'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\css\bootstrap.css.map' 
2018-03-28 19:59:09.0795|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/lib/bootstrap/dist/js/bootstrap.js.map   
2018-03-28 19:59:09.0884|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/images/bg.jpg'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\images\bg.jpg' 
2018-03-28 19:59:09.3425|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 820.8174ms 200 application/x-font-ttf 
2018-03-28 19:59:09.4758|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.js.map'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\lib\bootstrap\dist\js\bootstrap.js.map' 
2018-03-28 19:59:09.4952|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 982.5273ms 200 text/plain 
2018-03-28 19:59:09.5093|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 955.2607ms 200 image/jpeg 
2018-03-28 19:59:09.5575|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 587.9966ms 200 text/plain 
2018-03-28 19:59:16.5762|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Da68e0052eee94f8ea8ca0b25392485c3%26nonce%3D5cf186b2e25e478eafe42a435f309106 application/x-www-form-urlencoded 232 
2018-03-28 19:59:16.6405|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=a68e0052eee94f8ea8ca0b25392485c3&nonce=5cf186b2e25e478eafe42a435f309106) - ModelState is Valid 
2018-03-28 19:59:16.6759|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 19:59:17.2914|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (569ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 19:59:17.4156|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 19:59:17.5096|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 19:59:17.5421|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 19:59:17.5819|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 19:59:17.6089|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 19:59:17.6282|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 19:59:17.6600|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 19:59:17.6855|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522238357 
2018-03-28 19:59:17.7703|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 19:59:17.8088|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 19:59:17.8475|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=a68e0052eee94f8ea8ca0b25392485c3&nonce=5cf186b2e25e478eafe42a435f309106. 
2018-03-28 19:59:17.9003|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 1274.107ms 
2018-03-28 19:59:17.9538|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1341.1321ms 302  
2018-03-28 19:59:17.9793|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=a68e0052eee94f8ea8ca0b25392485c3&nonce=5cf186b2e25e478eafe42a435f309106   
2018-03-28 19:59:18.0028|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 19:59:18.0201|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 19:59:18.0361|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 19:59:18.0716|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 19:59:18.1101|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 19:59:18.1426|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 19:59:18.1731|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 19:59:18.2058|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 19:59:18.2352|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 19:59:18.2591|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "a68e0052eee94f8ea8ca0b25392485c3",
  "Nonce": "5cf186b2e25e478eafe42a435f309106",
  "SessionId": "06a7e76d359bb61c6e8ca850ff09f4cd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "a68e0052eee94f8ea8ca0b25392485c3",
    "nonce": "5cf186b2e25e478eafe42a435f309106"
  }
} 
2018-03-28 19:59:18.3634|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 19:59:18.4394|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (35ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 19:59:18.4596|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 19:59:18.7104|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (232ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 19:59:18.7350|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 19:59:18.8279|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 19:59:18.8554|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 19:59:18.8857|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 19:59:18.9129|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 19:59:18.9534|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 19:59:18.9903|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 19:59:19.0344|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 19:59:19.0705|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 19:59:19.1748|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 19:59:19.2092|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 19:59:19.2422|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 19:59:19.2811|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 19:59:19.3118|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 19:59:19.3604|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "a68e0052eee94f8ea8ca0b25392485c3",
  "Scope": "openid profile email client_name"
} 
2018-03-28 19:59:19.3888|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 19:59:19.4097|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 19:59:19.4404|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1449.5021ms 302  
2018-03-28 20:11:24.8045|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 20:11:25.6851|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 20:11:25.7424|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 20:11:26.0212|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 20:11:26.2756|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 20:11:27.4088|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 20:11:28.3468|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 20:11:28.5665|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 20:11:28.6445|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 20:11:29.1843|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 20:11:38.3055|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 20:11:41.4562|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 12327.499ms 
2018-03-28 20:11:41.4769|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 13245.9188ms 200 text/html; charset=utf-8 
2018-03-28 22:15:00.9331|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-28 22:15:01.4635|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-28 22:15:01.4995|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-28 22:15:01.5314|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-28 22:15:01.5885|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-28 22:15:03.2986|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-28 22:15:04.2142|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 22:15:04.7657|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:15:05.0842|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (77ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:15:05.3999|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (121ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:15:05.5655|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:15:05.6056|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:15:05.6840|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:15:05.7342|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:15:05.8959|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:15:06.5663|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 22:15:16.4276|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 22:15:21.2575|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 14613.6139ms 
2018-03-28 22:15:21.2982|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/images/Butterfly.png   
2018-03-28 22:15:21.4578|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/images/Butterfly.png'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\images\Butterfly.png' 
2018-03-28 22:15:21.6789|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 17221.329ms 200 text/html; charset=utf-8 
2018-03-28 22:15:21.7669|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 508.5285ms 200 image/png 
2018-03-28 22:15:41.1075|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:15:41.1662|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:15:41.2339|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:15:41.2527|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:15:41.2738|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:15:41.3077|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:15:41.3395|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:15:41.3753|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:15:41.5097|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:15:42.3027|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1113.1093ms 200 application/json; charset=UTF-8 
2018-03-28 22:15:42.3502|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2f0f59de4e7142c8ba8d6d9d7800aa16&nonce=cbf89b416cb14a2d896199f11e76bf5c   
2018-03-28 22:15:42.3922|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:15:42.4325|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:15:42.6293|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:15:42.7193|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:15:42.7405|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:15:42.7918|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:15:42.8526|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:15:42.8894|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:15:43.0908|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:15:43.2591|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "2f0f59de4e7142c8ba8d6d9d7800aa16",
  "Nonce": "cbf89b416cb14a2d896199f11e76bf5c",
  "SessionId": "06a7e76d359bb61c6e8ca850ff09f4cd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "2f0f59de4e7142c8ba8d6d9d7800aa16",
    "nonce": "cbf89b416cb14a2d896199f11e76bf5c"
  }
} 
2018-03-28 22:15:43.3159|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:15:43.3516|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:15:43.4617|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:15:43.6070|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (92ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:15:43.7375|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:15:43.9752|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:15:44.0235|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:15:44.0828|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:15:44.1151|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:15:44.2367|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (46ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:15:44.2902|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:15:44.5023|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (113ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:15:44.5505|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:15:45.0022|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:15:45.0276|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:15:45.0581|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:15:45.0845|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:15:45.1077|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:15:45.2464|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "2f0f59de4e7142c8ba8d6d9d7800aa16",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:15:45.3666|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3028.5592ms 302  
2018-03-28 22:16:12.1689|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:16:12.1977|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:16:12.2236|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:16:12.2407|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:16:12.2555|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:16:12.2701|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:16:12.2701|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:16:12.3112|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:16:12.3286|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:16:12.4421|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 179.1064ms 200 application/json; charset=UTF-8 
2018-03-28 22:16:12.4616|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=830eb9adac384835a342f693eade9c00&nonce=6205ba3aaabe4b6682ccd90200124dc6   
2018-03-28 22:16:12.4913|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:16:12.5059|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:16:12.5362|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:16:12.5959|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:16:12.6242|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:16:12.6666|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:16:12.6876|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:16:12.7266|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:16:12.7637|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:16:12.7966|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "830eb9adac384835a342f693eade9c00",
  "Nonce": "6205ba3aaabe4b6682ccd90200124dc6",
  "SessionId": "06a7e76d359bb61c6e8ca850ff09f4cd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "830eb9adac384835a342f693eade9c00",
    "nonce": "6205ba3aaabe4b6682ccd90200124dc6"
  }
} 
2018-03-28 22:16:12.8685|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:16:12.9326|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (43ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:16:12.9634|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:16:12.9912|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:16:13.0145|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:16:13.0461|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:16:13.0638|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:16:13.0811|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:16:13.0981|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:16:13.1256|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:16:13.1628|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:16:13.1956|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:16:13.2304|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:16:13.2648|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:16:13.2960|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:16:13.3218|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:16:13.3465|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:16:13.3799|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:16:13.4246|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "830eb9adac384835a342f693eade9c00",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:16:13.4602|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1032.5339ms 302  
2018-03-28 22:19:29.3832|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:19:29.4463|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:19:29.4767|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:19:29.4945|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:19:29.5120|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:19:29.5394|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:19:29.5837|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:19:29.6032|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:19:29.6301|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:19:29.6832|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 302.1672ms 200 application/json; charset=UTF-8 
2018-03-28 22:19:29.7525|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=3826d1e64861431fb4e358133c9ab635&nonce=f2848443eb2242219017b00c04abbec1   
2018-03-28 22:19:29.7983|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:19:29.8184|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:19:29.8436|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:19:29.8665|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:19:29.8917|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:19:29.9207|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:19:29.9493|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:19:29.9744|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:19:30.0015|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:19:30.0296|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "3826d1e64861431fb4e358133c9ab635",
  "Nonce": "f2848443eb2242219017b00c04abbec1",
  "SessionId": "06a7e76d359bb61c6e8ca850ff09f4cd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "3826d1e64861431fb4e358133c9ab635",
    "nonce": "f2848443eb2242219017b00c04abbec1"
  }
} 
2018-03-28 22:19:30.1106|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:19:30.4599|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (91ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:19:30.5125|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:19:30.5990|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:19:30.6274|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:19:30.7120|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:19:30.7374|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:19:30.7627|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:19:30.7897|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:19:30.8355|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:19:30.9223|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:19:31.0045|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:19:31.0669|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:19:31.1316|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:19:31.2289|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:19:31.3064|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:19:31.4160|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:19:31.5435|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:19:31.5922|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "3826d1e64861431fb4e358133c9ab635",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:19:31.6320|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1865.214ms 302  
2018-03-28 22:20:47.1120|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:20:47.1625|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:20:47.2555|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:20:47.3423|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:20:47.4186|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:20:47.4574|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:20:47.4895|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:20:47.5253|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:20:47.5519|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:20:47.8244|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 480.3677ms 200 application/json; charset=UTF-8 
2018-03-28 22:20:48.3230|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=91a13385588c4537bd8e1f5acba3312d&nonce=a4798131598b443780de78ed4df589fa   
2018-03-28 22:20:48.3562|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:20:48.3910|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:20:48.4296|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:20:48.4716|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:20:48.5083|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:20:48.5414|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:20:48.5648|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:20:48.5908|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:20:48.6445|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:20:48.7647|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "91a13385588c4537bd8e1f5acba3312d",
  "Nonce": "a4798131598b443780de78ed4df589fa",
  "SessionId": "06a7e76d359bb61c6e8ca850ff09f4cd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "91a13385588c4537bd8e1f5acba3312d",
    "nonce": "a4798131598b443780de78ed4df589fa"
  }
} 
2018-03-28 22:20:48.9959|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:20:49.0896|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (33ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:20:49.1339|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:20:49.1804|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:20:49.2087|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:20:49.2592|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:20:49.2898|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:20:49.3099|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:20:49.3316|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:20:49.3742|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:20:49.4378|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:20:49.4750|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:20:49.5090|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:20:49.5345|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:20:49.5603|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:20:49.5916|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:20:49.6213|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:20:49.6442|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:20:49.6760|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "91a13385588c4537bd8e1f5acba3312d",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:20:49.7060|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1861.2185ms 302  
2018-03-28 22:21:04.5712|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 22:21:04.6059|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:21:04.6247|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:21:06.0800|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 22:21:06.3258|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 22:21:06.3704|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:21:06.3949|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 22:21:06.4233|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 22:21:09.1320|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 22:21:09.2312|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 3831.3572ms 
2018-03-28 22:21:09.2604|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4689.4839ms 200 text/html; charset=utf-8 
2018-03-28 22:21:09.3737|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsq5nIPHt_oEYzBT3d8yQ4jP_5D2P5DdoDD27R863IgH29z_PwLU2voYIknphtHVpeVdszQz7vb_QjpJU82pNY8DNDra27KT_kVuIEtPWyMO9mjavpUee4wJsm-qtrKLm9qLc1X_6zZM-Q1fZVYPab_nT7BSjNMggvg2LtgC9-LV8oEzqmOKYsvIDrMqIq-YLNDCaAws2FfpwqLtNvWDovtybMoDv2mUFaTCHYj4A_ZlrnX3rX9I5cBekl6AKpZPjc8ElH0wrdMkEWoYA9DysfcDjOmdrmotQeHFdvD_0aV791C-D2pQ2yfdpSqJbW2WEQE   
2018-03-28 22:21:09.4322|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 22:21:09.7033|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 22:21:09.7417|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 22:21:09.8106|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 22:21:09.9953|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 22:21:10.0158|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 22:21:10.0415|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 22:21:10.0820|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 22:21:10.1175|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 22:21:10.2485|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 858.2708ms 200 text/html; charset=UTF-8 
2018-03-28 22:21:12.3167|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:21:12.3386|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:21:12.3709|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:21:12.4010|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:21:12.4356|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:21:12.4626|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:21:12.4958|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:21:12.5157|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:21:12.5418|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:21:12.6793|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 266.6936ms 200 application/json; charset=UTF-8 
2018-03-28 22:21:12.7205|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=4c69cf62f5e5454fbf53059c38871637&nonce=70c4b1025961470095a8658fba983270   
2018-03-28 22:21:12.7798|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:21:12.8156|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:21:12.8528|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:21:12.8906|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:21:12.9082|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 22:21:12.9330|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:21:12.9550|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:21:12.9863|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "4c69cf62f5e5454fbf53059c38871637",
  "Nonce": "70c4b1025961470095a8658fba983270",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "4c69cf62f5e5454fbf53059c38871637",
    "nonce": "70c4b1025961470095a8658fba983270"
  }
} 
2018-03-28 22:21:13.0358|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 22:21:13.0906|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 462.3398ms 302  
2018-03-28 22:21:13.1350|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D4c69cf62f5e5454fbf53059c38871637%26nonce%3D70c4b1025961470095a8658fba983270   
2018-03-28 22:21:13.1879|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=4c69cf62f5e5454fbf53059c38871637&nonce=70c4b1025961470095a8658fba983270) - ModelState is Valid 
2018-03-28 22:21:13.2165|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:21:15.1700|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 22:21:17.1147|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 3923.8629ms 
2018-03-28 22:21:17.1783|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4007.5316ms 200 text/html; charset=utf-8 
2018-03-28 22:21:18.0530|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 22:21:18.2546|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 614.457ms 404  
2018-03-28 22:21:25.7126|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D4c69cf62f5e5454fbf53059c38871637%26nonce%3D70c4b1025961470095a8658fba983270 application/x-www-form-urlencoded 232 
2018-03-28 22:21:25.7784|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=4c69cf62f5e5454fbf53059c38871637&nonce=70c4b1025961470095a8658fba983270) - ModelState is Valid 
2018-03-28 22:21:25.8133|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:21:25.8702|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 22:21:26.0449|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:21:26.0920|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:21:26.1357|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:21:26.1835|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:21:26.2172|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:21:26.2443|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 22:21:26.2748|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 22:21:26.3111|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522246886 
2018-03-28 22:21:26.3475|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:21:26.3678|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 22:21:26.3942|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=4c69cf62f5e5454fbf53059c38871637&nonce=70c4b1025961470095a8658fba983270. 
2018-03-28 22:21:26.4119|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 650.469ms 
2018-03-28 22:21:26.4333|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 718.8844ms 302  
2018-03-28 22:21:26.4753|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=4c69cf62f5e5454fbf53059c38871637&nonce=70c4b1025961470095a8658fba983270   
2018-03-28 22:21:26.5141|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:21:26.5462|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:21:26.5743|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 22:21:26.6287|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 22:21:26.6661|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 22:21:26.7434|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 22:21:26.8579|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:21:26.8970|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:21:26.9192|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:21:26.9606|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "4c69cf62f5e5454fbf53059c38871637",
  "Nonce": "70c4b1025961470095a8658fba983270",
  "SessionId": "d72468f727fba90bbf52f7a78335f132",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "4c69cf62f5e5454fbf53059c38871637",
    "nonce": "70c4b1025961470095a8658fba983270"
  }
} 
2018-03-28 22:21:26.9839|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:21:27.0428|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:21:27.0654|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:21:27.1002|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:21:27.1340|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:21:27.1676|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:21:27.1863|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:21:27.2061|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:21:27.2258|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:21:27.2512|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:21:27.2866|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:21:27.3149|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:21:27.3459|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:21:27.3994|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:21:27.4745|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:21:27.5437|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:21:27.5952|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:21:27.6427|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:21:27.6703|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "4c69cf62f5e5454fbf53059c38871637",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:21:27.7324|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:21:27.7614|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:21:27.7955|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1316.4332ms 302  
2018-03-28 22:22:51.5471|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:22:51.6248|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:22:51.7533|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:22:51.9811|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:22:52.0517|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:22:52.0873|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:22:52.1474|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:22:52.1927|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:22:52.3763|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:22:53.4419|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 963.9157ms 200 application/json; charset=UTF-8 
2018-03-28 22:22:54.4407|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=cfed813e7c2944768ceb27efd8a48e36&nonce=0f3557356d954119afd0131b28acf766   
2018-03-28 22:22:54.5060|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:22:54.5810|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:22:54.8242|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:22:55.1944|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:22:55.6516|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:22:55.7088|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:22:55.9202|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:22:56.0877|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:22:56.3241|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:22:56.3753|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "cfed813e7c2944768ceb27efd8a48e36",
  "Nonce": "0f3557356d954119afd0131b28acf766",
  "SessionId": "d72468f727fba90bbf52f7a78335f132",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "cfed813e7c2944768ceb27efd8a48e36",
    "nonce": "0f3557356d954119afd0131b28acf766"
  }
} 
2018-03-28 22:22:56.8083|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:22:57.6069|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (586ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:22:57.9750|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:22:58.3786|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (37ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:22:58.5926|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:22:58.7574|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:22:58.7934|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:22:58.8376|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:22:58.8730|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:22:58.9391|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:22:59.0506|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:22:59.1243|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:22:59.1926|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:22:59.2395|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:22:59.3420|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (32ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:22:59.4224|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:22:59.4699|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:22:59.5684|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:22:59.6814|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "cfed813e7c2944768ceb27efd8a48e36",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:22:59.7692|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 5364.6145ms 302  
2018-03-28 22:23:22.4870|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:23:22.5465|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:23:22.5799|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:23:22.5983|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:23:22.6225|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:23:22.6399|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:23:22.6583|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:23:22.6784|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:23:22.7140|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:23:22.7627|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 253.379ms 200 application/json; charset=UTF-8 
2018-03-28 22:23:22.8482|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2ebd83dfaca44f2c895c004d83667fbe&nonce=535b09f615c9462a9ec1ff3e72e87cad   
2018-03-28 22:23:22.8752|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:23:22.8985|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:23:22.9178|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:23:22.9458|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:23:22.9688|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:23:22.9997|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:23:23.0312|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:23:23.0544|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:23:23.0828|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:23:23.1118|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "2ebd83dfaca44f2c895c004d83667fbe",
  "Nonce": "535b09f615c9462a9ec1ff3e72e87cad",
  "SessionId": "d72468f727fba90bbf52f7a78335f132",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "2ebd83dfaca44f2c895c004d83667fbe",
    "nonce": "535b09f615c9462a9ec1ff3e72e87cad"
  }
} 
2018-03-28 22:23:23.1487|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:23:23.1864|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:23:23.2227|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:23:23.2625|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:23:23.3110|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:23:23.3458|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:23:23.3726|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:23:23.4116|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:23:23.4373|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:23:23.4828|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:23:23.5288|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:23:23.5607|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:23:23.5935|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:23:23.6284|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:23:23.6716|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:23:23.7972|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:23:23.8374|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:23:23.9016|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:23:23.9346|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "2ebd83dfaca44f2c895c004d83667fbe",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:23:23.9865|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1139.0432ms 302  
2018-03-28 22:23:45.2569|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 22:23:45.2816|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:23:45.3155|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:23:45.3763|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 22:23:45.4323|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 22:23:45.4565|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:23:45.4750|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 22:23:45.4912|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 22:23:45.5347|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 22:23:45.6630|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 212.5497ms 
2018-03-28 22:23:45.7445|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsrd9atomZPv39euYV5eN7_Z2febItmQ66ADN7Cjn1YwM0s-llw7ZiPMJDlx8vmf-x_5bN5_np8AITPwNZGk7KN2sY4f5UzIJ0Sfw6vAvG889PqszSvC2__1hRB5P_2aX0IerxcyrR4xYIMLqtz4dmJV6afyQZoiHgh7xNRus8S0vZwJUydqtKB4-zlxR0AFTIamiOy9B4MafEy6nrpCnZyQRLkqKiw4p89fQ0G61OmB7ArYmvCF5zMy7tGsgy9YvyNWSuyGc2aszUn51dVxYW8tdC-ECk8m5NDNK3j8er6lxzvaa9fFec73w6qSF9DE8Ro   
2018-03-28 22:23:45.8159|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 461.1247ms 200 text/html; charset=utf-8 
2018-03-28 22:23:45.8568|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 22:23:45.9669|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 22:23:45.9997|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 22:23:46.0386|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 22:23:46.0717|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 22:23:46.0941|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 22:23:46.1177|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 22:23:46.1483|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 22:23:46.1758|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 22:23:46.2283|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 521.8866ms 200 text/html; charset=UTF-8 
2018-03-28 22:23:46.2884|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   
2018-03-28 22:23:46.3232|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/favicon.ico'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\favicon.ico' 
2018-03-28 22:23:46.3698|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 105.3523ms 200 image/x-icon 
2018-03-28 22:24:02.0883|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:24:02.1333|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:24:02.1769|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:24:02.2018|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:24:02.2340|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:24:02.2573|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:24:02.2779|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:24:02.3047|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:24:02.3342|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:24:02.3778|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 264.5758ms 200 application/json; charset=UTF-8 
2018-03-28 22:24:02.4359|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc14587fb89a4611a40b8de77e687db6&nonce=ca27152ba1b048a38e955bf93bedc584   
2018-03-28 22:24:02.4734|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:24:02.4970|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:24:02.5223|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:24:02.5513|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:24:02.5737|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 22:24:02.6059|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:24:02.6448|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:24:02.6679|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "fc14587fb89a4611a40b8de77e687db6",
  "Nonce": "ca27152ba1b048a38e955bf93bedc584",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "fc14587fb89a4611a40b8de77e687db6",
    "nonce": "ca27152ba1b048a38e955bf93bedc584"
  }
} 
2018-03-28 22:24:02.7597|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 22:24:02.8185|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 375.6548ms 302  
2018-03-28 22:24:02.8567|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Dfc14587fb89a4611a40b8de77e687db6%26nonce%3Dca27152ba1b048a38e955bf93bedc584   
2018-03-28 22:24:02.8904|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc14587fb89a4611a40b8de77e687db6&nonce=ca27152ba1b048a38e955bf93bedc584) - ModelState is Valid 
2018-03-28 22:24:02.9242|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:24:02.9636|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 22:24:03.0534|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 153.2496ms 
2018-03-28 22:24:03.0786|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 222.6316ms 200 text/html; charset=utf-8 
2018-03-28 22:24:03.7762|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 22:24:03.8766|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 322.4467ms 404  
2018-03-28 22:24:15.7573|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3Dfc14587fb89a4611a40b8de77e687db6%26nonce%3Dca27152ba1b048a38e955bf93bedc584 application/x-www-form-urlencoded 232 
2018-03-28 22:24:15.7965|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc14587fb89a4611a40b8de77e687db6&nonce=ca27152ba1b048a38e955bf93bedc584) - ModelState is Valid 
2018-03-28 22:24:15.8143|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:24:15.8574|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 22:24:15.9097|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:24:15.9526|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:24:15.9818|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:24:16.0131|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:24:16.0304|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:24:16.0545|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 22:24:16.0765|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 22:24:16.0971|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522247056 
2018-03-28 22:24:16.1225|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:24:16.1483|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 22:24:16.1746|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc14587fb89a4611a40b8de77e687db6&nonce=ca27152ba1b048a38e955bf93bedc584. 
2018-03-28 22:24:16.2055|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 412.387ms 
2018-03-28 22:24:16.2344|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 472.0218ms 302  
2018-03-28 22:24:16.2693|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=fc14587fb89a4611a40b8de77e687db6&nonce=ca27152ba1b048a38e955bf93bedc584   
2018-03-28 22:24:16.3142|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:24:16.3468|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:24:16.3917|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 22:24:16.4942|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 22:24:16.5214|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 22:24:16.6481|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 22:24:16.6764|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:24:16.7064|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:24:16.7270|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:24:16.7508|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "fc14587fb89a4611a40b8de77e687db6",
  "Nonce": "ca27152ba1b048a38e955bf93bedc584",
  "SessionId": "b94fbef9376777b4dfd157c909dbac3f",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "fc14587fb89a4611a40b8de77e687db6",
    "nonce": "ca27152ba1b048a38e955bf93bedc584"
  }
} 
2018-03-28 22:24:16.7844|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:24:16.8256|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:24:16.8540|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:24:16.9069|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:24:16.9373|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:24:16.9894|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:24:17.0158|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:24:17.0373|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:24:17.0706|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:24:17.1244|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:24:17.1896|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:24:17.2390|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:24:17.2826|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:24:17.3151|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:24:17.3487|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:24:17.4262|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:24:17.5062|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:24:17.5545|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:24:17.5950|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "fc14587fb89a4611a40b8de77e687db6",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:24:17.7353|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:24:17.8058|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:24:17.8539|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1572.3918ms 302  
2018-03-28 22:28:57.5515|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 22:28:57.5951|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:28:57.6121|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:28:57.6563|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 22:28:57.6742|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 22:29:00.4201|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 2772.0528ms 
2018-03-28 22:29:00.4970|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2901.2208ms 200 text/html; charset=utf-8 
2018-03-28 22:30:23.1606|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 22:30:23.2400|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:30:23.3444|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:30:23.6419|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 22:30:23.9742|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 22:30:24.4999|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:30:25.2511|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 22:30:25.6776|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 22:30:26.2801|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 22:30:26.7612|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 2971.7257ms 
2018-03-28 22:30:28.5865|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsreAynVEDM2H5heJk6JdMg689BsfUGPz1V_GKDIHpu2QGXlWEsckaf59SkKLBKGdTtjI_YD-SlZBJuIINg2gGoNjNMillKlcDxZhSgFhpbnVvsynZVV84e5mlIyRRRqJczvm1B2n8J9hFIscxkYa8kHbuNy3c-FQgDWklUnFRDD_ylEyJoVj7cwGdbt-gESPNiQSuhECwah8Cf2IlxN_Ha6HN7vGHatPvVwR_bdGN6gu4Pw-JHAUmeU__FvmUYCJ_odyAo3N6R8JOkn7ixAw2W4jzSRAgVsUiIr4ByMBw5uiVnk-OKP7d8gZog8HKVJIJY   
2018-03-28 22:30:28.6608|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3714.0127ms 200 text/html; charset=utf-8 
2018-03-28 22:30:29.1039|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 22:30:29.6709|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 22:30:29.7751|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 22:30:30.1105|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 22:30:30.3364|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 22:30:30.6401|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 22:30:30.7229|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 22:30:31.0421|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 22:30:31.3095|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 22:30:31.8258|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4324.1165ms 200 text/html; charset=UTF-8 
2018-03-28 22:32:23.9401|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:32:23.9919|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:32:24.1408|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:32:24.1937|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:32:24.2191|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:32:24.2411|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:32:24.2669|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:32:24.2932|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:32:24.3343|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:32:24.5438|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 495.8133ms 200 application/json; charset=UTF-8 
2018-03-28 22:32:24.6201|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=73d862cb19c545f7b2a4efccd8fd4260&nonce=677df25d5ba14b8892ad4c0b124575b7   
2018-03-28 22:32:24.6586|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:32:24.7042|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:32:24.7261|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:32:24.7524|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:32:24.7898|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 22:32:24.8123|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:32:24.8701|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:32:24.9248|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "73d862cb19c545f7b2a4efccd8fd4260",
  "Nonce": "677df25d5ba14b8892ad4c0b124575b7",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "73d862cb19c545f7b2a4efccd8fd4260",
    "nonce": "677df25d5ba14b8892ad4c0b124575b7"
  }
} 
2018-03-28 22:32:24.9912|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 22:32:25.0597|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 492.3963ms 302  
2018-03-28 22:32:25.1289|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D73d862cb19c545f7b2a4efccd8fd4260%26nonce%3D677df25d5ba14b8892ad4c0b124575b7   
2018-03-28 22:32:25.3042|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=73d862cb19c545f7b2a4efccd8fd4260&nonce=677df25d5ba14b8892ad4c0b124575b7) - ModelState is Valid 
2018-03-28 22:32:25.3841|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:32:25.4869|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 22:32:26.1211|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 861.5423ms 
2018-03-28 22:32:26.6798|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1066.2182ms 200 text/html; charset=utf-8 
2018-03-28 22:32:26.7537|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 22:32:26.8091|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 51.4301ms 404  
2018-03-28 22:32:35.0744|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D73d862cb19c545f7b2a4efccd8fd4260%26nonce%3D677df25d5ba14b8892ad4c0b124575b7 application/x-www-form-urlencoded 232 
2018-03-28 22:32:35.1213|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=73d862cb19c545f7b2a4efccd8fd4260&nonce=677df25d5ba14b8892ad4c0b124575b7) - ModelState is Valid 
2018-03-28 22:32:35.2193|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:32:35.6972|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (139ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 22:32:35.7905|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (20ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:32:35.8387|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:32:35.8709|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:32:35.9185|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:32:35.9496|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:32:35.9836|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 22:32:36.0707|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 22:32:36.1086|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522247555 
2018-03-28 22:32:36.1373|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:32:36.1739|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 22:32:36.2370|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=73d862cb19c545f7b2a4efccd8fd4260&nonce=677df25d5ba14b8892ad4c0b124575b7. 
2018-03-28 22:32:36.3464|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 1158.1988ms 
2018-03-28 22:32:36.3676|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1300.6463ms 302  
2018-03-28 22:32:36.3992|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=73d862cb19c545f7b2a4efccd8fd4260&nonce=677df25d5ba14b8892ad4c0b124575b7   
2018-03-28 22:32:36.4244|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:32:36.4560|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:32:36.4868|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 22:32:36.5146|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 22:32:36.5497|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 22:32:36.5773|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 22:32:36.6157|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:32:36.6379|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:32:36.6730|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:32:36.7070|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "73d862cb19c545f7b2a4efccd8fd4260",
  "Nonce": "677df25d5ba14b8892ad4c0b124575b7",
  "SessionId": "712c482b59ff705311c2c3c89ac4fa8a",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "73d862cb19c545f7b2a4efccd8fd4260",
    "nonce": "677df25d5ba14b8892ad4c0b124575b7"
  }
} 
2018-03-28 22:32:36.7520|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:32:36.8164|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:32:36.8497|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:32:36.8991|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (27ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:32:36.9335|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:32:37.0076|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:32:37.0363|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:32:37.0688|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:32:37.1010|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:32:37.1582|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:32:37.2046|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:32:37.2824|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:32:37.4690|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:32:37.5236|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:32:37.5576|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:32:37.6176|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:32:37.7242|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:32:37.8034|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:32:37.9177|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "73d862cb19c545f7b2a4efccd8fd4260",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:32:37.9816|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:32:38.0234|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:32:38.0556|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1652.6898ms 302  
2018-03-28 22:40:54.2710|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:40:54.3526|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:40:54.4122|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:40:54.4352|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:40:54.4626|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:40:54.4999|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:40:54.5787|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:40:54.6082|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:40:54.6340|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:40:54.7565|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 428.0174ms 200 application/json; charset=UTF-8 
2018-03-28 22:40:54.8220|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=b058c6536c7e487a8979c675a69318d4&nonce=0aa5a61d454c46c2a27a9364e828298e   
2018-03-28 22:40:54.8824|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:40:54.9251|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:40:54.9681|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:40:55.0206|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:40:55.0524|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:40:55.1519|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:40:55.2115|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:40:55.2576|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:40:55.2983|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:40:55.3390|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "b058c6536c7e487a8979c675a69318d4",
  "Nonce": "0aa5a61d454c46c2a27a9364e828298e",
  "SessionId": "712c482b59ff705311c2c3c89ac4fa8a",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "b058c6536c7e487a8979c675a69318d4",
    "nonce": "0aa5a61d454c46c2a27a9364e828298e"
  }
} 
2018-03-28 22:40:55.4114|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:40:55.8920|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (238ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:40:56.1937|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:40:56.3046|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (51ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:40:56.3364|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:40:56.3903|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:40:56.4102|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:40:56.4364|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:40:56.4661|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:40:56.5055|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:40:56.5884|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:40:56.6184|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:40:56.6576|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:40:56.6908|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:40:56.7394|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:40:56.8109|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:40:56.8415|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:40:56.8757|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:40:56.9321|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "b058c6536c7e487a8979c675a69318d4",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:40:56.9844|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2174.7106ms 302  
2018-03-28 22:44:25.9973|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:44:26.0734|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:44:26.1317|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:44:26.1546|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:44:26.1760|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:44:26.1991|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:44:26.2466|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:44:26.2763|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:44:26.3053|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:44:26.4864|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 382.6283ms 200 application/json; charset=UTF-8 
2018-03-28 22:44:26.5343|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=71a74a9369084570b8ec76293c168476&nonce=8f699ad4a1e144a9901e3bf9742eef4d   
2018-03-28 22:44:26.5844|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:44:26.6154|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:44:26.6634|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:44:26.6961|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:44:26.7215|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:44:26.7677|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:44:26.8551|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:44:26.9326|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:44:26.9683|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:44:27.0513|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "71a74a9369084570b8ec76293c168476",
  "Nonce": "8f699ad4a1e144a9901e3bf9742eef4d",
  "SessionId": "712c482b59ff705311c2c3c89ac4fa8a",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "71a74a9369084570b8ec76293c168476",
    "nonce": "8f699ad4a1e144a9901e3bf9742eef4d"
  }
} 
2018-03-28 22:44:27.1978|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:44:27.5922|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (261ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:44:27.6347|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:44:27.7487|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (75ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:44:27.7791|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:44:27.8865|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:44:27.9367|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:44:27.9771|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:44:28.0202|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:44:28.2720|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (73ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:44:28.4157|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:44:28.4453|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:44:28.4765|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:44:28.5186|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:44:28.5516|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:44:28.5954|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:44:28.6357|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:44:28.6648|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:44:28.6967|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "71a74a9369084570b8ec76293c168476",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:44:28.7451|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2256.2677ms 302  
2018-03-28 22:44:59.5118|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 22:44:59.5387|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:44:59.5927|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:44:59.7326|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 22:44:59.7634|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 22:44:59.7832|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:44:59.8002|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 22:44:59.8211|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 22:44:59.8663|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 22:44:59.9453|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 245.4296ms 
2018-03-28 22:44:59.9891|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 454.1881ms 200 text/html; charset=utf-8 
2018-03-28 22:45:00.1766|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsq3k7vZ54D6AE--cmy_6vsVBgVk3lkohuld8kcusta9LU1yPhPbddbytdYmy3Rbf5dJg7-Bg7hf1OSKhuQEremzk3ggnIv_SdLr6REPPVP8t3VGVxWS4SrGLmmii4nOwtp-FGnHecsJbcIWgvcpfwfUVUH1Ixf6GqgLuBJcQ6qNzsK_mutuFr9slnciFiauW0hexGoClP7DqvGVKszrXKV8c2fy7K4-roTF0YDnMKvZznbw_ouqAyXCKCySiqB5Kk4o0OV1oYxS3HXdDGNql8OkVnd1d6CGd00gO4Y9NvipOUB2ZIqDw5AK01FfZ8cUNcI   
2018-03-28 22:45:00.2070|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 22:45:00.2514|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 22:45:00.2897|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 22:45:00.3455|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 22:45:00.4456|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 22:45:00.4694|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 22:45:00.5047|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 22:45:00.5459|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 22:45:00.5748|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 22:45:00.6566|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 448.0804ms 200 text/html; charset=UTF-8 
2018-03-28 22:45:00.7051|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   
2018-03-28 22:45:00.7611|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/favicon.ico'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\favicon.ico' 
2018-03-28 22:45:00.8542|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 132.3703ms 200 image/x-icon 
2018-03-28 22:45:03.5368|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:45:03.8408|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (31ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 22:45:03.8732|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 22:45:04.3726|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:45:04.3908|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:45:04.4158|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:45:04.4343|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:45:04.4539|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:45:04.4741|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:45:04.4989|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:45:04.5168|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:45:04.5396|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:45:04.6351|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 189.7304ms 200 application/json; charset=UTF-8 
2018-03-28 22:45:04.7006|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=9436320747e14945af2da01dad73fc1e&nonce=ebf44f73b5ef4be5b2d3b9f90f1625da   
2018-03-28 22:45:04.7345|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:45:04.7745|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:45:04.8349|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:45:04.8768|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:45:04.9676|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 22:45:05.0097|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:45:05.0362|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:45:05.0787|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "9436320747e14945af2da01dad73fc1e",
  "Nonce": "ebf44f73b5ef4be5b2d3b9f90f1625da",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "9436320747e14945af2da01dad73fc1e",
    "nonce": "ebf44f73b5ef4be5b2d3b9f90f1625da"
  }
} 
2018-03-28 22:45:05.1114|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 22:45:05.1441|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 499.5299ms 302  
2018-03-28 22:45:05.1825|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D9436320747e14945af2da01dad73fc1e%26nonce%3Debf44f73b5ef4be5b2d3b9f90f1625da   
2018-03-28 22:45:05.2283|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=9436320747e14945af2da01dad73fc1e&nonce=ebf44f73b5ef4be5b2d3b9f90f1625da) - ModelState is Valid 
2018-03-28 22:45:05.2506|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 22:45:05.2830|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 22:45:05.4583|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 163.4832ms 
2018-03-28 22:45:05.9414|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 309.566ms 200 text/html; charset=utf-8 
2018-03-28 22:45:06.1965|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 22:45:06.6165|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 135.6753ms 404  
2018-03-28 22:45:17.9152|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D9436320747e14945af2da01dad73fc1e%26nonce%3Debf44f73b5ef4be5b2d3b9f90f1625da application/x-www-form-urlencoded 232 
2018-03-28 22:45:17.9529|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=9436320747e14945af2da01dad73fc1e&nonce=ebf44f73b5ef4be5b2d3b9f90f1625da) - ModelState is Valid 
2018-03-28 22:45:17.9714|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:45:18.0288|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 22:45:18.1445|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:45:18.2195|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:45:18.2692|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:45:18.3709|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:45:18.4182|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:45:18.4596|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 22:45:18.4828|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 22:45:18.5067|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522248318 
2018-03-28 22:45:18.5328|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:45:18.5749|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 22:45:18.6822|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=9436320747e14945af2da01dad73fc1e&nonce=ebf44f73b5ef4be5b2d3b9f90f1625da. 
2018-03-28 22:45:18.7150|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 765.5373ms 
2018-03-28 22:45:18.7519|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 823.681ms 302  
2018-03-28 22:45:18.7910|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=9436320747e14945af2da01dad73fc1e&nonce=ebf44f73b5ef4be5b2d3b9f90f1625da   
2018-03-28 22:45:18.8319|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:45:18.8553|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:45:18.8894|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 22:45:18.9358|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 22:45:18.9792|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 22:45:19.0178|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 22:45:19.0787|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:45:19.1680|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:45:19.2086|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:45:19.3014|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "9436320747e14945af2da01dad73fc1e",
  "Nonce": "ebf44f73b5ef4be5b2d3b9f90f1625da",
  "SessionId": "0e0baa3362954acd6e9f2b288b94a436",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "9436320747e14945af2da01dad73fc1e",
    "nonce": "ebf44f73b5ef4be5b2d3b9f90f1625da"
  }
} 
2018-03-28 22:45:19.3366|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:45:19.4003|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:45:19.4453|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:45:19.4862|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:45:19.5194|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:45:19.5771|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:45:19.6005|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:45:19.6234|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:45:19.6519|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:45:19.6880|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:45:19.7550|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:45:19.8263|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:45:19.8894|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:45:19.9490|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:45:19.9823|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:45:20.0205|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:45:20.0849|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (18ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:45:20.1384|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:45:20.1744|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "9436320747e14945af2da01dad73fc1e",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:45:20.2149|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 22:45:20.2570|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 22:45:20.3018|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1496.5463ms 302  
2018-03-28 22:45:51.3537|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:45:51.4082|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:45:51.5061|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:45:51.5379|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:45:51.5688|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:45:51.5937|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:45:51.6153|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:45:51.6366|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:45:51.6594|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:45:51.8267|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 341.3315ms 200 application/json; charset=UTF-8 
2018-03-28 22:45:51.8586|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=c5d1a1b8d7064b28b689bccab4dd238d&nonce=84a8d4a16d89479984c45dcd069a115e   
2018-03-28 22:45:51.8988|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:45:51.9276|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:45:51.9617|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:45:51.9929|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:45:52.0283|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:45:52.0639|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:45:52.0970|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:45:52.1259|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:45:52.2133|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:45:52.3488|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "c5d1a1b8d7064b28b689bccab4dd238d",
  "Nonce": "84a8d4a16d89479984c45dcd069a115e",
  "SessionId": "0e0baa3362954acd6e9f2b288b94a436",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "c5d1a1b8d7064b28b689bccab4dd238d",
    "nonce": "84a8d4a16d89479984c45dcd069a115e"
  }
} 
2018-03-28 22:45:52.4385|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:45:52.5565|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:45:52.7590|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:45:52.8101|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:45:52.8879|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:45:53.3079|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:45:53.3361|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:45:53.3652|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:45:53.3979|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:45:53.4581|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (27ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:45:53.5023|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:45:53.5422|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:45:53.5807|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:45:53.6076|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:45:53.6397|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:45:53.6743|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:45:53.7094|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:45:53.7400|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:45:53.7640|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "c5d1a1b8d7064b28b689bccab4dd238d",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:45:53.7973|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1986.1551ms 302  
2018-03-28 22:56:57.2569|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:56:57.3493|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:56:57.4116|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:56:57.4433|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:56:57.5132|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:56:57.5789|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:56:57.6458|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:56:57.6707|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:56:57.6952|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:56:57.8687|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 567.7578ms 200 application/json; charset=UTF-8 
2018-03-28 22:56:57.9032|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=b8d40a016edf4938976d34bd6d5a1684&nonce=4e6c440a8c364aca965659e32152f32c   
2018-03-28 22:56:57.9528|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:56:57.9708|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:56:57.9925|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:56:58.0198|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:56:58.0426|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:56:58.0714|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:56:58.1031|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:56:58.1265|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:56:58.1596|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:56:58.1963|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "b8d40a016edf4938976d34bd6d5a1684",
  "Nonce": "4e6c440a8c364aca965659e32152f32c",
  "SessionId": "0e0baa3362954acd6e9f2b288b94a436",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "b8d40a016edf4938976d34bd6d5a1684",
    "nonce": "4e6c440a8c364aca965659e32152f32c"
  }
} 
2018-03-28 22:56:58.3662|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:56:59.8010|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (416ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:56:59.8771|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:57:00.0888|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (66ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:57:00.1517|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:57:00.2685|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:57:00.3212|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:57:00.3464|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:57:00.3851|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:57:00.4858|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (52ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:57:00.6326|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:57:00.6835|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:57:00.7459|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:57:00.8125|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:57:00.8709|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:57:00.9303|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:57:00.9854|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:57:01.0530|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:57:01.1170|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "b8d40a016edf4938976d34bd6d5a1684",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:57:01.1688|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3280.0511ms 302  
2018-03-28 22:58:29.4157|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:58:29.4558|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:58:29.5277|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:58:29.5475|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:58:29.5771|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:58:29.5952|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:58:29.6206|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:58:29.6415|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:58:29.6625|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:58:29.7275|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 288.7832ms 200 application/json; charset=UTF-8 
2018-03-28 22:58:29.8249|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=db2ca2fac34548e9897afd5534beefb8&nonce=97d3b310cdee4b299b513d4e58d9f4a9   
2018-03-28 22:58:29.8545|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:58:29.8925|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:58:29.9085|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:58:29.9352|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:58:29.9587|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:58:29.9917|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:58:30.0108|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:58:30.0323|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:58:30.2428|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:58:30.2736|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "db2ca2fac34548e9897afd5534beefb8",
  "Nonce": "97d3b310cdee4b299b513d4e58d9f4a9",
  "SessionId": "0e0baa3362954acd6e9f2b288b94a436",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "db2ca2fac34548e9897afd5534beefb8",
    "nonce": "97d3b310cdee4b299b513d4e58d9f4a9"
  }
} 
2018-03-28 22:58:30.3153|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:58:30.4270|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (33ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:58:30.4603|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:58:30.4933|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:58:30.5193|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:58:30.5726|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:58:30.5940|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:58:30.6192|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:58:30.6395|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:58:30.7184|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (25ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:58:30.7722|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:58:30.8107|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:58:30.8463|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:58:30.8859|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:58:30.9208|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:58:30.9537|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:58:30.9801|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:58:31.0184|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:58:31.0541|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "db2ca2fac34548e9897afd5534beefb8",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:58:31.0955|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1300.8689ms 302  
2018-03-28 22:59:30.8887|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:59:30.9956|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:59:31.0920|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:59:31.1864|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:59:31.2688|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:59:31.3302|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:59:31.3941|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:59:31.4703|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:59:31.6570|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:59:32.0921|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 853.2984ms 200 application/json; charset=UTF-8 
2018-03-28 22:59:32.2258|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=62555de88b954f77b5560e2101591fa0&nonce=fbaec8c161c645d184167790b219c3c9   
2018-03-28 22:59:32.3098|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:32.3869|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:32.7140|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:59:32.8973|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:59:33.1767|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:59:33.2365|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:59:33.2696|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:59:33.3198|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:59:33.3577|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 22:59:33.4545|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "62555de88b954f77b5560e2101591fa0",
  "Nonce": "fbaec8c161c645d184167790b219c3c9",
  "SessionId": "0e0baa3362954acd6e9f2b288b94a436",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "62555de88b954f77b5560e2101591fa0",
    "nonce": "fbaec8c161c645d184167790b219c3c9"
  }
} 
2018-03-28 22:59:33.4996|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:59:33.5466|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:59:33.5891|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 22:59:33.6261|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 22:59:33.6549|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 22:59:33.7061|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 22:59:33.8385|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 22:59:33.8937|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 22:59:33.9623|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:59:34.0909|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (88ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:59:34.1488|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:59:34.2478|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (43ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:59:34.3304|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (33ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:59:34.3917|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 22:59:34.5953|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (151ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:59:34.6597|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:59:34.7673|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:59:34.8308|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (38ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:59:34.8743|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "62555de88b954f77b5560e2101591fa0",
  "Scope": "openid profile email client_name"
} 
2018-03-28 22:59:34.9200|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2744.2946ms 302  
2018-03-28 22:59:47.5772|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 22:59:47.6565|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 22:59:47.6996|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:59:47.7338|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:59:47.7709|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:59:47.8373|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 22:59:47.8727|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 22:59:47.9013|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 22:59:47.9872|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 22:59:48.1307|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 445.7764ms 200 application/json; charset=UTF-8 
2018-03-28 22:59:48.1893|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-28 22:59:48.2504|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-28 22:59:48.3743|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:59:48.4102|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:59:48.4411|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:59:48.4886|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-28 22:59:48.6611|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-28 22:59:48.6914|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-28 22:59:48.8581|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-28 22:59:49.1234|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 894.4718ms 200 application/json; charset=UTF-8 
2018-03-28 22:59:49.3833|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-28 22:59:49.4376|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 22:59:49.4810|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:59:49.5090|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:59:49.5551|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:59:49.5968|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 233.7848ms 204  
2018-03-28 22:59:49.6245|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-28 22:59:49.6467|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 22:59:49.6772|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 22:59:49.7238|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 22:59:49.7595|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 22:59:49.7913|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-28 22:59:49.8408|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-28 22:59:49.8906|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-28 22:59:49.9733|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-28 22:59:50.0069|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-28 22:59:50.3123|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 22:59:50.3443|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 22:59:50.3836|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 22:59:50.4381|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1522249174,
    "exp": 1522256374,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522248318,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "scope": [
      "openid",
      "profile",
      "email",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-28 22:59:50.4915|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-28 22:59:50.5268|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 22:59:50.5544|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 22:59:50.5888|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified 
2018-03-28 22:59:50.6064|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 22:59:50.6391|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 22:59:50.6764|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 22:59:50.7186|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 22:59:50.7589|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 22:59:50.7876|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name email email_verified 
2018-03-28 22:59:50.8095|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-28 22:59:51.0168|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1226.3364ms 200 application/json; charset=UTF-8 
2018-03-28 22:59:51.1687|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 22:59:51.2154|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:51.2556|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:51.2862|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 22:59:51.3395|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 22:59:51.3767|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 22:59:51.4066|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 22:59:51.5154|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 289.3593ms 200 text/html; charset=UTF-8 
2018-03-28 22:59:53.7185|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=531916153ff24720a9590486b6d0caba&nonce=4d908e05b5b24a2f835a79380b04cda4&prompt=none   
2018-03-28 22:59:53.7515|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:53.7753|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:53.8045|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 22:59:53.8249|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 22:59:53.8427|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 22:59:53.8645|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 22:59:53.8838|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 22:59:53.9015|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 22:59:53.9227|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "531916153ff24720a9590486b6d0caba",
    "nonce": "4d908e05b5b24a2f835a79380b04cda4",
    "prompt": "none"
  }
} 
2018-03-28 22:59:53.9508|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 22:59:53.9691|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "531916153ff24720a9590486b6d0caba",
    "nonce": "4d908e05b5b24a2f835a79380b04cda4",
    "prompt": "none"
  }
} 
2018-03-28 22:59:54.0469|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 333.5182ms 302  
2018-03-28 22:59:54.0739|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspsyBKPFr90oCxY0egn87sPednSCerMzhKMVvVofJK7S5af8PfiScPLni5sNictyF5NRmjKIXSTsg84yqy9Mo5AsW7aOx42IJkcrJ_xi8jnEaHesLwDY90I6iKH9mWQfEZUyiI0z-u-mfegqLBWGJNx2s4EWWIAYL48yLREmkUkV7_Z9KWvjQDSGwvcslVbssrkVa_yZAnsZBAzXyPTnq5JcjjEapn652ypSL1PsvvnWLmu1Zf0Y02VdWHbzGvFynHqo0ofHwJCVVQ9W2e2UmBM5uA5MUMXa_8eqTIw5maJrA   
2018-03-28 22:59:54.1034|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:54.1402|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 22:59:54.2739|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspsyBKPFr90oCxY0egn87sPednSCerMzhKMVvVofJK7S5af8PfiScPLni5sNictyF5NRmjKIXSTsg84yqy9Mo5AsW7aOx42IJkcrJ_xi8jnEaHesLwDY90I6iKH9mWQfEZUyiI0z-u-mfegqLBWGJNx2s4EWWIAYL48yLREmkUkV7_Z9KWvjQDSGwvcslVbssrkVa_yZAnsZBAzXyPTnq5JcjjEapn652ypSL1PsvvnWLmu1Zf0Y02VdWHbzGvFynHqo0ofHwJCVVQ9W2e2UmBM5uA5MUMXa_8eqTIw5maJrA) - ModelState is Valid 
2018-03-28 22:59:56.6448|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 22:59:56.7487|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 2482.8712ms 
2018-03-28 22:59:56.7957|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2699.777ms 200 text/html; charset=utf-8 
2018-03-28 22:59:56.8326|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/site.css   
2018-03-28 22:59:56.8842|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /css/site.css was not modified 
2018-03-28 22:59:56.9167|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 82.7055ms 304 text/css 
2018-03-28 23:00:55.5398|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:00:55.6533|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:00:55.7204|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:00:55.7459|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:00:55.7744|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:00:55.7922|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:00:55.8098|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:00:55.8288|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:00:55.8535|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:00:55.9045|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 331.4141ms 200 application/json; charset=UTF-8 
2018-03-28 23:00:55.9302|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:00:55.9644|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:56.0214|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:56.0471|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:00:56.1300|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:00:56.3032|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:00:56.3409|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:00:56.3936|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 447.1461ms 200 text/html; charset=UTF-8 
2018-03-28 23:00:58.5894|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=881f4b5ba94847439ad151e3be7e3c33&nonce=52db3b7b889c4be3983609ecb001619b&prompt=none   
2018-03-28 23:00:58.6384|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:58.6997|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:58.7426|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:00:58.7708|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:00:58.8157|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:00:58.8434|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:00:58.8876|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:00:58.9122|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:00:58.9392|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "881f4b5ba94847439ad151e3be7e3c33",
    "nonce": "52db3b7b889c4be3983609ecb001619b",
    "prompt": "none"
  }
} 
2018-03-28 23:00:58.9651|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:00:58.9900|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "881f4b5ba94847439ad151e3be7e3c33",
    "nonce": "52db3b7b889c4be3983609ecb001619b",
    "prompt": "none"
  }
} 
2018-03-28 23:00:59.0297|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 425.6241ms 302  
2018-03-28 23:00:59.0649|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqWU3X9bCvcS2_Da-MzOgCck6gVVp4iozo_pBLb_9oDNjBG3Ic_wUjXtscfdcCiHNYHJBXO4kanXvIPNnDw6P0Lsq9ojD4qAXYoWibUjFKVpwC6Rdy_K8akrzK0v8p7p5rzCCXkKeLjUMFFTIOgXXhS0yTtQxyZiLo0MadazIWPqE0-6lQbUqciMStNqGuy26iK2xajdhWKX_VQKhpvKmvJGC00KfYLpC1O9HCETpXJk5ks-mxHWSFihsI6A8SN9UaVOrhNeQK1tAwA6obGJ9P2jp37Ih1Vdu-ANHoBom-bbg   
2018-03-28 23:00:59.1007|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:59.1261|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:00:59.1916|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqWU3X9bCvcS2_Da-MzOgCck6gVVp4iozo_pBLb_9oDNjBG3Ic_wUjXtscfdcCiHNYHJBXO4kanXvIPNnDw6P0Lsq9ojD4qAXYoWibUjFKVpwC6Rdy_K8akrzK0v8p7p5rzCCXkKeLjUMFFTIOgXXhS0yTtQxyZiLo0MadazIWPqE0-6lQbUqciMStNqGuy26iK2xajdhWKX_VQKhpvKmvJGC00KfYLpC1O9HCETpXJk5ks-mxHWSFihsI6A8SN9UaVOrhNeQK1tAwA6obGJ9P2jp37Ih1Vdu-ANHoBom-bbg) - ModelState is Valid 
2018-03-28 23:00:59.2408|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:00:59.4865|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 194.2552ms 
2018-03-28 23:00:59.5456|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 441.8556ms 200 text/html; charset=utf-8 
2018-03-28 23:02:31.6398|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:02:31.6643|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:02:31.7044|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:02:31.7246|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:02:31.7459|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:02:31.7690|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:02:31.7967|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:02:31.8280|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:02:31.8616|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:02:31.9088|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 267.9659ms 200 application/json; charset=UTF-8 
2018-03-28 23:02:32.5756|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:02:32.6291|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:32.6676|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:32.7029|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:02:32.7434|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:02:32.7822|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:02:32.8057|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:02:32.8805|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 257.0848ms 200 text/html; charset=UTF-8 
2018-03-28 23:02:35.6594|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=5c98875a6d3e47c19d12d966877426bc&nonce=a45104905e1b4737921fa4a025635412&prompt=none   
2018-03-28 23:02:35.7026|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:35.8544|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:35.8902|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:02:36.0082|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:02:36.4656|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:02:36.7579|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:02:37.2423|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:02:37.2879|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:02:37.3165|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "5c98875a6d3e47c19d12d966877426bc",
    "nonce": "a45104905e1b4737921fa4a025635412",
    "prompt": "none"
  }
} 
2018-03-28 23:02:37.3647|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:02:37.4205|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "5c98875a6d3e47c19d12d966877426bc",
    "nonce": "a45104905e1b4737921fa4a025635412",
    "prompt": "none"
  }
} 
2018-03-28 23:02:37.6271|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1897.4493ms 302  
2018-03-28 23:02:37.8106|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqE0uigV7hviHwr0gv_TJZ0ay-r-DBSDrmxF2ulNuD4mEVES93AVUOG9HRJG4i0sf7TeG7bEZkZXNR-F1jqMF9M40b7LYKaYHM14LKdFZAGWFCjB9fna7qmJMB6DXI84w6VZUbyBMyTXFkhqCVzUIHJuhGQyD5LraUmP2cXn0CSZKf6wmWlHJxUYg1FLmxQh0mKqps7o1VkJtQw6nc3XaobxrGVxz99Y4VAoCFOuYgNWhjRnlrZ1cRsN-IQj1AaFyoT6MihrNXt41PwVGtX9XPXdTsJpE4okjdsyav8Rq0qlQ   
2018-03-28 23:02:37.8512|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:37.8967|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:02:38.1059|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqE0uigV7hviHwr0gv_TJZ0ay-r-DBSDrmxF2ulNuD4mEVES93AVUOG9HRJG4i0sf7TeG7bEZkZXNR-F1jqMF9M40b7LYKaYHM14LKdFZAGWFCjB9fna7qmJMB6DXI84w6VZUbyBMyTXFkhqCVzUIHJuhGQyD5LraUmP2cXn0CSZKf6wmWlHJxUYg1FLmxQh0mKqps7o1VkJtQw6nc3XaobxrGVxz99Y4VAoCFOuYgNWhjRnlrZ1cRsN-IQj1AaFyoT6MihrNXt41PwVGtX9XPXdTsJpE4okjdsyav8Rq0qlQ) - ModelState is Valid 
2018-03-28 23:02:38.4414|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:02:38.9697|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 608.6008ms 
2018-03-28 23:02:39.0293|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1197.8844ms 200 text/html; charset=utf-8 
2018-03-28 23:03:36.9381|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:03:36.9758|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:03:37.0939|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:03:37.1359|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:03:37.1652|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:03:37.1945|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:03:37.2562|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:03:37.3092|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:03:37.3317|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:03:37.3871|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 425.8282ms 200 application/json; charset=UTF-8 
2018-03-28 23:03:37.4093|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:03:37.4450|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:37.4707|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:37.4964|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:03:37.5175|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:03:37.5490|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:03:37.6421|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:03:37.9579|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 314.1287ms 200 text/html; charset=UTF-8 
2018-03-28 23:03:40.0550|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=7874fbd28fac4947b3985c621f6ae0ed&nonce=0b028f1f6a1f461cb28ac6de3d6a1845&prompt=none   
2018-03-28 23:03:40.0848|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:40.1061|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:40.1258|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:03:40.1529|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:03:40.1820|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:03:40.2638|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:03:40.3043|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:03:40.3259|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:03:40.3585|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "7874fbd28fac4947b3985c621f6ae0ed",
    "nonce": "0b028f1f6a1f461cb28ac6de3d6a1845",
    "prompt": "none"
  }
} 
2018-03-28 23:03:40.3861|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:03:40.4228|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "7874fbd28fac4947b3985c621f6ae0ed",
    "nonce": "0b028f1f6a1f461cb28ac6de3d6a1845",
    "prompt": "none"
  }
} 
2018-03-28 23:03:40.4581|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 394.1634ms 302  
2018-03-28 23:03:40.4946|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspwoO6j8Qs8VSZBp9AyGMaaMzSnr_pEUoJ35AYC5gXiCCi6nyNMxBCvC3Gshw-tB0H9jMrBMxIB3T1btHzzkHj5ptm1baaZ4UdMwLWK4mq277dvWKJ5JCnmPDH3xQWbZzKSGZ5NX9qWzInNV9mz0sX_bl1INWcmml6bn_-Zr5Z5_xwA-5F1-5v6K7feRk39wDGTub6mXQkam7Qks2tcDfwq74xPY-3a_AA_MnNkqgNwAa9p1HcnekHEu7ay0OPCLCgzswiPkj3CD2GtqKoCers0YQzvz1Py-8i2L2e7GcyrPA   
2018-03-28 23:03:40.5275|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:40.5495|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:03:40.5709|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspwoO6j8Qs8VSZBp9AyGMaaMzSnr_pEUoJ35AYC5gXiCCi6nyNMxBCvC3Gshw-tB0H9jMrBMxIB3T1btHzzkHj5ptm1baaZ4UdMwLWK4mq277dvWKJ5JCnmPDH3xQWbZzKSGZ5NX9qWzInNV9mz0sX_bl1INWcmml6bn_-Zr5Z5_xwA-5F1-5v6K7feRk39wDGTub6mXQkam7Qks2tcDfwq74xPY-3a_AA_MnNkqgNwAa9p1HcnekHEu7ay0OPCLCgzswiPkj3CD2GtqKoCers0YQzvz1Py-8i2L2e7GcyrPA) - ModelState is Valid 
2018-03-28 23:03:40.5974|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:03:40.6620|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 52.1026ms 
2018-03-28 23:03:40.7047|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 203.3266ms 200 text/html; charset=utf-8 
2018-03-28 23:04:26.0860|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:04:26.2026|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:04:26.2525|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:04:26.2847|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:04:26.3067|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:04:26.3243|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:04:26.3443|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:04:26.4148|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:04:26.6121|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:04:26.9026|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 550.8409ms 200 application/json; charset=UTF-8 
2018-03-28 23:04:27.0631|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:04:27.1679|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:27.2146|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:27.2847|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:04:27.3166|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:04:27.3458|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:04:27.3849|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:04:27.5847|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 491.4534ms 200 text/html; charset=UTF-8 
2018-03-28 23:04:29.8406|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=e3bd6c49277344e8b8bc1257f274793a&nonce=362382863aad430c9c1d479816a3a92c&prompt=none   
2018-03-28 23:04:30.0381|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:30.3009|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:30.8319|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:04:30.9605|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:04:31.1427|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:04:31.4112|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:04:31.4964|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:04:31.5315|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:04:31.5637|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e3bd6c49277344e8b8bc1257f274793a",
    "nonce": "362382863aad430c9c1d479816a3a92c",
    "prompt": "none"
  }
} 
2018-03-28 23:04:31.5970|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:04:31.6570|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "e3bd6c49277344e8b8bc1257f274793a",
    "nonce": "362382863aad430c9c1d479816a3a92c",
    "prompt": "none"
  }
} 
2018-03-28 23:04:31.6994|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1887.383ms 302  
2018-03-28 23:04:31.8689|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqExxD9nIMGzqJQ8Zg_-9E6veChnwdiLbkVk0sQw69tnvesnJ306CVjlfUyHoiuXvMhWdmZBJr7Hc9i--zi9BivE0ug2Vr7ANckPFCki7VdAswCr5JDbMmvcwuee105uQY4OHPqxRdXj55_p24D3ioFGZsGAVE3PFp6Kgy7tmsJjWP40RrWVw0WCrjzBsWJqqh6tEZL9YFSgwF_LMS0qkGMUnT4wI7ik80Hb5YPxa7GK3mAfC3AkqpCXToIQYTY3W2al9u4BCzcwpY7B1aPwsQ7qt4rCsRk68dBtu9vXwrm_g   
2018-03-28 23:04:32.0485|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:32.0787|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:04:32.1065|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqExxD9nIMGzqJQ8Zg_-9E6veChnwdiLbkVk0sQw69tnvesnJ306CVjlfUyHoiuXvMhWdmZBJr7Hc9i--zi9BivE0ug2Vr7ANckPFCki7VdAswCr5JDbMmvcwuee105uQY4OHPqxRdXj55_p24D3ioFGZsGAVE3PFp6Kgy7tmsJjWP40RrWVw0WCrjzBsWJqqh6tEZL9YFSgwF_LMS0qkGMUnT4wI7ik80Hb5YPxa7GK3mAfC3AkqpCXToIQYTY3W2al9u4BCzcwpY7B1aPwsQ7qt4rCsRk68dBtu9vXwrm_g) - ModelState is Valid 
2018-03-28 23:04:32.1339|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:04:32.3967|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 68.7236ms 
2018-03-28 23:04:32.7064|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 679.2475ms 200 text/html; charset=utf-8 
2018-03-28 23:05:14.3376|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsq3k7vZ54D6AE--cmy_6vsVBgVk3lkohuld8kcusta9LU1yPhPbddbytdYmy3Rbf5dJg7-Bg7hf1OSKhuQEremzk3ggnIv_SdLr6REPPVP8t3VGVxWS4SrGLmmii4nOwtp-FGnHecsJbcIWgvcpfwfUVUH1Ixf6GqgLuBJcQ6qNzsK_mutuFr9slnciFiauW0hexGoClP7DqvGVKszrXKV8c2fy7K4-roTF0YDnMKvZznbw_ouqAyXCKCySiqB5Kk4o0OV1oYxS3HXdDGNql8OkVnd1d6CGd00gO4Y9NvipOUB2ZIqDw5AK01FfZ8cUNcI   
2018-03-28 23:05:14.3902|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:14.4538|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:14.5088|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 23:05:14.5868|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 23:05:14.6484|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 23:05:14.9239|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 23:05:14.9673|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 23:05:15.2121|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 23:05:15.3626|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 23:05:15.3961|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 23:05:15.4286|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 23:05:15.4870|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1139.884ms 200 text/html; charset=UTF-8 
2018-03-28 23:05:26.3676|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:05:26.5037|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:05:26.6356|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:05:26.6671|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:05:26.6870|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:05:26.7110|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:05:26.7316|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:05:26.7521|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:05:26.7807|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:05:26.8671|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 440.1693ms 200 application/json; charset=UTF-8 
2018-03-28 23:05:26.9077|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:05:27.2107|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:27.3085|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:27.4680|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:05:27.5315|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:05:27.5597|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:05:27.5878|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:05:27.6416|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 732.1177ms 200 text/html; charset=UTF-8 
2018-03-28 23:05:29.4369|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?id_token_hint=eyJhbGciOiJSUzI1NiIsImtpZCI6IkRBMDQ5NEZGN0ZDRjA1MUE4ODlCQkVDQjU0MTQzOEY0QjZGREU3QzQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiIyZ1NVXzNfUEJScUltNzdMVkJRNDlMYjk1OFEifQ.eyJuYmYiOjE1MjIyNDkxNzQsImV4cCI6MTUyMjI0OTQ3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiY2xpZW50X2lkIiwibm9uY2UiOiJmYmFlYzhjMTYxYzY0NWQxODQxNjc3OTBiMjE5YzNjOSIsImlhdCI6MTUyMjI0OTE3NCwiYXRfaGFzaCI6Ii1rTDhCb29Mb0E3YmxtV2ZFampCekEiLCJzaWQiOiIwZTBiYWEzMzYyOTU0YWNkNmU5ZjJiMjg4Yjk0YTQzNiIsInN1YiI6IjRiMGJmMDFjLTZmYWUtNGVjYy05MjAyLWZlYWRhNzdhZDM4OCIsImF1dGhfdGltZSI6MTUyMjI0ODMxOCwiaWRwIjoibG9jYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhZG1pbiIsIm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiOTk3NTI1MTA2QHFxLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhbXIiOlsicHdkIl19.Mu2qs2l8AhgClORdQOiVT4AYY-fRgYgfd7E-q1diUJBNyN0sdHhcIEIT5Vp8z_8EWyB75zgl0vOE6jDf009CtS1Z0t6Wjl3kze7szI_w41PQ8yr2ZMbzN_6XGAIgRmNibaUSUcX6WQ1iB9Y9Tbd0qvFcc0Fpq62nQGBdVo-Oa7EIjNOfMv1TfMcdxUFBNS_TqAz5QDkciQjqa51AgZgt0zFkRh0mYJs_-vNYYVPkF5wQNThLJA8X0WHxiH4GwVh96EveDWeh6KCMbcbk4X5tIdlXR7zY3IZ7Oyalk6B23mLqHc9QBGYDzNtLZd8Egc1PLQJyhXVCv6n1LfIN2poNIQ&post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5200   
2018-03-28 23:05:29.4700|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:29.4987|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:29.5379|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession matched to endpoint type Endsession 
2018-03-28 23:05:29.7082|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint 
2018-03-28 23:05:29.7396|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession 
2018-03-28 23:05:29.8308|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Processing signout request for 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:05:29.9011|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|Start end session request validation 
2018-03-28 23:05:29.9671|0|IdentityServer4.Validation.TokenValidator|DEBUG|Start identity token validation 
2018-03-28 23:05:30.0183|0|IdentityServer4.Validation.TokenValidator|DEBUG|Client found: client_id / client_name 
2018-03-28 23:05:30.3607|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:05:31.3027|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (28ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:05:31.3260|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 23:05:31.3490|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "ValidateLifetime": false,
  "Claims": {
    "nbf": 1522249174,
    "exp": 1522249474,
    "iss": "http://localhost:5000",
    "aud": "client_id",
    "nonce": "fbaec8c161c645d184167790b219c3c9",
    "iat": 1522249174,
    "at_hash": "-kL8BooLoA7blmWfEjjBzA",
    "sid": "0e0baa3362954acd6e9f2b288b94a436",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522248318,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "email_verified": true,
    "amr": "pwd"
  }
} 
2018-03-28 23:05:31.4187|0|IdentityServer4.Validation.EndSessionRequestValidator|INFO|End session request validation success
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "PostLogOutUri": "http://localhost:5200",
  "Raw": {
    "id_token_hint": "eyJhbGciOiJSUzI1NiIsImtpZCI6IkRBMDQ5NEZGN0ZDRjA1MUE4ODlCQkVDQjU0MTQzOEY0QjZGREU3QzQiLCJ0eXAiOiJKV1QiLCJ4NXQiOiIyZ1NVXzNfUEJScUltNzdMVkJRNDlMYjk1OFEifQ.eyJuYmYiOjE1MjIyNDkxNzQsImV4cCI6MTUyMjI0OTQ3NCwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo1MDAwIiwiYXVkIjoiY2xpZW50X2lkIiwibm9uY2UiOiJmYmFlYzhjMTYxYzY0NWQxODQxNjc3OTBiMjE5YzNjOSIsImlhdCI6MTUyMjI0OTE3NCwiYXRfaGFzaCI6Ii1rTDhCb29Mb0E3YmxtV2ZFampCekEiLCJzaWQiOiIwZTBiYWEzMzYyOTU0YWNkNmU5ZjJiMjg4Yjk0YTQzNiIsInN1YiI6IjRiMGJmMDFjLTZmYWUtNGVjYy05MjAyLWZlYWRhNzdhZDM4OCIsImF1dGhfdGltZSI6MTUyMjI0ODMxOCwiaWRwIjoibG9jYWwiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJhZG1pbiIsIm5hbWUiOiJhZG1pbiIsImVtYWlsIjoiOTk3NTI1MTA2QHFxLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhbXIiOlsicHdkIl19.Mu2qs2l8AhgClORdQOiVT4AYY-fRgYgfd7E-q1diUJBNyN0sdHhcIEIT5Vp8z_8EWyB75zgl0vOE6jDf009CtS1Z0t6Wjl3kze7szI_w41PQ8yr2ZMbzN_6XGAIgRmNibaUSUcX6WQ1iB9Y9Tbd0qvFcc0Fpq62nQGBdVo-Oa7EIjNOfMv1TfMcdxUFBNS_TqAz5QDkciQjqa51AgZgt0zFkRh0mYJs_-vNYYVPkF5wQNThLJA8X0WHxiH4GwVh96EveDWeh6KCMbcbk4X5tIdlXR7zY3IZ7Oyalk6B23mLqHc9QBGYDzNtLZd8Egc1PLQJyhXVCv6n1LfIN2poNIQ",
    "post_logout_redirect_uri": "http://localhost:5200"
  }
} 
2018-03-28 23:05:31.5303|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Success validating end session request from client_id 
2018-03-28 23:05:31.7774|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2280.0752ms 302  
2018-03-28 23:05:31.8187|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8BC_M7YetWVIrJcwI8SRrsp2zxvWC8KYGxj8Hwj0K82WdCmla6vHbi1nClcfgAJahOlHzQy6Tql8WGuwu96BxWMMOjeSmQCCEIkVwD2uUTkRsQSlpidQc0cFXPouTRoHNwCzzIZB_3l19aW8N6i8RMppktZOZR7zhuSn_Pfuvu5MC_NdL66G0SlMz1g9F7FM7xarpyHCdsgHhDtTtVz0iHswbprxdE8CLbKWORmvvywJ0JMl0E8nuUpNbAmp9BBgZL4l4pjW_GhI9-0noy_6YV3F-MoG88jymwFaAa9WjSR9YMdI9ff5kXYcGey_PuvebXmWb_KZIOZ-47Z3VIu3OD1Wr2CcXSnQquVVYk67IlJrmsHUrkswUcISuNAGwPMPnJQiwu73u4bWN_WONWBrwON0VVa4b7SGD5h_CObIDK5zL1doPF87U3h3GyXrTKmkJmC1THRBdEifE9gUeLTKTCRDWVhDXbKFjRVMy3Og8De4   
2018-03-28 23:05:31.8468|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:31.8649|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:31.9467|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsp2zxvWC8KYGxj8Hwj0K82WdCmla6vHbi1nClcfgAJahOlHzQy6Tql8WGuwu96BxWMMOjeSmQCCEIkVwD2uUTkRsQSlpidQc0cFXPouTRoHNwCzzIZB_3l19aW8N6i8RMppktZOZR7zhuSn_Pfuvu5MC_NdL66G0SlMz1g9F7FM7xarpyHCdsgHhDtTtVz0iHswbprxdE8CLbKWORmvvywJ0JMl0E8nuUpNbAmp9BBgZL4l4pjW_GhI9-0noy_6YV3F-MoG88jymwFaAa9WjSR9YMdI9ff5kXYcGey_PuvebXmWb_KZIOZ-47Z3VIu3OD1Wr2CcXSnQquVVYk67IlJrmsHUrkswUcISuNAGwPMPnJQiwu73u4bWN_WONWBrwON0VVa4b7SGD5h_CObIDK5zL1doPF87U3h3GyXrTKmkJmC1THRBdEifE9gUeLTKTCRDWVhDXbKFjRVMy3Og8De4) - ModelState is Valid 
2018-03-28 23:05:32.0386|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:05:32.0643|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:05:32.0858|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:05:32.1051|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:05:32.1403|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:05:32.2080|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 248.2899ms 
2018-03-28 23:05:32.4253|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 433.0144ms 200 text/html; charset=utf-8 
2018-03-28 23:05:32.8445|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsoLK-fj47imy9P8Oeu6nvkvUwNFeh7mQPgJlvmqc1t6EQzNHeC9xvltF1wP8cJ0l6wA3JVCzVBqS-MOx4B0BSi_jPpxGj3HKHNGGevKF7-5H-NrtC75BH9h94SF_M7jilou6bzeZh43xZhO_Q77U7xRzLgG_aK__TK0g23A8Ob7xX5G_xhJLcjEa62sI5yeraTi06HVKNNTBTfa9rkkpHKRDrNiMMSj6_2Zl9OmGGRBfRqLtc0QVg07XE_LihkLoevrjxFozC68K1Ozbq_PB8VedDyhg_EOOKCj3jGdcEbPS7z-HabO2KXTu81ImFTDnhA   
2018-03-28 23:05:32.9097|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 23:05:32.9762|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 23:05:33.0015|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 23:05:33.0330|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 23:05:33.0729|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 23:05:33.2525|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 23:05:33.2819|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 23:05:33.3124|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 23:05:33.3390|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 23:05:33.4358|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 722.2608ms 200 text/html; charset=UTF-8 
2018-03-28 23:05:37.5548|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/Account/Login   
2018-03-28 23:05:37.5813|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments () - ModelState is Valid 
2018-03-28 23:05:37.5990|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:05:37.6251|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 23:05:37.7278|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 118.0217ms 
2018-03-28 23:05:37.8675|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 234.2333ms 200 text/html; charset=utf-8 
2018-03-28 23:05:38.0669|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 23:05:38.1289|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 41.5869ms 404  
2018-03-28 23:05:48.7308|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login application/x-www-form-urlencoded 232 
2018-03-28 23:05:48.7699|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, ) - ModelState is Valid 
2018-03-28 23:05:48.7952|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:05:48.8483|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 23:05:48.9561|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (37ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:05:49.0112|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:05:49.0455|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:05:49.1421|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:05:49.1991|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:05:49.4718|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 23:05:49.5653|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 23:05:49.6012|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522249549 
2018-03-28 23:05:49.6515|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:05:49.7400|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 23:05:49.8303|1|Microsoft.AspNetCore.Mvc.RedirectToActionResult|INFO|Executing RedirectResult, redirecting to /. 
2018-03-28 23:05:49.8577|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 1097.3074ms 
2018-03-28 23:05:49.9224|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1146.1098ms 302  
2018-03-28 23:05:49.9607|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 23:05:49.9961|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:50.0246|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:05:50.0738|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 23:05:50.1005|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 23:05:50.1623|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 84.2916ms 
2018-03-28 23:05:50.5115|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 260.1271ms 200 text/html; charset=utf-8 
2018-03-28 23:06:06.0962|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 23:06:06.1391|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:06:06.1757|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:06:06.2055|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 23:06:06.2280|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:06:06.2588|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:06:06.3037|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:06:06.3386|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:06:06.3713|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:06:06.6066|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 194.5359ms 
2018-03-28 23:06:06.6896|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 553.8496ms 200 text/html; charset=utf-8 
2018-03-28 23:07:47.7226|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:07:47.7812|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:07:47.8773|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:07:48.0162|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:07:48.0597|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:07:48.1048|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:07:48.1653|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:07:48.1875|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:07:48.2363|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:07:48.6507|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 603.2796ms 200 application/json; charset=UTF-8 
2018-03-28 23:07:48.8200|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=25ba8148a7534397967017426693d30b&nonce=2b54857c53a749da9ddadf6915d32fcd   
2018-03-28 23:07:49.0590|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:07:49.2676|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:07:49.2944|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:07:49.3259|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:07:49.3661|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 23:07:49.3986|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:07:49.4388|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:07:49.4781|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "25ba8148a7534397967017426693d30b",
  "Nonce": "2b54857c53a749da9ddadf6915d32fcd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "25ba8148a7534397967017426693d30b",
    "nonce": "2b54857c53a749da9ddadf6915d32fcd"
  }
} 
2018-03-28 23:07:49.5094|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 23:07:49.5468|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 832.88ms 302  
2018-03-28 23:07:49.5762|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D25ba8148a7534397967017426693d30b%26nonce%3D2b54857c53a749da9ddadf6915d32fcd   
2018-03-28 23:07:49.6703|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=25ba8148a7534397967017426693d30b&nonce=2b54857c53a749da9ddadf6915d32fcd) - ModelState is Valid 
2018-03-28 23:07:49.7258|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:07:49.7768|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 23:07:49.9100|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 254.9982ms 
2018-03-28 23:07:50.0075|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 357.098ms 200 text/html; charset=utf-8 
2018-03-28 23:07:50.6374|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 23:07:50.7670|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 303.3039ms 404  
2018-03-28 23:07:57.0296|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D25ba8148a7534397967017426693d30b%26nonce%3D2b54857c53a749da9ddadf6915d32fcd application/x-www-form-urlencoded 232 
2018-03-28 23:07:57.0664|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=25ba8148a7534397967017426693d30b&nonce=2b54857c53a749da9ddadf6915d32fcd) - ModelState is Valid 
2018-03-28 23:07:57.1420|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:07:57.3975|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (173ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 23:07:57.4908|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:07:57.5759|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:07:57.6418|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:07:57.7799|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (55ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:07:57.8119|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:07:57.8521|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 23:07:57.8727|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 23:07:57.8915|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522249677 
2018-03-28 23:07:57.9139|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:07:57.9411|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 23:07:57.9751|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=25ba8148a7534397967017426693d30b&nonce=2b54857c53a749da9ddadf6915d32fcd. 
2018-03-28 23:07:58.0034|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 940.4389ms 
2018-03-28 23:07:58.0435|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 995.6939ms 302  
2018-03-28 23:07:58.0769|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=25ba8148a7534397967017426693d30b&nonce=2b54857c53a749da9ddadf6915d32fcd   
2018-03-28 23:07:58.1296|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:07:58.1612|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:07:58.1808|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 23:07:58.2102|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 23:07:58.2358|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 23:07:58.2639|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 23:07:58.2960|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:07:58.3175|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:07:58.3412|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:07:58.3791|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "25ba8148a7534397967017426693d30b",
  "Nonce": "2b54857c53a749da9ddadf6915d32fcd",
  "SessionId": "db2581531d559a6f68a34f5b20de8a40",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "25ba8148a7534397967017426693d30b",
    "nonce": "2b54857c53a749da9ddadf6915d32fcd"
  }
} 
2018-03-28 23:07:58.4162|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:07:58.4786|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:07:58.5280|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 23:07:58.5889|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (27ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 23:07:58.6383|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 23:07:58.7264|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 23:07:58.7557|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 23:07:58.7820|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 23:07:58.8087|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:07:58.9214|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:07:58.9712|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:07:59.0314|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:07:59.1134|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:07:59.4103|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 23:07:59.4522|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:07:59.4967|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:07:59.5411|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:07:59.5975|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:07:59.7741|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "25ba8148a7534397967017426693d30b",
  "Scope": "openid profile email client_name"
} 
2018-03-28 23:07:59.8072|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:07:59.9361|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:08:00.0243|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1887.1954ms 302  
2018-03-28 23:08:08.3707|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:08:08.4193|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:08:08.4415|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:08:08.4674|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:08:08.4991|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:08:08.5417|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:08:08.5834|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:08:08.6328|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:08:08.6659|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:08:09.0572|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 381.0398ms 200 application/json; charset=UTF-8 
2018-03-28 23:08:09.2848|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-28 23:08:09.3276|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-28 23:08:09.3673|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:08:09.4005|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:08:09.4785|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:08:09.5454|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-28 23:08:09.6423|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-28 23:08:09.7712|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-28 23:08:09.9387|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-28 23:08:10.3387|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 700.2279ms 200 application/json; charset=UTF-8 
2018-03-28 23:08:10.4713|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-28 23:08:10.5072|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:08:10.5492|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:08:10.5723|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:08:10.6146|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:08:10.6685|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 184.2093ms 204  
2018-03-28 23:08:10.7552|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-28 23:08:10.7998|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:08:10.8340|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:08:10.8577|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:08:10.8784|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:08:10.9039|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-28 23:08:10.9338|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-28 23:08:10.9819|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-28 23:08:11.0294|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-28 23:08:11.0566|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-28 23:08:11.0910|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:08:11.1489|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:08:11.1818|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 23:08:11.3076|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1522249679,
    "exp": 1522256879,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522249677,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "scope": [
      "openid",
      "profile",
      "email",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-28 23:08:11.3550|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-28 23:08:11.4165|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:08:11.4614|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:08:11.5075|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified 
2018-03-28 23:08:11.5394|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:08:11.5822|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:08:11.6415|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:08:11.6908|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:08:11.7359|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:08:11.7663|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name email email_verified 
2018-03-28 23:08:11.8071|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-28 23:08:12.3127|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1099.6747ms 200 application/json; charset=UTF-8 
2018-03-28 23:08:12.8748|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:08:12.9265|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:12.9509|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:12.9739|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:08:13.0034|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:08:13.0303|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:08:13.0653|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:08:13.0928|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 764.6743ms 200 text/html; charset=UTF-8 
2018-03-28 23:08:19.3973|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:08:19.4236|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:08:19.6301|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:08:19.6604|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:08:19.6867|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:08:19.9188|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:08:20.5051|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:08:20.7132|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:08:20.7395|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:08:20.8440|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1364.7213ms 200 application/json; charset=UTF-8 
2018-03-28 23:08:20.9522|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:08:21.0614|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:21.2087|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:21.6612|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:08:21.7077|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:08:21.7487|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:08:21.9310|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:08:22.0309|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1093.4064ms 200 text/html; charset=UTF-8 
2018-03-28 23:08:24.2137|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=77e483a9d6214a3e8c15d5cf39b770f9&nonce=31499e779ae940f6a70f1bc38ec0cef8&prompt=none   
2018-03-28 23:08:24.2401|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:24.2643|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:24.2831|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:08:24.3043|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:08:24.3319|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:08:24.3572|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:08:24.4040|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:08:24.4367|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:08:24.4630|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77e483a9d6214a3e8c15d5cf39b770f9",
    "nonce": "31499e779ae940f6a70f1bc38ec0cef8",
    "prompt": "none"
  }
} 
2018-03-28 23:08:24.4915|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:08:24.5288|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "77e483a9d6214a3e8c15d5cf39b770f9",
    "nonce": "31499e779ae940f6a70f1bc38ec0cef8",
    "prompt": "none"
  }
} 
2018-03-28 23:08:24.5564|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 367.7347ms 302  
2018-03-28 23:08:24.5823|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqeo3clO1p11QCJfrlVmCVjcQ_dWrnTQQvdyPMruCrYRa4N6SREpDrwmRbAohZbSTAkBe5se6gUANG32XfwsmtNOAVyoeLq0U_2Xp-d3j8Wq-o7O1VrFzPpMyxw2j2UqpyK3qxDFadvwp9FV_1msoESeyOV5DopqbEw7u5jlCTyt7Lv_mXhZGD4445kTqmJKvq5ZrZtfWx_LThS6H6e1ijPFYuBFftuAUuHkB1Z0RwnhB7k0DUkAV9n3gHmA46F-3UgTWBReCTO98i5s3CVOpGBxipuGr8sUax9VI4HTKaM4A   
2018-03-28 23:08:24.6038|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:24.6295|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:08:24.6556|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqeo3clO1p11QCJfrlVmCVjcQ_dWrnTQQvdyPMruCrYRa4N6SREpDrwmRbAohZbSTAkBe5se6gUANG32XfwsmtNOAVyoeLq0U_2Xp-d3j8Wq-o7O1VrFzPpMyxw2j2UqpyK3qxDFadvwp9FV_1msoESeyOV5DopqbEw7u5jlCTyt7Lv_mXhZGD4445kTqmJKvq5ZrZtfWx_LThS6H6e1ijPFYuBFftuAUuHkB1Z0RwnhB7k0DUkAV9n3gHmA46F-3UgTWBReCTO98i5s3CVOpGBxipuGr8sUax9VI4HTKaM4A) - ModelState is Valid 
2018-03-28 23:08:24.6857|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:08:24.9896|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 71.5366ms 
2018-03-28 23:08:25.3184|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 461.4706ms 200 text/html; charset=utf-8 
2018-03-28 23:10:47.6174|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:10:47.6906|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:10:47.7902|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:10:47.8576|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:10:48.0183|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:10:48.2420|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:10:48.7799|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:10:48.8268|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:10:48.8561|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:10:48.9490|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1292.0239ms 200 application/json; charset=UTF-8 
2018-03-28 23:10:49.2007|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:10:49.7750|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:10:49.8959|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:10:49.9339|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:10:49.9861|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:10:50.0105|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:10:50.0472|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:10:50.1055|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1085.647ms 200 text/html; charset=UTF-8 
2018-03-28 23:10:53.0913|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=d62c29e040c44b17b513a94d28a9394a&nonce=61b34fb418244e7cbdbf48cfbe6a034f&prompt=none   
2018-03-28 23:10:53.2223|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:10:53.2489|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:10:53.4056|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:10:54.6305|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:10:54.7043|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:10:54.7414|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:10:54.9490|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:10:55.2008|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:10:55.3125|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d62c29e040c44b17b513a94d28a9394a",
    "nonce": "61b34fb418244e7cbdbf48cfbe6a034f",
    "prompt": "none"
  }
} 
2018-03-28 23:10:55.5550|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:10:55.9160|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d62c29e040c44b17b513a94d28a9394a",
    "nonce": "61b34fb418244e7cbdbf48cfbe6a034f",
    "prompt": "none"
  }
} 
2018-03-28 23:10:56.5583|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3387.5837ms 0  
2018-03-28 23:11:02.0576|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:11:02.0919|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:11:02.1438|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:11:02.1739|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:11:02.2224|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:11:02.2552|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:11:02.2936|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:11:02.3191|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:11:02.3454|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:11:02.5437|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:11:02.5693|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 310.8941ms 200 application/json; charset=UTF-8 
2018-03-28 23:11:02.6116|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:02.8575|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:02.9144|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:11:02.9698|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:11:02.9985|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:11:03.0688|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:11:03.2133|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 569.4308ms 200 text/html; charset=UTF-8 
2018-03-28 23:11:05.9840|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=3d83e8c834604bac8fe15d404ad6cfeb&nonce=5d9637026feb4d0da272d7c4add974ab&prompt=none   
2018-03-28 23:11:06.0301|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:06.0649|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:06.0917|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:11:06.1202|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:11:06.1663|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:11:06.1868|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:11:06.2059|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:11:06.2246|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:11:06.2450|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3d83e8c834604bac8fe15d404ad6cfeb",
    "nonce": "5d9637026feb4d0da272d7c4add974ab",
    "prompt": "none"
  }
} 
2018-03-28 23:11:06.2642|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:11:06.2817|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3d83e8c834604bac8fe15d404ad6cfeb",
    "nonce": "5d9637026feb4d0da272d7c4add974ab",
    "prompt": "none"
  }
} 
2018-03-28 23:11:06.3089|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 320.2618ms 302  
2018-03-28 23:11:06.3311|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsq4NKrDtkL98-zqQPBsUdcouQOXF4c_qUsXBcbcGYWML9SL4deOQjPkA3-XWmg4cPFy1UIqrswM_rAcj5I8vwDtCXE4RucqBdDtBCZW9GWdYpGyydCptUnUgvSXYnEY6VCjlUt9f2FxTdZdFCqbwm-2vOwGMBjnppl3eX_f6ElyIq2CaIVTcjtAYrP_uPfgC7NDIaV-RcEloWSnZlrgJuZ1LHldmhOomPaOURvTHahMVTw0JOXS0z5JlWkKneYyJHXWYRmo-YjdhuZhsXpGH1dpFzfp5KMZTdAlKpTWAaI6gA   
2018-03-28 23:11:06.3562|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:06.3737|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:11:06.4280|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsq4NKrDtkL98-zqQPBsUdcouQOXF4c_qUsXBcbcGYWML9SL4deOQjPkA3-XWmg4cPFy1UIqrswM_rAcj5I8vwDtCXE4RucqBdDtBCZW9GWdYpGyydCptUnUgvSXYnEY6VCjlUt9f2FxTdZdFCqbwm-2vOwGMBjnppl3eX_f6ElyIq2CaIVTcjtAYrP_uPfgC7NDIaV-RcEloWSnZlrgJuZ1LHldmhOomPaOURvTHahMVTw0JOXS0z5JlWkKneYyJHXWYRmo-YjdhuZhsXpGH1dpFzfp5KMZTdAlKpTWAaI6gA) - ModelState is Valid 
2018-03-28 23:11:06.4615|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:11:06.5095|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 99.869ms 
2018-03-28 23:11:06.5344|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 193.3241ms 200 text/html; charset=utf-8 
2018-03-28 23:12:29.8747|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:12:30.0461|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:12:30.1092|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:12:30.1547|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:12:30.1879|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:12:30.2095|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:12:30.2386|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:12:30.3177|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:12:30.3452|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:12:30.4587|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 504.828ms 200 application/json; charset=UTF-8 
2018-03-28 23:12:31.0544|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:12:31.1485|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:31.2066|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:31.2352|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:12:31.2835|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:12:31.3794|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:12:31.5570|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:12:31.6383|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1112.6722ms 200 text/html; charset=UTF-8 
2018-03-28 23:12:33.9951|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=fd9c29b7599e4a45b3f976cc8caa533a&nonce=c650033464304599b004cfd5f203a1ca&prompt=none   
2018-03-28 23:12:34.0232|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:34.0595|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:34.0757|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:12:34.0991|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:12:34.1205|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:12:34.1490|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:12:34.1728|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:12:34.2014|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:12:34.2559|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "fd9c29b7599e4a45b3f976cc8caa533a",
    "nonce": "c650033464304599b004cfd5f203a1ca",
    "prompt": "none"
  }
} 
2018-03-28 23:12:34.3593|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:12:34.4020|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "fd9c29b7599e4a45b3f976cc8caa533a",
    "nonce": "c650033464304599b004cfd5f203a1ca",
    "prompt": "none"
  }
} 
2018-03-28 23:12:34.4391|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 434.5338ms 302  
2018-03-28 23:12:34.4737|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsp4B_BBO46DuPgYjHTX5LvL95sshEDMp_0jcYtgWnXx3eMnyZrfvTmlVWTZkJLwULWiZpnxl-igw4XqAVS4d2xNkOZUmxDd2oJg3rsK9zTTzCVgx0oYYtGrrFZLtZhRWBRAoi3EjuD2YII4-sbr1SWJiZ0zzVKO0LV4MqXdWujswigDDynv_MrZ4eOzGDKjaccvETpUKzqERnYHL16u6VCuOZcjWSaJW8aMyu4miRKXVmEZldlWH1ocR8czTnIFsuSk2jjOceLR_Ee9UZ2XP7FQXNzMcU1KGQUD8GZMYj_R5w   
2018-03-28 23:12:34.5053|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:34.5497|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:12:34.6313|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsp4B_BBO46DuPgYjHTX5LvL95sshEDMp_0jcYtgWnXx3eMnyZrfvTmlVWTZkJLwULWiZpnxl-igw4XqAVS4d2xNkOZUmxDd2oJg3rsK9zTTzCVgx0oYYtGrrFZLtZhRWBRAoi3EjuD2YII4-sbr1SWJiZ0zzVKO0LV4MqXdWujswigDDynv_MrZ4eOzGDKjaccvETpUKzqERnYHL16u6VCuOZcjWSaJW8aMyu4miRKXVmEZldlWH1ocR8czTnIFsuSk2jjOceLR_Ee9UZ2XP7FQXNzMcU1KGQUD8GZMYj_R5w) - ModelState is Valid 
2018-03-28 23:12:34.6750|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:12:34.7895|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 131.3003ms 
2018-03-28 23:12:35.1018|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 342.5882ms 200 text/html; charset=utf-8 
2018-03-28 23:13:26.9208|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:13:26.9665|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:13:27.1720|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:13:27.2393|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:13:27.2639|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:13:27.2915|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:13:27.3324|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:13:27.4538|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:13:27.5464|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:13:27.8721|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 717.7138ms 200 application/json; charset=UTF-8 
2018-03-28 23:13:28.0033|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:13:28.0529|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:28.0768|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:28.1202|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:13:28.1435|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:13:28.1892|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:13:28.2281|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:13:28.5029|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 372.4699ms 200 text/html; charset=UTF-8 
2018-03-28 23:13:31.5400|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4777198362744b4ea188874684437754&nonce=41b376916378477b85fce0a7b67b66cf&prompt=none   
2018-03-28 23:13:31.6212|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:32.1067|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:32.2351|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:13:32.2669|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:13:32.3011|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:13:32.3281|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:13:32.3530|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:13:32.3712|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:13:32.3975|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4777198362744b4ea188874684437754",
    "nonce": "41b376916378477b85fce0a7b67b66cf",
    "prompt": "none"
  }
} 
2018-03-28 23:13:32.4693|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:13:32.5196|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4777198362744b4ea188874684437754",
    "nonce": "41b376916378477b85fce0a7b67b66cf",
    "prompt": "none"
  }
} 
2018-03-28 23:13:32.5815|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1433.28ms 302  
2018-03-28 23:13:32.6715|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrso0Pm3PFa0EC9J-eyU4axE-a_evcMFYpiPf8RWmgkcesCnCEDO6A2tRYRiZGZ-NtKY_Dfbinq3KUe-7RQ9Dix2tiIKn_FY9EYVSVUmDJuNMkuLfsLPmg0IOYlymqtl1sIjwvaUtrvu-5n_iyaEFdgwbvHGriLld2do93B_2ju8MmQmdalJe0-QwANuzfi168TNfFelr5U9iYLhGUNaIVbErto_qktXlMwyF-mZiaKf-5AsLVDoP5zlp6cB2X5QPfnv1R0Uf0dnw5jgeUsKL_LRxU9v-vWy3zkCcqhQKH1Ciqg   
2018-03-28 23:13:32.7656|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:32.7905|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:13:32.8218|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrso0Pm3PFa0EC9J-eyU4axE-a_evcMFYpiPf8RWmgkcesCnCEDO6A2tRYRiZGZ-NtKY_Dfbinq3KUe-7RQ9Dix2tiIKn_FY9EYVSVUmDJuNMkuLfsLPmg0IOYlymqtl1sIjwvaUtrvu-5n_iyaEFdgwbvHGriLld2do93B_2ju8MmQmdalJe0-QwANuzfi168TNfFelr5U9iYLhGUNaIVbErto_qktXlMwyF-mZiaKf-5AsLVDoP5zlp6cB2X5QPfnv1R0Uf0dnw5jgeUsKL_LRxU9v-vWy3zkCcqhQKH1Ciqg) - ModelState is Valid 
2018-03-28 23:13:32.8429|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:13:32.8873|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 61.7813ms 
2018-03-28 23:13:32.9791|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 274.6747ms 200 text/html; charset=utf-8 
2018-03-28 23:14:23.7427|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:14:23.7834|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:14:23.8681|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:14:23.8885|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:14:23.9118|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:14:23.9376|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:14:23.9846|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:14:24.0227|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:14:24.0496|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:14:24.1234|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 322.9037ms 200 application/json; charset=UTF-8 
2018-03-28 23:14:24.1738|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:14:24.2491|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:24.2748|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:24.2996|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:14:24.3270|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:14:24.3515|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:14:24.3863|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:14:24.4418|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 270.3994ms 200 text/html; charset=UTF-8 
2018-03-28 23:14:26.5787|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=9fc504a3f0a040b185b38df68b78977a&nonce=56f4622f601342468793e13cf4d6ece8&prompt=none   
2018-03-28 23:14:26.5955|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:26.6213|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:26.6490|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:14:26.6731|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:14:26.7033|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:14:26.7259|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:14:26.7437|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:14:26.7619|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:14:26.7859|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "9fc504a3f0a040b185b38df68b78977a",
    "nonce": "56f4622f601342468793e13cf4d6ece8",
    "prompt": "none"
  }
} 
2018-03-28 23:14:26.8046|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:14:26.8309|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "9fc504a3f0a040b185b38df68b78977a",
    "nonce": "56f4622f601342468793e13cf4d6ece8",
    "prompt": "none"
  }
} 
2018-03-28 23:14:26.8584|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 282.521ms 302  
2018-03-28 23:14:26.8927|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoUPtPJCxUo0jOO4DH-bKQnAK9eHSFgX6Qblyj_dFOa-bcXPV0QX-VgTSLz0s41wSt6gCmZwPxcpy3sS_jC_FHF3RH-Itc1xvmKRRxYE9arw7GYXjdQUTnpatgWKo1AnTiEmIJ9daUirRCiClTigwhSi8adlF67Dy_K-Bq473kydVrsA_xKSV6r9JO1FsEPToNFgDcPBeFawMxKNxRI_xHZYeKpn9Wpml8KY0jCOqQrhuCdjXNQDvuf7Y2HASO-ZmxfCj4sxkSb3VdbHmxq-8kB2skVE2oTPb0npljqA-kB7w   
2018-03-28 23:14:26.9181|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:26.9365|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:14:26.9592|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoUPtPJCxUo0jOO4DH-bKQnAK9eHSFgX6Qblyj_dFOa-bcXPV0QX-VgTSLz0s41wSt6gCmZwPxcpy3sS_jC_FHF3RH-Itc1xvmKRRxYE9arw7GYXjdQUTnpatgWKo1AnTiEmIJ9daUirRCiClTigwhSi8adlF67Dy_K-Bq473kydVrsA_xKSV6r9JO1FsEPToNFgDcPBeFawMxKNxRI_xHZYeKpn9Wpml8KY0jCOqQrhuCdjXNQDvuf7Y2HASO-ZmxfCj4sxkSb3VdbHmxq-8kB2skVE2oTPb0npljqA-kB7w) - ModelState is Valid 
2018-03-28 23:14:26.9787|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:14:27.0182|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 47.3074ms 
2018-03-28 23:14:27.0596|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 151.0368ms 200 text/html; charset=utf-8 
2018-03-28 23:15:03.9998|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 23:15:04.1732|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (68ms) [Parameters=[@__p_0='?'], CommandType='Text', CommandTimeout='30']
SELECT TOP(@__p_0) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Expiration] < GETUTCDATE()
ORDER BY [x].[Key] 
2018-03-28 23:15:04.2283|0|IdentityServer4.EntityFramework.TokenCleanup|INFO|Clearing 0 tokens 
2018-03-28 23:16:53.1823|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:16:53.2872|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:16:54.3225|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:16:55.2651|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:16:56.8160|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:16:57.1547|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:16:57.1971|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:16:57.2263|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:16:57.2639|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:16:57.5702|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4225.498ms 200 application/json; charset=UTF-8 
2018-03-28 23:16:57.6216|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:16:57.6652|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:16:57.6972|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:16:57.7605|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:16:57.7884|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:16:57.8266|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:16:57.9129|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:16:58.0695|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 406.6084ms 200 text/html; charset=UTF-8 
2018-03-28 23:17:00.2285|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=1e4edd0335174270ae0f31f482b954ee&nonce=ff522025c92945929048a5a33e652493&prompt=none   
2018-03-28 23:17:00.2600|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:00.2797|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:00.2987|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:17:00.3242|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:17:00.3458|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:17:00.3639|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:17:00.3907|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:17:00.4194|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:17:00.4502|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e4edd0335174270ae0f31f482b954ee",
    "nonce": "ff522025c92945929048a5a33e652493",
    "prompt": "none"
  }
} 
2018-03-28 23:17:00.4754|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:17:00.5184|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e4edd0335174270ae0f31f482b954ee",
    "nonce": "ff522025c92945929048a5a33e652493",
    "prompt": "none"
  }
} 
2018-03-28 23:17:00.5484|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 323.1878ms 302  
2018-03-28 23:17:00.6033|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsr9Jq89NaOW48b0H9SwjvtUUqmZos_kc2Tfkkig-3l6gJMfr9ZcdbhX8DExEqDSkt9Wep4mlUdXpvrz-U57K1PFWuUrZxb2EA_zJ14C-ZoZbaY9ZfQlgwuBk8erqLcoZtBFwhxXBXoj-020mGT7YzFlnRZY2b-39USJj8uFk4GLVX0WDsPW6ASB_cu3aEbMM9g3xvBK4gxRL9Ef48bIVbsEGXG85LurOUC8NmUUmHgg5jxRheNwSYtvyL5Vjxow3hoLYqzXAxlgIFjT49jaMDu-KvVVy-4HOzrJ8nhU_tVKyA   
2018-03-28 23:17:00.6260|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:00.6509|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:00.6836|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsr9Jq89NaOW48b0H9SwjvtUUqmZos_kc2Tfkkig-3l6gJMfr9ZcdbhX8DExEqDSkt9Wep4mlUdXpvrz-U57K1PFWuUrZxb2EA_zJ14C-ZoZbaY9ZfQlgwuBk8erqLcoZtBFwhxXBXoj-020mGT7YzFlnRZY2b-39USJj8uFk4GLVX0WDsPW6ASB_cu3aEbMM9g3xvBK4gxRL9Ef48bIVbsEGXG85LurOUC8NmUUmHgg5jxRheNwSYtvyL5Vjxow3hoLYqzXAxlgIFjT49jaMDu-KvVVy-4HOzrJ8nhU_tVKyA) - ModelState is Valid 
2018-03-28 23:17:00.7345|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:17:00.8428|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 85.1716ms 
2018-03-28 23:17:00.8808|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 288.1891ms 200 text/html; charset=utf-8 
2018-03-28 23:17:43.9963|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:17:44.1991|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:17:44.3580|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:17:44.3922|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:17:44.4404|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:17:44.5130|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:17:45.0824|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:17:45.3191|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:17:45.3566|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:17:45.4429|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1412.4461ms 200 application/json; charset=UTF-8 
2018-03-28 23:17:45.5082|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:17:45.6082|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:45.6395|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:45.6679|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:17:45.6902|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:17:45.7088|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:17:45.7377|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:17:45.7861|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 307.6704ms 200 text/html; charset=UTF-8 
2018-03-28 23:17:47.9866|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=24f551f6cf0546038d9d0caedce578df&nonce=09d4fdf1bca040f197700efa22a4382c&prompt=none   
2018-03-28 23:17:48.0154|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:48.0323|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:48.0533|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:17:48.0752|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:17:48.0983|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:17:48.1187|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:17:48.1413|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:17:48.1627|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:17:48.1866|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "24f551f6cf0546038d9d0caedce578df",
    "nonce": "09d4fdf1bca040f197700efa22a4382c",
    "prompt": "none"
  }
} 
2018-03-28 23:17:48.2048|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:17:48.2307|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "24f551f6cf0546038d9d0caedce578df",
    "nonce": "09d4fdf1bca040f197700efa22a4382c",
    "prompt": "none"
  }
} 
2018-03-28 23:17:48.2600|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 267.7442ms 302  
2018-03-28 23:17:48.2893|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrNS_EudzybbK2pUiOhQk5HSX6NrFrLKmKHWeeAz2dNZxLLYMf3Za0Iafeqsm3QN6gbDvnwir5OP7Ux6K4IRpOTTyDGWJs9Pt7HkzXYwdPQ8OotFaPMbFZAZxxRWhDkNlUGSSmRXf8K4RZrdTCAAAtQaI1oWugum8P4AVVWwmsaBEc32uLXNelIlC-nHmw7KyXhwOSzSzwE6M1j0h_bQExC0IpnzQtRakQARujTqa7XJqjS9gVBSiYDNfnAtJAe6sI1bi4RQzlWSeHFjG6s2PXbRgAw7TDw7cJNBT-oVsjKWA   
2018-03-28 23:17:48.3124|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:48.3519|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:17:48.3731|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrNS_EudzybbK2pUiOhQk5HSX6NrFrLKmKHWeeAz2dNZxLLYMf3Za0Iafeqsm3QN6gbDvnwir5OP7Ux6K4IRpOTTyDGWJs9Pt7HkzXYwdPQ8OotFaPMbFZAZxxRWhDkNlUGSSmRXf8K4RZrdTCAAAtQaI1oWugum8P4AVVWwmsaBEc32uLXNelIlC-nHmw7KyXhwOSzSzwE6M1j0h_bQExC0IpnzQtRakQARujTqa7XJqjS9gVBSiYDNfnAtJAe6sI1bi4RQzlWSeHFjG6s2PXbRgAw7TDw7cJNBT-oVsjKWA) - ModelState is Valid 
2018-03-28 23:17:48.4002|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:17:48.5557|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 55.5324ms 
2018-03-28 23:17:48.6030|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 296.554ms 200 text/html; charset=utf-8 
2018-03-28 23:18:18.4969|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:18:18.5640|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:18:18.6231|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:18:18.6637|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:18:18.6931|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:18:18.7423|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:18:18.7905|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:18:18.8148|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:18:18.8601|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:18:18.9693|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 398.7431ms 200 application/json; charset=UTF-8 
2018-03-28 23:18:19.2559|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:18:19.6330|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:19.6672|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:19.6996|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:18:19.7363|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:18:19.7880|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:18:19.8253|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:18:20.0407|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 870.0338ms 200 text/html; charset=UTF-8 
2018-03-28 23:18:22.4974|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=db5c95cfb0874547a0136a5726fa2b3d&nonce=168afc29c3cb45b18a4f748e99c56a8e&prompt=none   
2018-03-28 23:18:22.6562|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:23.2761|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:23.5891|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:18:23.8025|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:18:23.8760|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:18:23.9218|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:18:23.9875|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:18:24.0276|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:18:24.1539|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "db5c95cfb0874547a0136a5726fa2b3d",
    "nonce": "168afc29c3cb45b18a4f748e99c56a8e",
    "prompt": "none"
  }
} 
2018-03-28 23:18:24.2273|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:18:24.3075|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "db5c95cfb0874547a0136a5726fa2b3d",
    "nonce": "168afc29c3cb45b18a4f748e99c56a8e",
    "prompt": "none"
  }
} 
2018-03-28 23:18:24.3422|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2123.3571ms 302  
2018-03-28 23:18:24.3633|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoubBSzmCFYisODLc0-mB2re7G_eNgxubwMhfxLj3vfBqdVzwMcc0qFsUPUtlc7oAM-0C7lgIRh8Dnd_6xL0u9-O_sKE_FEoONnZsa53p_ju_r87_OHUhsxDCgfL7f8eut8AsxavnAA0tSQMmNmTGDefv3yiEiTqdPYHwXkHmJDITz6j1aZjyREcU7bvZhiimhIsSevu7CzKG5B8QjEU36CVrlKUsnN684sVgfvmovcn3ikz64j28stWRxaEo56lVRfd62sIEqH9ovmhnU1yd5AKo0B6f64AJhjn6W_2gwlaw   
2018-03-28 23:18:24.3795|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:24.3947|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:18:24.4125|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoubBSzmCFYisODLc0-mB2re7G_eNgxubwMhfxLj3vfBqdVzwMcc0qFsUPUtlc7oAM-0C7lgIRh8Dnd_6xL0u9-O_sKE_FEoONnZsa53p_ju_r87_OHUhsxDCgfL7f8eut8AsxavnAA0tSQMmNmTGDefv3yiEiTqdPYHwXkHmJDITz6j1aZjyREcU7bvZhiimhIsSevu7CzKG5B8QjEU36CVrlKUsnN684sVgfvmovcn3ikz64j28stWRxaEo56lVRfd62sIEqH9ovmhnU1yd5AKo0B6f64AJhjn6W_2gwlaw) - ModelState is Valid 
2018-03-28 23:18:24.4290|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:18:24.4535|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 35.6574ms 
2018-03-28 23:18:24.4979|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 106.9389ms 200 text/html; charset=utf-8 
2018-03-28 23:24:13.2066|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:24:13.2467|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:24:13.2861|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:24:13.3127|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:24:13.3345|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:24:13.3549|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:24:13.3842|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:24:13.4048|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:24:13.4286|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:24:13.4697|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 274.0744ms 200 application/json; charset=UTF-8 
2018-03-28 23:24:13.5448|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:24:13.5721|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:13.5985|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:13.6305|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:24:13.6693|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:24:13.7112|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:24:13.7437|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:24:13.7758|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 226.5642ms 200 text/html; charset=UTF-8 
2018-03-28 23:24:17.0149|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=4d91a4373b80492890b17a1c288c01a6&nonce=753bb932887d47489bde4cd3240046df&prompt=none   
2018-03-28 23:24:17.0335|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:17.0596|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:17.1109|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:24:17.2349|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:24:17.3284|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:24:17.3514|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:24:17.3774|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:24:17.4043|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:24:17.4353|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4d91a4373b80492890b17a1c288c01a6",
    "nonce": "753bb932887d47489bde4cd3240046df",
    "prompt": "none"
  }
} 
2018-03-28 23:24:17.4586|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:24:17.4842|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "4d91a4373b80492890b17a1c288c01a6",
    "nonce": "753bb932887d47489bde4cd3240046df",
    "prompt": "none"
  }
} 
2018-03-28 23:24:17.5178|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 497.1253ms 302  
2018-03-28 23:24:17.5482|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsruXi56HRwQdIibu0_o5wSfBDVeQgUmQCFjUsDup_LOL9S8NDb3AxADeTXH_nHjv02MqvKqwe7l1cOBfjym50x_Vd5S5S5uO_Ha0yWlXKKH_-II1x_1SB3FYe4K78vHWnyutGNsP15JgFtV8t1AZ_onoYA1bzBw8Hjmhslwr0N1goNYhwJ4EyZneKDykgWH5HKd9e-6bZb1ON6PzqvBo2XI5ns8rgUgwSSuljp-3daKUsxbYw36hJnyA7gOs1XIyqJZ08QGSIFYdxLB2h5tqhtjGEFwQXRCvPT6u4v0H9TExA   
2018-03-28 23:24:17.5643|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:17.5817|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:24:17.6198|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsruXi56HRwQdIibu0_o5wSfBDVeQgUmQCFjUsDup_LOL9S8NDb3AxADeTXH_nHjv02MqvKqwe7l1cOBfjym50x_Vd5S5S5uO_Ha0yWlXKKH_-II1x_1SB3FYe4K78vHWnyutGNsP15JgFtV8t1AZ_onoYA1bzBw8Hjmhslwr0N1goNYhwJ4EyZneKDykgWH5HKd9e-6bZb1ON6PzqvBo2XI5ns8rgUgwSSuljp-3daKUsxbYw36hJnyA7gOs1XIyqJZ08QGSIFYdxLB2h5tqhtjGEFwQXRCvPT6u4v0H9TExA) - ModelState is Valid 
2018-03-28 23:24:17.6630|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:24:17.6974|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 75.3723ms 
2018-03-28 23:24:17.7169|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 170.5284ms 200 text/html; charset=utf-8 
2018-03-28 23:26:58.5620|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:26:58.5875|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:26:58.6440|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:26:58.6720|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:26:58.6983|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:26:58.7220|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:26:58.7423|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:26:58.7686|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:26:58.8046|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:26:58.8366|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 261.1682ms 200 application/json; charset=UTF-8 
2018-03-28 23:26:58.9568|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:26:58.9780|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:26:59.0025|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:26:59.0222|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:26:59.0719|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:26:59.1059|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:26:59.1557|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:26:59.3049|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 228.2425ms 200 text/html; charset=UTF-8 
2018-03-28 23:27:01.9701|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=39599e5e5f854207b2039f870a59ae0f&nonce=5bb13e3918574b23989adbda05a273d2&prompt=none   
2018-03-28 23:27:01.9867|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:02.0008|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:02.0160|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:27:02.0337|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:27:02.0495|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:27:02.0662|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:27:02.0858|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:27:02.1024|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:27:02.1208|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "39599e5e5f854207b2039f870a59ae0f",
    "nonce": "5bb13e3918574b23989adbda05a273d2",
    "prompt": "none"
  }
} 
2018-03-28 23:27:02.1400|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:27:02.1911|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "39599e5e5f854207b2039f870a59ae0f",
    "nonce": "5bb13e3918574b23989adbda05a273d2",
    "prompt": "none"
  }
} 
2018-03-28 23:27:02.2867|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 250.4138ms 302  
2018-03-28 23:27:02.3538|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsp0PD28mDkvYZhRMiG29D0zhfg0MyXgaOkf6SNUf_PrRGVmEFXIuddFhqRv5lQheiJUoIugI-b_zKJ0FrTZsVa0rIQMHS_b-dvq6syofaaaI8HYNYDb2zs2-BTkJDm08IZsC2qRtWMQADVXHzpcuCfyqmUKNSdJfxWeiAMqOH5OWHo5cKpzHTtDH86Cuw4fD01GSofl5J3DUOriztIcpma7XNBtM6PS7hd58cSx9wZeQ6jXJ7AEytaCTOHzrbcCvHKg-tbtfNRD5aOCEFuX346qBMzadshPA4ckFAnUkITfJA   
2018-03-28 23:27:02.3756|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:02.3926|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:02.4157|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsp0PD28mDkvYZhRMiG29D0zhfg0MyXgaOkf6SNUf_PrRGVmEFXIuddFhqRv5lQheiJUoIugI-b_zKJ0FrTZsVa0rIQMHS_b-dvq6syofaaaI8HYNYDb2zs2-BTkJDm08IZsC2qRtWMQADVXHzpcuCfyqmUKNSdJfxWeiAMqOH5OWHo5cKpzHTtDH86Cuw4fD01GSofl5J3DUOriztIcpma7XNBtM6PS7hd58cSx9wZeQ6jXJ7AEytaCTOHzrbcCvHKg-tbtfNRD5aOCEFuX346qBMzadshPA4ckFAnUkITfJA) - ModelState is Valid 
2018-03-28 23:27:02.4319|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:27:02.4615|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 37.3371ms 
2018-03-28 23:27:02.7740|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 150.834ms 200 text/html; charset=utf-8 
2018-03-28 23:27:32.6097|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:27:32.6699|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:27:32.7618|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:27:32.7987|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:27:32.8363|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:27:32.8709|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:27:32.9147|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:27:32.9457|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:27:32.9803|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:27:33.0037|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 390.606ms 200 application/json; charset=UTF-8 
2018-03-28 23:27:33.6253|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:27:33.6454|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:33.6665|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:33.6964|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:27:33.7333|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:27:33.7649|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:27:33.8475|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:27:33.8766|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 258.9767ms 200 text/html; charset=UTF-8 
2018-03-28 23:27:36.9954|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=3c981f132e6b4541aaf2929a61057204&nonce=849ca248560e41b3a4d24415b113e18d&prompt=none   
2018-03-28 23:27:37.0103|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:37.0455|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:37.0611|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:27:37.0789|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:27:37.0954|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:27:37.1163|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:27:37.1331|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:27:37.1527|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:27:37.1786|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3c981f132e6b4541aaf2929a61057204",
    "nonce": "849ca248560e41b3a4d24415b113e18d",
    "prompt": "none"
  }
} 
2018-03-28 23:27:37.2148|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:27:37.2350|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3c981f132e6b4541aaf2929a61057204",
    "nonce": "849ca248560e41b3a4d24415b113e18d",
    "prompt": "none"
  }
} 
2018-03-28 23:27:37.2600|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 257.7503ms 302  
2018-03-28 23:27:37.2845|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoUObrXRzbdcZq5uEqsL72B3FUqFV-vzk_uG384v1UunkfV_Anruk4kiLhTZYVeCDoOH94bj4Z6uufks6zVw7Tpqbd4j7HrcaARlPlawj29tM-OAJUHtN4OM1faSGOKX4d_xz1_sUJOLdnw51kN-uhhA2aQuxJwlh_sY8MriBEJp2lcnnM7LSv99u5nNN2z7Rku_PJqTolE1zAG9-mT7SD0SQkc0OMx9sPI5WHXU6KWUOZhI5lpxf-eSxG9kHxkKq1J1UBofFU_Df6snaYpjF2qIiRpdepuMYgJ1b6q73ElxA   
2018-03-28 23:27:37.3021|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:37.3292|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:27:37.3467|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoUObrXRzbdcZq5uEqsL72B3FUqFV-vzk_uG384v1UunkfV_Anruk4kiLhTZYVeCDoOH94bj4Z6uufks6zVw7Tpqbd4j7HrcaARlPlawj29tM-OAJUHtN4OM1faSGOKX4d_xz1_sUJOLdnw51kN-uhhA2aQuxJwlh_sY8MriBEJp2lcnnM7LSv99u5nNN2z7Rku_PJqTolE1zAG9-mT7SD0SQkc0OMx9sPI5WHXU6KWUOZhI5lpxf-eSxG9kHxkKq1J1UBofFU_Df6snaYpjF2qIiRpdepuMYgJ1b6q73ElxA) - ModelState is Valid 
2018-03-28 23:27:37.3665|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:27:37.4008|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 41.0538ms 
2018-03-28 23:27:37.4458|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 138.6982ms 200 text/html; charset=utf-8 
2018-03-28 23:28:29.0716|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:28:29.2195|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:28:29.3205|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:28:29.3691|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:28:29.3952|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:28:29.4211|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:28:29.4453|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:28:29.4700|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:28:29.5354|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:28:29.8521|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 500.4671ms 200 application/json; charset=UTF-8 
2018-03-28 23:28:29.8968|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:28:29.9256|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:29.9532|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:29.9774|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:28:30.0089|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:28:30.0595|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:28:30.1193|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:28:30.3155|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 526.8268ms 200 text/html; charset=UTF-8 
2018-03-28 23:28:32.3518|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=877605b2e9ac40dba3c23bfb6bdd7124&nonce=83a844f987e7478c8f5cff9d02ca141c&prompt=none   
2018-03-28 23:28:32.3785|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:32.3952|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:32.4139|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:28:32.4385|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:28:32.5391|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:28:32.5595|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:28:32.5814|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:28:32.6164|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:28:32.7819|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "877605b2e9ac40dba3c23bfb6bdd7124",
    "nonce": "83a844f987e7478c8f5cff9d02ca141c",
    "prompt": "none"
  }
} 
2018-03-28 23:28:32.8123|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:28:32.8536|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "877605b2e9ac40dba3c23bfb6bdd7124",
    "nonce": "83a844f987e7478c8f5cff9d02ca141c",
    "prompt": "none"
  }
} 
2018-03-28 23:28:32.8916|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 520.0235ms 302  
2018-03-28 23:28:32.9162|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqL7qkmn1006tQjRiNwjCjll3eXccwypcPBaDzT__GLxVqRXP-2RueE3CYmMRAJFsx1aeMKrvyp8s-Imjs1GSshqd1I-3e8zLwAcn8M-Wh4OSbBDaxOsD_yGXQOns7Z5FtgW_jPQrSHWlGjEFPPaSzTFC2CDpew2kiy88krURfO8W-GjrRpeLYg1BGVKh8bDnO4dkbiFCTL9JVae6VD38XEQCjDmacxezbbTiqFJyotfjiYhw_ArYaYthon0PDGue_-5itnUqAC14m2MicvZH6ESzuD3MDgDzdZ9FKpnqtWrg   
2018-03-28 23:28:32.9356|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:32.9506|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:28:32.9911|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqL7qkmn1006tQjRiNwjCjll3eXccwypcPBaDzT__GLxVqRXP-2RueE3CYmMRAJFsx1aeMKrvyp8s-Imjs1GSshqd1I-3e8zLwAcn8M-Wh4OSbBDaxOsD_yGXQOns7Z5FtgW_jPQrSHWlGjEFPPaSzTFC2CDpew2kiy88krURfO8W-GjrRpeLYg1BGVKh8bDnO4dkbiFCTL9JVae6VD38XEQCjDmacxezbbTiqFJyotfjiYhw_ArYaYthon0PDGue_-5itnUqAC14m2MicvZH6ESzuD3MDgDzdZ9FKpnqtWrg) - ModelState is Valid 
2018-03-28 23:28:33.0124|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:28:33.0484|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 58.1984ms 
2018-03-28 23:28:33.0971|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 160.3095ms 200 text/html; charset=utf-8 
2018-03-28 23:29:04.0564|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:29:04.1417|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:29:04.3529|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:29:04.4326|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:29:04.4605|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:29:04.4783|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:29:04.5016|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:29:04.5235|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:29:04.5491|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:29:04.6602|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 531.9453ms 200 application/json; charset=UTF-8 
2018-03-28 23:29:05.1643|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:29:05.2382|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:05.2788|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:05.3417|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:29:05.4212|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:29:05.5400|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:29:05.6330|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:29:05.7662|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 991.9069ms 200 text/html; charset=UTF-8 
2018-03-28 23:29:07.9025|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=d803101402a64304a74fe6c7042d8aa5&nonce=db419a25460c4141bba915e4b5439efb&prompt=none   
2018-03-28 23:29:07.9803|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:08.0209|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:08.0535|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:29:08.0918|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:29:08.1105|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:29:08.1358|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:29:08.1517|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:29:08.1731|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:29:08.1971|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d803101402a64304a74fe6c7042d8aa5",
    "nonce": "db419a25460c4141bba915e4b5439efb",
    "prompt": "none"
  }
} 
2018-03-28 23:29:08.2199|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:29:08.2399|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d803101402a64304a74fe6c7042d8aa5",
    "nonce": "db419a25460c4141bba915e4b5439efb",
    "prompt": "none"
  }
} 
2018-03-28 23:29:08.2695|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 381.8631ms 302  
2018-03-28 23:29:08.3581|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspVc-sSNrVhCkYmezVOmcEe67Gii-H9zcKPG-eokLWDdOqO6YyhfUzsjKvKQxEVOR9_rUxZonBBcbfIJp2Qdz0yoOsgSXlJgVwORByH2Axe73iox3142bf21kmiGY2_tj10E7vJjJRdkiLfYey_VoAgy5bVRI858NLk-8_36vC-C2UIuG1xKdGTNqeLKlI8iFF40ZfWX48bIXxA-CjE06nRUdj325i4Z8dT7grGD5ke3OOSvP7VFhNTiwDQxXwm-nqCAfpasl9WRs8GT52uHXs5yW-ChIxJqs1UiSsUNzXkOQ   
2018-03-28 23:29:08.4061|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:08.4882|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:29:08.5237|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspVc-sSNrVhCkYmezVOmcEe67Gii-H9zcKPG-eokLWDdOqO6YyhfUzsjKvKQxEVOR9_rUxZonBBcbfIJp2Qdz0yoOsgSXlJgVwORByH2Axe73iox3142bf21kmiGY2_tj10E7vJjJRdkiLfYey_VoAgy5bVRI858NLk-8_36vC-C2UIuG1xKdGTNqeLKlI8iFF40ZfWX48bIXxA-CjE06nRUdj325i4Z8dT7grGD5ke3OOSvP7VFhNTiwDQxXwm-nqCAfpasl9WRs8GT52uHXs5yW-ChIxJqs1UiSsUNzXkOQ) - ModelState is Valid 
2018-03-28 23:29:08.5563|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:29:08.6273|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 71.97ms 
2018-03-28 23:29:08.6604|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 346.553ms 200 text/html; charset=utf-8 
2018-03-28 23:32:36.9364|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:32:37.2207|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:32:37.6679|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:32:38.3536|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:32:38.7187|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:32:39.2370|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:32:39.6909|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:32:40.2850|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:32:41.4882|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:32:43.6035|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4759.2336ms 200 application/json; charset=UTF-8 
2018-03-28 23:32:47.9253|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:32:49.0376|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:32:49.3484|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:32:49.6241|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:32:49.8267|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:32:49.9918|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:32:50.0300|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:32:50.6483|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 7151.8261ms 200 text/html; charset=UTF-8 
2018-03-28 23:33:12.2634|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 23:33:12.3853|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:33:13.6062|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:33:14.3080|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 23:33:14.8178|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:33:15.2570|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:33:16.1070|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:33:17.3228|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:33:18.3140|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:33:18.4498|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 4569.0452ms 
2018-03-28 23:33:18.4944|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6466.0522ms 200 text/html; charset=utf-8 
2018-03-28 23:33:20.7866|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsocPkZ3mYtPqTQXIEA_nF5ML4DZPaTxm8qB_a0n9q5Im1VsCSV_i_ziCtA9rRwrP9Z4mzVX__sCfrB2c2ejSGoevHS2gXkOni3mVG4zoP0-9X376RUO_1S2m_wz3geNZnO5w-fpHqYkfJzZUWxaMHCD1-tWbgg9HrzWjd1VlDNQr-QXpV0L6PKhscnQZf7qNIKbc_S19pcXyZgHO0CiN1PG6BLOXGXZ6j5xHjfMHgqiu_XJLH8Wn70M7uXgR6QFD9NJoCXI5e4OiqjmpEnnMRPlqkLUaObiuVZzB2PSlVfUYFo14QQJF2DIPjx0ivTU95I   
2018-03-28 23:33:20.8070|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 23:33:20.8432|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 23:33:20.9390|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 23:33:21.2579|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 23:33:21.2863|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 23:33:21.3076|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 23:33:21.3326|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 23:33:21.3785|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 23:33:21.4122|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 23:33:21.4430|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 659.2681ms 200 text/html; charset=UTF-8 
2018-03-28 23:33:23.1671|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   
2018-03-28 23:33:23.2002|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/favicon.ico'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\favicon.ico' 
2018-03-28 23:33:23.2538|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 90.7267ms 200 image/x-icon 
2018-03-28 23:33:34.4624|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:33:34.4820|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:33:34.5029|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:33:34.5296|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:33:34.5514|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:33:34.5790|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:33:34.6043|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:33:34.6438|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:33:34.7488|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:33:34.8321|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 330.096ms 200 application/json; charset=UTF-8 
2018-03-28 23:33:35.6339|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:33:35.6554|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:33:35.6819|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:33:35.7057|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:33:35.7520|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:33:35.8029|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 144.1333ms 200 text/html; charset=UTF-8 
2018-03-28 23:33:40.3531|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=3babbec64d634f7786175c60137325b8&nonce=d38efbbe79e442478deae4e3408ddb56&prompt=none   
2018-03-28 23:33:40.3915|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:33:40.4226|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:33:40.4529|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:33:40.5828|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:33:40.6343|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 23:33:40.6607|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:33:40.6970|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3babbec64d634f7786175c60137325b8",
    "nonce": "d38efbbe79e442478deae4e3408ddb56",
    "prompt": "none"
  }
} 
2018-03-28 23:33:40.7306|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:33:40.7643|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "3babbec64d634f7786175c60137325b8",
    "nonce": "d38efbbe79e442478deae4e3408ddb56",
    "prompt": "none"
  }
} 
2018-03-28 23:33:40.8139|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 440.951ms 302  
2018-03-28 23:33:40.8884|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspKzybwPaxXluICgvLRs9ivfC9sOPsPzHJneYH77Tt3229yEi8iLKdNbbkxezy7JgPA8dm1T9GCM2kKCO8pttUSIhJZr8rJc3HclZjLP3C5glgcWwmuIoIpjmPkmETlrqBQPRyv6Enuyq6qzthQpKQIBvVWKbGBhlirrCkSg_laZWnv0YIDNK9VPvGnqVm-GY9Y_4YsUG4OAd_eUsgbKUAylxtlsVwXvA0vuAH-ldo2oDL1-wZtEzPtU0yrOGE3UMmeZjqGSthvrAjZ7Y-1BKyWyigLnehlb4koagtXT7oTyg   
2018-03-28 23:33:41.1101|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspKzybwPaxXluICgvLRs9ivfC9sOPsPzHJneYH77Tt3229yEi8iLKdNbbkxezy7JgPA8dm1T9GCM2kKCO8pttUSIhJZr8rJc3HclZjLP3C5glgcWwmuIoIpjmPkmETlrqBQPRyv6Enuyq6qzthQpKQIBvVWKbGBhlirrCkSg_laZWnv0YIDNK9VPvGnqVm-GY9Y_4YsUG4OAd_eUsgbKUAylxtlsVwXvA0vuAH-ldo2oDL1-wZtEzPtU0yrOGE3UMmeZjqGSthvrAjZ7Y-1BKyWyigLnehlb4koagtXT7oTyg) - ModelState is Valid 
2018-03-28 23:33:41.1522|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:33:41.1988|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 266.8259ms 
2018-03-28 23:33:41.3602|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 379.8214ms 200 text/html; charset=utf-8 
2018-03-28 23:33:45.2802|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5200   
2018-03-28 23:33:45.2991|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession matched to endpoint type Endsession 
2018-03-28 23:33:45.3526|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint 
2018-03-28 23:33:45.4181|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession 
2018-03-28 23:33:45.4579|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Processing signout request for anonymous 
2018-03-28 23:33:45.4975|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|Start end session request validation 
2018-03-28 23:33:45.5288|0|IdentityServer4.Validation.EndSessionRequestValidator|INFO|End session request validation success
{
  "SubjectId": "unknown",
  "Raw": {
    "post_logout_redirect_uri": "http://localhost:5200"
  }
} 
2018-03-28 23:33:45.5546|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Success validating end session request from (null) 
2018-03-28 23:33:45.6037|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 329.1806ms 302  
2018-03-28 23:33:45.6799|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/logout   
2018-03-28 23:33:45.7143|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments () - ModelState is Valid 
2018-03-28 23:33:45.7368|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:33:45.7603|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:33:45.7831|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:33:45.8280|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:33:45.8536|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:33:45.8959|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 167.4111ms 
2018-03-28 23:33:45.9197|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 269.7722ms 200 text/html; charset=utf-8 
2018-03-28 23:34:24.2684|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:34:24.3487|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:34:24.4813|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:34:24.5031|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:34:24.5278|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:34:24.5597|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:34:24.5892|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:34:24.6089|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:34:24.6265|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:34:24.7046|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 395.6115ms 200 application/json; charset=UTF-8 
2018-03-28 23:34:24.7270|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a   
2018-03-28 23:34:24.9573|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:34:24.9881|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:34:25.0109|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:34:25.0442|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:34:25.0687|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 23:34:25.0912|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:34:25.1676|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:34:25.2030|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "5af35df9be6642c7853a47a8fee2507d",
  "Nonce": "068660183ee74291bf24c74d77b0ae4a",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "5af35df9be6642c7853a47a8fee2507d",
    "nonce": "068660183ee74291bf24c74d77b0ae4a"
  }
} 
2018-03-28 23:34:25.2374|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 23:34:25.2863|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 558.641ms 302  
2018-03-28 23:34:25.3353|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D5af35df9be6642c7853a47a8fee2507d%26nonce%3D068660183ee74291bf24c74d77b0ae4a   
2018-03-28 23:34:25.3692|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a) - ModelState is Valid 
2018-03-28 23:34:25.3906|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:34:25.4215|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 23:34:25.5563|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 178.5076ms 
2018-03-28 23:34:25.5828|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 253.6555ms 200 text/html; charset=utf-8 
2018-03-28 23:34:26.0212|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 23:34:26.3943|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 85.7297ms 404  
2018-03-28 23:34:33.0085|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D5af35df9be6642c7853a47a8fee2507d%26nonce%3D068660183ee74291bf24c74d77b0ae4a application/x-www-form-urlencoded 231 
2018-03-28 23:34:33.0392|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a) - ModelState is Valid 
2018-03-28 23:34:33.1155|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:34:33.4408|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (155ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 23:34:33.5860|0|Microsoft.AspNetCore.Identity.UserManager|WARN|Invalid password for user 4b0bf01c-6fae-4ecc-9202-feada77ad388. 
2018-03-28 23:34:33.6069|2|Microsoft.AspNetCore.Identity.SignInManager|WARN|User 4b0bf01c-6fae-4ecc-9202-feada77ad388 failed to provide the correct password. 
2018-03-28 23:34:33.6391|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 23:34:33.8316|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 777.0082ms 
2018-03-28 23:34:33.8571|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 841.423ms 200 text/html; charset=utf-8 
2018-03-28 23:34:34.1521|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 23:34:34.2021|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 49.6681ms 404  
2018-03-28 23:34:39.5616|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D5af35df9be6642c7853a47a8fee2507d%26nonce%3D068660183ee74291bf24c74d77b0ae4a application/x-www-form-urlencoded 232 
2018-03-28 23:34:39.5846|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a) - ModelState is Valid 
2018-03-28 23:34:39.6010|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:34:39.6349|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 23:34:39.7196|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (38ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:34:39.8195|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:34:39.8569|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:34:39.8955|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:34:39.8955|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:34:39.9305|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 23:34:39.9522|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 23:34:39.9691|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522251279 
2018-03-28 23:34:40.0027|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:34:40.0211|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 23:34:40.0533|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a. 
2018-03-28 23:34:40.0795|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 497.1919ms 
2018-03-28 23:34:40.1030|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 539.5511ms 302  
2018-03-28 23:34:40.1371|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=5af35df9be6642c7853a47a8fee2507d&nonce=068660183ee74291bf24c74d77b0ae4a   
2018-03-28 23:34:40.1641|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:40.1763|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:40.1763|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 23:34:40.2109|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 23:34:40.2320|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 23:34:40.2528|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 23:34:40.2744|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:34:40.3053|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:34:40.3327|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:34:40.3612|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "5af35df9be6642c7853a47a8fee2507d",
  "Nonce": "068660183ee74291bf24c74d77b0ae4a",
  "SessionId": "72d03a9c0909dfd52a20c1fdc1c219bd",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "5af35df9be6642c7853a47a8fee2507d",
    "nonce": "068660183ee74291bf24c74d77b0ae4a"
  }
} 
2018-03-28 23:34:40.3839|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:34:40.4261|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:34:40.4482|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 23:34:40.5552|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (86ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 23:34:40.5789|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 23:34:40.6785|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 23:34:40.6971|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 23:34:40.7216|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 23:34:40.7438|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:34:40.7678|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:34:40.7940|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:34:40.8223|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:34:40.8478|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:34:40.8841|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 23:34:40.9057|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:34:40.9306|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:34:40.9531|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:34:40.9758|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:34:41.0043|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "5af35df9be6642c7853a47a8fee2507d",
  "Scope": "openid profile email client_name"
} 
2018-03-28 23:34:41.0233|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:34:41.0423|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:34:41.0686|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 930.669ms 302  
2018-03-28 23:34:48.0263|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:34:48.0921|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:34:48.1213|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:34:48.1412|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:34:48.1562|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:34:48.1773|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:34:48.1939|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:34:48.2108|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:34:48.2277|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:34:48.2491|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 227.9178ms 200 application/json; charset=UTF-8 
2018-03-28 23:34:48.2681|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-28 23:34:48.2823|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-28 23:34:48.2985|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:34:48.3138|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:34:48.3375|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:34:48.3596|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-28 23:34:48.3880|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-28 23:34:48.4175|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-28 23:34:48.4480|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-28 23:34:48.5616|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 200.2688ms 200 application/json; charset=UTF-8 
2018-03-28 23:34:48.5952|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-28 23:34:48.6260|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:34:48.6519|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:34:48.6745|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:34:48.6942|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:34:48.7118|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 127.0718ms 204  
2018-03-28 23:34:48.7334|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-28 23:34:48.7498|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:34:48.7667|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:34:48.7810|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:34:48.7955|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:34:48.8120|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-28 23:34:48.8287|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-28 23:34:48.8463|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-28 23:34:48.8634|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-28 23:34:48.8634|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-28 23:34:48.9075|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:34:48.9365|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:34:48.9517|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 23:34:48.9764|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1522251280,
    "exp": 1522258480,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522251279,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "scope": [
      "openid",
      "profile",
      "email",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-28 23:34:48.9947|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-28 23:34:49.0146|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:34:49.0451|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:34:49.0689|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified 
2018-03-28 23:34:49.0872|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:34:49.1090|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:34:49.1456|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:34:49.1678|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:34:49.1865|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:34:49.2030|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name email email_verified 
2018-03-28 23:34:49.2219|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-28 23:34:49.2513|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 508.5134ms 200 application/json; charset=UTF-8 
2018-03-28 23:34:49.3200|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:34:49.3421|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:49.3573|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:49.3721|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:34:49.3939|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:34:49.4103|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:34:49.4290|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:34:49.4529|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 169.2883ms 200 text/html; charset=UTF-8 
2018-03-28 23:34:51.6341|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=ed69bef04e5b4dd2b17fb619266acf7b&nonce=58912409d544456e831721b43024783c&prompt=none   
2018-03-28 23:34:51.7015|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:51.7517|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:51.7791|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:34:51.8054|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:34:51.8406|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:34:51.8636|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:34:51.8869|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:34:51.9093|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:34:51.9398|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ed69bef04e5b4dd2b17fb619266acf7b",
    "nonce": "58912409d544456e831721b43024783c",
    "prompt": "none"
  }
} 
2018-03-28 23:34:51.9728|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:34:52.0192|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "ed69bef04e5b4dd2b17fb619266acf7b",
    "nonce": "58912409d544456e831721b43024783c",
    "prompt": "none"
  }
} 
2018-03-28 23:34:52.0636|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 415.9496ms 302  
2018-03-28 23:34:52.1091|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrspL5F7Lnn3qPSfPHaO4L-rDIhyCtMEeW_9-PB3Gfaznr-I1uFVXGByUFoBxdegqPAjOEfcezhAxIVcvHW_QMZrcN3N13y5NAAm9icW7IhJMwnprf5msB_ZAwuc6KiZc46R0N7GdXsHKXqeMawDsjeEAWFo_1bM_EqSTlXBekPMJZWgaaJDtPK9xuiAUGl3yGL_NhHiuprFd2jROYBczbKxWF8HvBAOC9abpyVOLivl4reI8VDgdBME_2LU8OqsW7b3hQG3p9sEs-vNqmvnKiLWZRScEMATbKdjIhIgZ3qmVSA   
2018-03-28 23:34:52.1338|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:52.1691|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:34:52.1930|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrspL5F7Lnn3qPSfPHaO4L-rDIhyCtMEeW_9-PB3Gfaznr-I1uFVXGByUFoBxdegqPAjOEfcezhAxIVcvHW_QMZrcN3N13y5NAAm9icW7IhJMwnprf5msB_ZAwuc6KiZc46R0N7GdXsHKXqeMawDsjeEAWFo_1bM_EqSTlXBekPMJZWgaaJDtPK9xuiAUGl3yGL_NhHiuprFd2jROYBczbKxWF8HvBAOC9abpyVOLivl4reI8VDgdBME_2LU8OqsW7b3hQG3p9sEs-vNqmvnKiLWZRScEMATbKdjIhIgZ3qmVSA) - ModelState is Valid 
2018-03-28 23:34:52.2149|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:34:52.2689|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 50.5699ms 
2018-03-28 23:34:52.3282|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 212.3635ms 200 text/html; charset=utf-8 
2018-03-28 23:35:40.3857|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:35:40.4219|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:35:40.5393|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:35:40.7840|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:35:41.0656|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:35:41.0867|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:35:41.3059|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:35:41.3693|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:35:41.6450|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:35:41.8642|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1421.8554ms 200 application/json; charset=UTF-8 
2018-03-28 23:35:41.9505|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:35:41.9874|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:35:42.0453|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:35:42.1126|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:35:42.1554|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:35:42.1937|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:35:42.3155|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:35:42.6116|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 462.3416ms 200 text/html; charset=UTF-8 
2018-03-28 23:35:44.4032|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 225 
2018-03-28 23:35:44.4197|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:35:44.4438|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:35:44.4698|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 23:35:44.4891|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:35:44.5180|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:35:44.5385|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:35:44.5690|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:35:44.5965|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:35:44.7626|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 152.6295ms 
2018-03-28 23:35:44.8388|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrspxaw64LTA61EeIYTChMcgweqfd_5Q-QZS-qfYsx_C6BWoL4GHXUuLtQH0PW7Tyz5icpDtbrpZiL4PubI1a6OBoy4aUzxVM12cSoi-ONKq9jK5KEghSh-SQY03NVmJgJQoHR1dZ-GCBxe13vjjXTbbc7juVnepvgG7soycEH_bF12H0jBoz46XHDZpM8WWMlIdOMFOV5M1yoAviJpNh0FFg7R3T62z2927xkM3x5IG2d-Ee161igJu-emzaUaFJmeIQu_Wi4uJZKx8_1ifTOYE1f1pVnegozjBlg9xeM-t4uHbDJAvCfj3Y2_kaTpzO5e4   
2018-03-28 23:35:44.8715|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 379.7023ms 200 text/html; charset=utf-8 
2018-03-28 23:35:44.9220|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 23:35:44.9556|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 23:35:44.9793|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 23:35:45.0001|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 23:35:45.0183|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 23:35:45.0423|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 23:35:45.0599|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 23:35:45.0816|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 23:35:45.1043|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 23:35:45.1652|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 436.7717ms 200 text/html; charset=UTF-8 
2018-03-28 23:35:45.2198|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   
2018-03-28 23:35:45.2518|2|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|Sending file. Request path: '/favicon.ico'. Physical path: 'C:\monster\Code\KiraNet\KiraNet.Camellia\src\KiraNet.Camellia\Server\KiraNet.Camellia.AuthorizationServer\wwwroot\favicon.ico' 
2018-03-28 23:35:45.3210|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 93.5383ms 200 image/x-icon 
2018-03-28 23:35:46.1450|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=d4865cfcb0e448419edc3f6e1ea1c30f&nonce=bd03bb4ff5354a72b719b6baf0bb7ddb&prompt=none   
2018-03-28 23:35:46.1823|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:35:46.2184|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:35:46.2518|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:35:46.2891|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:35:46.3779|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 23:35:46.4056|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:35:46.4500|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d4865cfcb0e448419edc3f6e1ea1c30f",
    "nonce": "bd03bb4ff5354a72b719b6baf0bb7ddb",
    "prompt": "none"
  }
} 
2018-03-28 23:35:46.4845|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:35:46.5125|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "d4865cfcb0e448419edc3f6e1ea1c30f",
    "nonce": "bd03bb4ff5354a72b719b6baf0bb7ddb",
    "prompt": "none"
  }
} 
2018-03-28 23:35:46.5489|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 524.3196ms 302  
2018-03-28 23:35:46.5990|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoJUCI30hZn0S8UmbZ8PRTNzafp_nOawQORc9WER7P_ytbr6BYl8HhAsqE-yMfvZtpNhoEiHBZH96mD82foj_omD2x9V5Z61OjKPfjtTlBdFG5gZfzB_72agUUFopKZPfKWE905bpUL7YDHOvjUZypeoGpxPt-ry36utafuXmJAIajn3tOGLCoF5_OTHcjrRD_QCub3PSEpiqwzUiBumnAgmZFw9haCRKq8oph4G9Dbe3Qb4uRRkSo2WwrEy5MoEDeG_HcYPXz54lIhTrT2P9mssE9KKq_WuZzMK63I4wD3Kw   
2018-03-28 23:35:46.6395|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoJUCI30hZn0S8UmbZ8PRTNzafp_nOawQORc9WER7P_ytbr6BYl8HhAsqE-yMfvZtpNhoEiHBZH96mD82foj_omD2x9V5Z61OjKPfjtTlBdFG5gZfzB_72agUUFopKZPfKWE905bpUL7YDHOvjUZypeoGpxPt-ry36utafuXmJAIajn3tOGLCoF5_OTHcjrRD_QCub3PSEpiqwzUiBumnAgmZFw9haCRKq8oph4G9Dbe3Qb4uRRkSo2WwrEy5MoEDeG_HcYPXz54lIhTrT2P9mssE9KKq_WuZzMK63I4wD3Kw) - ModelState is Valid 
2018-03-28 23:35:46.6893|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:35:46.9017|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 99.9734ms 
2018-03-28 23:35:46.9519|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 345.8564ms 200 text/html; charset=utf-8 
2018-03-28 23:35:48.2056|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5200   
2018-03-28 23:35:48.2272|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession matched to endpoint type Endsession 
2018-03-28 23:35:48.2516|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint 
2018-03-28 23:35:48.2716|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession 
2018-03-28 23:35:48.3182|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Processing signout request for anonymous 
2018-03-28 23:35:48.3578|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|Start end session request validation 
2018-03-28 23:35:48.3851|0|IdentityServer4.Validation.EndSessionRequestValidator|INFO|End session request validation success
{
  "SubjectId": "unknown",
  "Raw": {
    "post_logout_redirect_uri": "http://localhost:5200"
  }
} 
2018-03-28 23:35:48.4347|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Success validating end session request from (null) 
2018-03-28 23:35:48.4643|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 255.8225ms 302  
2018-03-28 23:35:48.4888|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/logout   
2018-03-28 23:35:48.5133|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments () - ModelState is Valid 
2018-03-28 23:35:48.5329|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:35:48.5538|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:35:48.5723|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:35:48.5895|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:35:48.6130|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:35:49.0855|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 122.9965ms 
2018-03-28 23:35:49.6153|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 609.9879ms 200 text/html; charset=utf-8 
2018-03-28 23:35:59.9036|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:35:59.9191|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:35:59.9384|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:35:59.9569|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:35:59.9834|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:00.0071|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:36:00.1238|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:36:00.1558|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:36:00.1860|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:36:00.2399|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 299.7682ms 200 application/json; charset=UTF-8 
2018-03-28 23:36:00.2675|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2d09975bf8bb4bd5a939a0411a9c4452&nonce=4a0d5da0d17647a1b6643db3fd04ecef   
2018-03-28 23:36:00.3143|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:36:00.3556|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:36:00.3955|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:36:00.4516|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:36:00.5017|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|No user present in authorize request 
2018-03-28 23:36:00.5330|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:36:00.5675|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:36:00.5957|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "2d09975bf8bb4bd5a939a0411a9c4452",
  "Nonce": "4a0d5da0d17647a1b6643db3fd04ecef",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "2d09975bf8bb4bd5a939a0411a9c4452",
    "nonce": "4a0d5da0d17647a1b6643db3fd04ecef"
  }
} 
2018-03-28 23:36:00.7395|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing login: User is not authenticated 
2018-03-28 23:36:00.8124|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 509.4908ms 302  
2018-03-28 23:36:01.0022|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/login?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D2d09975bf8bb4bd5a939a0411a9c4452%26nonce%3D4a0d5da0d17647a1b6643db3fd04ecef   
2018-03-28 23:36:01.0374|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2d09975bf8bb4bd5a939a0411a9c4452&nonce=4a0d5da0d17647a1b6643db3fd04ecef) - ModelState is Valid 
2018-03-28 23:36:01.0643|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:36:01.1343|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Login.cshtml. 
2018-03-28 23:36:01.5619|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 151.6866ms 
2018-03-28 23:36:02.0959|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/css/images/main_bg.png   
2018-03-28 23:36:02.1967|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 637.913ms 200 text/html; charset=utf-8 
2018-03-28 23:36:02.2920|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 539.3639ms 404  
2018-03-28 23:36:07.1142|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Login?returnurl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520email%2520client_name%26state%3D2d09975bf8bb4bd5a939a0411a9c4452%26nonce%3D4a0d5da0d17647a1b6643db3fd04ecef application/x-www-form-urlencoded 232 
2018-03-28 23:36:07.1612|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Models.ViewModels.LoginViewModel, /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2d09975bf8bb4bd5a939a0411a9c4452&nonce=4a0d5da0d17647a1b6643db3fd04ecef) - ModelState is Valid 
2018-03-28 23:36:07.2087|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:36:07.3158|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (36ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Alias], [u].[ConcurrencyStamp], [u].[Email], [u].[EmailConfirmed], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0 
2018-03-28 23:36:07.5751|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (195ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:36:07.6196|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:36:07.8446|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (188ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:36:07.9133|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (24ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:36:07.9783|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:36:08.3046|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding idp claim with value: local 
2018-03-28 23:36:08.3424|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding amr claim with value: pwd 
2018-03-28 23:36:08.3953|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Adding auth_time claim with value: 1522251367 
2018-03-28 23:36:08.4430|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:36:08.4987|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged in. 
2018-03-28 23:36:08.5415|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2d09975bf8bb4bd5a939a0411a9c4452&nonce=4a0d5da0d17647a1b6643db3fd04ecef. 
2018-03-28 23:36:08.5764|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Login (KiraNet.Camellia.AuthorizationServer) in 1424.5337ms 
2018-03-28 23:36:08.6227|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1486.4862ms 302  
2018-03-28 23:36:08.6589|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=2d09975bf8bb4bd5a939a0411a9c4452&nonce=4a0d5da0d17647a1b6643db3fd04ecef   
2018-03-28 23:36:08.6865|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:08.7157|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:08.8918|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-28 23:36:09.1891|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-28 23:36:09.5137|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-28 23:36:09.5530|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-28 23:36:09.5814|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:36:09.6073|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:36:09.6391|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:36:09.6901|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "2d09975bf8bb4bd5a939a0411a9c4452",
  "Nonce": "4a0d5da0d17647a1b6643db3fd04ecef",
  "SessionId": "476490aec95ab1fd30da2233265a4927",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "2d09975bf8bb4bd5a939a0411a9c4452",
    "nonce": "4a0d5da0d17647a1b6643db3fd04ecef"
  }
} 
2018-03-28 23:36:09.7762|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:36:09.8719|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (49ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:36:09.9684|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 23:36:10.0155|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 23:36:10.0431|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 23:36:10.0980|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 23:36:10.1479|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 23:36:10.2796|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 23:36:10.3242|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:36:10.5157|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (46ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:36:10.9463|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:36:10.9973|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:36:11.0286|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:36:11.0641|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 23:36:11.2494|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:36:11.3082|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:36:11.4957|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:36:11.5661|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:36:11.6197|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "2d09975bf8bb4bd5a939a0411a9c4452",
  "Scope": "openid profile email client_name"
} 
2018-03-28 23:36:11.6742|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-28 23:36:11.7094|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-28 23:36:11.7640|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3071.2696ms 302  
2018-03-28 23:36:16.0737|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:36:16.1797|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:36:16.2135|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:36:16.2536|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:36:16.2873|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:16.3740|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:36:16.7913|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:36:16.8140|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:36:16.8550|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:36:16.9097|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 835.6741ms 200 application/json; charset=UTF-8 
2018-03-28 23:36:17.0261|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-28 23:36:17.0566|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-28 23:36:17.1083|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:36:17.1296|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:36:17.1554|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:17.1942|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-28 23:36:17.3265|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-28 23:36:17.3548|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-28 23:36:17.3894|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-28 23:36:17.5490|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 403.5534ms 200 application/json; charset=UTF-8 
2018-03-28 23:36:17.6274|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-28 23:36:17.6606|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:36:17.6934|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:36:17.7208|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:36:17.7457|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:17.7755|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 174.3864ms 204  
2018-03-28 23:36:17.8086|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-28 23:36:17.8383|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:36:17.8883|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:36:18.1218|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:36:18.1610|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:18.1850|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-28 23:36:18.2436|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-28 23:36:18.2745|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-28 23:36:18.3094|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-28 23:36:18.3391|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-28 23:36:18.3891|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:36:18.5834|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (169ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:36:18.6053|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 23:36:18.6273|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1522251371,
    "exp": 1522258571,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522251367,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "scope": [
      "openid",
      "profile",
      "email",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-28 23:36:18.6526|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-28 23:36:18.6853|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:36:18.7192|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:36:18.7542|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified 
2018-03-28 23:36:18.7796|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:36:18.8247|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:36:18.8990|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:36:19.0867|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (144ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:36:19.1140|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:36:19.1388|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name email email_verified 
2018-03-28 23:36:19.1599|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-28 23:36:19.3240|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1386.628ms 200 application/json; charset=UTF-8 
2018-03-28 23:36:19.3605|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:36:19.3926|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:19.4358|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:19.4596|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:36:19.4970|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:36:19.5275|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:36:19.5716|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:36:19.6675|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 298.788ms 200 text/html; charset=UTF-8 
2018-03-28 23:36:21.7368|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=48926547ca2b4675a3b74d3d13995656&nonce=89f472d79a514d2ab4023377796a4620&prompt=none   
2018-03-28 23:36:21.7854|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:21.8460|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:22.0399|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:36:22.0868|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:36:22.1121|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:36:22.1528|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:36:22.1746|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:36:22.1961|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:36:22.2178|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "48926547ca2b4675a3b74d3d13995656",
    "nonce": "89f472d79a514d2ab4023377796a4620",
    "prompt": "none"
  }
} 
2018-03-28 23:36:22.2394|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:36:22.2899|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "48926547ca2b4675a3b74d3d13995656",
    "nonce": "89f472d79a514d2ab4023377796a4620",
    "prompt": "none"
  }
} 
2018-03-28 23:36:22.3294|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 615.4793ms 302  
2018-03-28 23:36:22.4771|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrJADdPFh2H0LHgO63Lab8lJNbPofFQ-C0OXHJYtRJKHL7U5SCZOnNMALhxt7MW8EPNdS_ASNR_UMO87s7VaYw3gJsNTMJEoVXP4VL6-BjnTUvcvlmSV9IC9vbwHHr8qru4pc3fKV5c7gB9N_lEni8b07t2iQh9Y2GNap39VZIv4EJ9C9_otELBAVC148Wgl7b9XXh2QudrpKQ5DlWruodGG37GtUNBoNQN8_Wh76GsruhhwnRFPvPgKHwm_78mubP3_nv41BiBn7rsXUcRAwOvZ6AAZnPCM6BSAh-6892c9w   
2018-03-28 23:36:22.5186|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:22.5542|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:22.5831|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrJADdPFh2H0LHgO63Lab8lJNbPofFQ-C0OXHJYtRJKHL7U5SCZOnNMALhxt7MW8EPNdS_ASNR_UMO87s7VaYw3gJsNTMJEoVXP4VL6-BjnTUvcvlmSV9IC9vbwHHr8qru4pc3fKV5c7gB9N_lEni8b07t2iQh9Y2GNap39VZIv4EJ9C9_otELBAVC148Wgl7b9XXh2QudrpKQ5DlWruodGG37GtUNBoNQN8_Wh76GsruhhwnRFPvPgKHwm_78mubP3_nv41BiBn7rsXUcRAwOvZ6AAZnPCM6BSAh-6892c9w) - ModelState is Valid 
2018-03-28 23:36:22.6040|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:36:22.6464|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 53.1045ms 
2018-03-28 23:36:22.9264|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 281.3693ms 200 text/html; charset=utf-8 
2018-03-28 23:36:26.0721|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:36:26.1418|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:36:26.1594|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:36:26.1813|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:36:26.1983|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:36:26.2151|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:36:26.2295|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:36:26.2471|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:36:26.2681|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:36:26.3617|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 224.5717ms 200 application/json; charset=UTF-8 
2018-03-28 23:36:26.3739|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:36:26.3925|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:26.4219|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:26.4491|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:36:26.4767|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:36:26.5064|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:36:26.5344|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:36:26.5805|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 243.819ms 200 text/html; charset=UTF-8 
2018-03-28 23:36:28.6155|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=94a9e25593504c9f90101d9562e0c25e&nonce=fb040ce7493a42ed819aa20cfd6c306c&prompt=none   
2018-03-28 23:36:28.6155|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:28.6436|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:28.6578|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:36:28.6766|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:36:28.6920|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:36:28.7083|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:36:28.7263|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:36:28.7419|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:36:28.7572|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "94a9e25593504c9f90101d9562e0c25e",
    "nonce": "fb040ce7493a42ed819aa20cfd6c306c",
    "prompt": "none"
  }
} 
2018-03-28 23:36:28.7775|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:36:28.7986|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "94a9e25593504c9f90101d9562e0c25e",
    "nonce": "fb040ce7493a42ed819aa20cfd6c306c",
    "prompt": "none"
  }
} 
2018-03-28 23:36:28.8180|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 199.9597ms 302  
2018-03-28 23:36:28.8406|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsqWsUGgSuabfTEiswDXOjgvSkC9rPLE4GCTvM8wo_Q_4ofQIMoswIQAElcUb_aQFUay2rGLiZ5EjIZCXOrjfSbiGCa9-A0vyKl9ZSRmTN0ZDzxjif9l7KjrQqyZRKnPoTZ0m7u4sIXaYoszimNh0y8Vni4xPrCZ0xUTlvRAU2mHAhTJS-1nzgRgCJDhfgKLo4nax1Tl7Nw8A8We2uY3mpUJqbaINYQtmM3Ov5ATyl2gi1V7esOih8KuItwEsFMeLMlGfNO40_hCRgju7E90jTaln1Tt7rtu__gIALPMPpzgVQ   
2018-03-28 23:36:28.8555|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:28.8788|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:36:28.9089|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqWsUGgSuabfTEiswDXOjgvSkC9rPLE4GCTvM8wo_Q_4ofQIMoswIQAElcUb_aQFUay2rGLiZ5EjIZCXOrjfSbiGCa9-A0vyKl9ZSRmTN0ZDzxjif9l7KjrQqyZRKnPoTZ0m7u4sIXaYoszimNh0y8Vni4xPrCZ0xUTlvRAU2mHAhTJS-1nzgRgCJDhfgKLo4nax1Tl7Nw8A8We2uY3mpUJqbaINYQtmM3Ov5ATyl2gi1V7esOih8KuItwEsFMeLMlGfNO40_hCRgju7E90jTaln1Tt7rtu__gIALPMPpzgVQ) - ModelState is Valid 
2018-03-28 23:36:28.9263|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:36:28.9593|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 47.2956ms 
2018-03-28 23:36:28.9811|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 138.4742ms 200 text/html; charset=utf-8 
2018-03-28 23:37:01.2108|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:37:01.3180|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:37:01.4029|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:37:01.4664|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:37:01.4995|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:37:01.5477|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:37:01.6424|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:37:01.6752|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:37:01.7025|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:37:02.2967|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 515.1111ms 200 application/json; charset=UTF-8 
2018-03-28 23:37:02.8156|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:37:02.8589|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:02.8912|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:02.9400|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:37:02.9762|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:37:03.1455|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:37:03.1964|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:37:03.2523|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 526.1037ms 200 text/html; charset=UTF-8 
2018-03-28 23:37:05.3073|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=beba98cd481e4a1a9d3371a2c73c0629&nonce=bbdc70322d4943058a93e83ca1c2cfdc&prompt=none   
2018-03-28 23:37:05.3281|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:05.3470|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:05.3624|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:37:05.3800|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:37:05.3970|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:37:05.4168|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:37:05.4452|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:37:05.4649|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:37:05.4891|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "beba98cd481e4a1a9d3371a2c73c0629",
    "nonce": "bbdc70322d4943058a93e83ca1c2cfdc",
    "prompt": "none"
  }
} 
2018-03-28 23:37:05.5063|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:37:05.5453|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "beba98cd481e4a1a9d3371a2c73c0629",
    "nonce": "bbdc70322d4943058a93e83ca1c2cfdc",
    "prompt": "none"
  }
} 
2018-03-28 23:37:05.5648|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 262.2552ms 302  
2018-03-28 23:37:05.5851|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrso3YuRoUp_5j80fOif78GvNpN2hVRJg0QT-nHE_v6ZQsUck3WWNfShdBa4bg_xgNJebQZ7JN10i7CqpywqzngZxesIdLDZvBRKhkSUWEC4IUtYfRNoe63jow2ELpxu1kH5smeM4DHoEq5R6XBEAnVJC6hLebGYXWod43ktcv4Gi6enJHSWoIz9twb-ack1IfA3i6ffghblhviK5j_-Zg6S16ZP_LjkbupXvCnvwuXBpI4e6jU5qH1Mck13iaDFIMB3-Ko1PDoBSofPAQkRM8mN2dPlnCU69dY3y-TGjDje8gw   
2018-03-28 23:37:05.6005|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:05.6166|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:05.6308|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrso3YuRoUp_5j80fOif78GvNpN2hVRJg0QT-nHE_v6ZQsUck3WWNfShdBa4bg_xgNJebQZ7JN10i7CqpywqzngZxesIdLDZvBRKhkSUWEC4IUtYfRNoe63jow2ELpxu1kH5smeM4DHoEq5R6XBEAnVJC6hLebGYXWod43ktcv4Gi6enJHSWoIz9twb-ack1IfA3i6ffghblhviK5j_-Zg6S16ZP_LjkbupXvCnvwuXBpI4e6jU5qH1Mck13iaDFIMB3-Ko1PDoBSofPAQkRM8mN2dPlnCU69dY3y-TGjDje8gw) - ModelState is Valid 
2018-03-28 23:37:05.6472|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:37:05.6730|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 31.7678ms 
2018-03-28 23:37:05.7017|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 103.9151ms 200 text/html; charset=utf-8 
2018-03-28 23:37:27.5362|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:37:27.5894|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:37:27.6784|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:37:27.7200|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:37:27.7542|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:37:27.7801|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:37:27.8024|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:37:27.8233|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:37:27.8475|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:37:27.8972|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 336.1479ms 200 application/json; charset=UTF-8 
2018-03-28 23:37:27.9247|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:37:27.9612|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:27.9831|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:27.9974|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:37:28.0293|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:37:28.0558|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:37:28.0898|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:37:28.3378|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 195.2652ms 200 text/html; charset=UTF-8 
2018-03-28 23:37:30.1769|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=1344e82b5f90498285e8a6c14c65a76f&nonce=60afb0dc76b64b95a5865d2a6c1998fb&prompt=none   
2018-03-28 23:37:30.2128|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:30.2270|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:30.2435|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:37:30.2680|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:37:30.2828|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:37:30.2990|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:37:30.3159|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:37:30.3327|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:37:30.3607|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1344e82b5f90498285e8a6c14c65a76f",
    "nonce": "60afb0dc76b64b95a5865d2a6c1998fb",
    "prompt": "none"
  }
} 
2018-03-28 23:37:30.3793|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:37:30.4026|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1344e82b5f90498285e8a6c14c65a76f",
    "nonce": "60afb0dc76b64b95a5865d2a6c1998fb",
    "prompt": "none"
  }
} 
2018-03-28 23:37:30.4246|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 247.3612ms 302  
2018-03-28 23:37:30.4471|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsoBL8oL3ZjMru2XYbj-WirABUedGtocYrpRyukHaG_u098wUEr2HYM2bUhvEz1yccUNDeqVDoUZoYK7TYIaNLERG4CQ0qmloL5m0UfgWMUs2XTT27TFyNTS8oaOMIO2s5NOipHJ2B3LhHT_iuDegoqxzv7nuAtoZu3jWpLLwwdOJLZoqoE_n00RdPIDa8gHA-MMMxc9fL11YReimpwRsdqKuf0JPdoOL4aX6SVkK-u1JQp39BOmdsvQZx-kSOEEk1E_Sip3T_TQHXgTqyX5UL-sajxQsQIOAnO7emsCK7Jdeg   
2018-03-28 23:37:30.4620|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:30.4777|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:30.5030|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsoBL8oL3ZjMru2XYbj-WirABUedGtocYrpRyukHaG_u098wUEr2HYM2bUhvEz1yccUNDeqVDoUZoYK7TYIaNLERG4CQ0qmloL5m0UfgWMUs2XTT27TFyNTS8oaOMIO2s5NOipHJ2B3LhHT_iuDegoqxzv7nuAtoZu3jWpLLwwdOJLZoqoE_n00RdPIDa8gHA-MMMxc9fL11YReimpwRsdqKuf0JPdoOL4aX6SVkK-u1JQp39BOmdsvQZx-kSOEEk1E_Sip3T_TQHXgTqyX5UL-sajxQsQIOAnO7emsCK7Jdeg) - ModelState is Valid 
2018-03-28 23:37:30.5221|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:37:30.5823|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 44.1045ms 
2018-03-28 23:37:30.6522|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 155.1736ms 200 text/html; charset=utf-8 
2018-03-28 23:37:31.1093|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5200&state=b9e52713dc7e4a8ebc483182f5badd80   
2018-03-28 23:37:31.1564|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:31.2769|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:31.4002|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession matched to endpoint type Endsession 
2018-03-28 23:37:31.4334|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint 
2018-03-28 23:37:31.4652|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession 
2018-03-28 23:37:31.4936|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Processing signout request for 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:37:31.5285|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|Start end session request validation 
2018-03-28 23:37:31.5576|0|IdentityServer4.Validation.EndSessionRequestValidator|INFO|End session request validation success
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "Raw": {
    "post_logout_redirect_uri": "http://localhost:5200",
    "state": "b9e52713dc7e4a8ebc483182f5badd80"
  }
} 
2018-03-28 23:37:31.5859|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Success validating end session request from (null) 
2018-03-28 23:37:31.6160|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 675.0393ms 302  
2018-03-28 23:37:31.6686|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8BC_M7YetWVIrJcwI8SRrsqjoe1Nl9JU7SH3aVtSBZdm4629cKxt6i5BEROdq0QafQWnZmdt37KuB7h8a9VkSNebZ4r0HViP0oFHJ5xhpV7hgF69F09B389mQMr6S9BK_0rOpUTKzjKBgOEqjRk_vAnenYQ1GcVPcKolK_pBeZQ_UOpXkpkSI8jYA4ARACAkSWiwDPMKqfGal5ejyssdrawxAj320CAeD22P_5n4mvYxPEWFY4nm9OdVTCCeQTWd1AQaZGGhu1yaZcasqtaywVEQu1SsLv_PR9RjaAhwLH4dsLocmgMzGRhOnC-xsEYCOJROxc94R6w-jw4YGT-0DQV1UDvSdwGBh_AMHCjCxd-i   
2018-03-28 23:37:31.6887|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:31.7200|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:37:31.7575|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsqjoe1Nl9JU7SH3aVtSBZdm4629cKxt6i5BEROdq0QafQWnZmdt37KuB7h8a9VkSNebZ4r0HViP0oFHJ5xhpV7hgF69F09B389mQMr6S9BK_0rOpUTKzjKBgOEqjRk_vAnenYQ1GcVPcKolK_pBeZQ_UOpXkpkSI8jYA4ARACAkSWiwDPMKqfGal5ejyssdrawxAj320CAeD22P_5n4mvYxPEWFY4nm9OdVTCCeQTWd1AQaZGGhu1yaZcasqtaywVEQu1SsLv_PR9RjaAhwLH4dsLocmgMzGRhOnC-xsEYCOJROxc94R6w-jw4YGT-0DQV1UDvSdwGBh_AMHCjCxd-i) - ModelState is Valid 
2018-03-28 23:37:35.0172|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Logout.cshtml. 
2018-03-28 23:37:35.2280|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 3416.2044ms 
2018-03-28 23:37:35.5078|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3599.9817ms 200 text/html; charset=utf-8 
2018-03-28 23:38:37.6068|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:38:37.6259|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:38:37.6548|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:38:37.6782|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:38:37.7035|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:38:37.7274|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:38:37.7616|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:38:37.8028|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:38:37.8810|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:38:38.0065|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 302.4168ms 200 application/json; charset=UTF-8 
2018-03-28 23:38:38.0238|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20email%20client_name&state=7b010a47d0d14c72a54eb78e8f7c8451&nonce=264d111794924fc3aeead35e265442ab   
2018-03-28 23:38:38.0498|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:38.0673|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:38.0893|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:38:38.1158|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:38:38.1440|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:38:38.2170|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:38:38.2376|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:38:38.2654|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:38:38.3058|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-28 23:38:38.4129|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile email client_name",
  "State": "7b010a47d0d14c72a54eb78e8f7c8451",
  "Nonce": "264d111794924fc3aeead35e265442ab",
  "SessionId": "476490aec95ab1fd30da2233265a4927",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile email client_name",
    "state": "7b010a47d0d14c72a54eb78e8f7c8451",
    "nonce": "264d111794924fc3aeead35e265442ab"
  }
} 
2018-03-28 23:38:38.4965|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:38:38.7222|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (31ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:38:38.7511|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-28 23:38:38.7892|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-28 23:38:38.8136|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-28 23:38:38.9151|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-28 23:38:38.9539|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-28 23:38:38.9993|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-28 23:38:39.0407|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:38:39.1389|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (34ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:38:39.1890|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:38:39.2319|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:38:39.2548|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:38:39.2867|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-28 23:38:39.3096|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:38:39.3413|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:38:39.3888|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:38:39.4470|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:38:39.5003|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "7b010a47d0d14c72a54eb78e8f7c8451",
  "Scope": "openid profile email client_name"
} 
2018-03-28 23:38:39.5503|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1547.457ms 302  
2018-03-28 23:38:53.9221|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:38:53.9637|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:38:53.9887|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:38:54.0108|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:38:54.0298|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:38:54.0436|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:38:54.0643|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:38:54.0843|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:38:54.1050|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:38:54.1289|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 204.8834ms 200 application/json; charset=UTF-8 
2018-03-28 23:38:54.1508|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-28 23:38:54.1667|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-28 23:38:54.1885|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:38:54.2054|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:38:54.2239|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:38:54.2496|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-28 23:38:54.2717|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-28 23:38:54.2960|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-28 23:38:54.3318|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-28 23:38:54.3550|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 200.869ms 200 application/json; charset=UTF-8 
2018-03-28 23:38:54.4412|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-28 23:38:54.4608|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:38:54.4961|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:38:54.5189|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:38:54.5398|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:38:54.5681|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 112.1821ms 204  
2018-03-28 23:38:54.6298|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-28 23:38:54.6654|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-28 23:38:54.6937|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:38:54.7149|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:38:54.7325|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:38:54.7536|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-28 23:38:54.7808|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-28 23:38:54.8030|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-28 23:38:54.8215|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-28 23:38:54.8476|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-28 23:38:54.8701|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-28 23:38:54.9009|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-28 23:38:54.9203|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-28 23:38:54.9419|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1522251519,
    "exp": 1522258719,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1522251367,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "email": "997525106@qq.com",
    "scope": [
      "openid",
      "profile",
      "email",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-28 23:38:54.9620|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-28 23:38:54.9620|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:38:54.9981|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:38:55.0188|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at email email_verified 
2018-03-28 23:38:55.0381|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile email client_name 
2018-03-28 23:38:55.0632|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-28 23:38:55.0914|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-28 23:38:55.1153|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-28 23:38:55.1479|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-28 23:38:55.1655|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name email email_verified 
2018-03-28 23:38:55.1835|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-28 23:38:55.2254|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 601.6028ms 200 application/json; charset=UTF-8 
2018-03-28 23:38:55.2635|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:38:55.2835|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:55.3041|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:55.3197|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:38:55.3371|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:38:55.3550|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:38:55.3786|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:38:55.4220|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 176.2556ms 200 text/html; charset=UTF-8 
2018-03-28 23:38:57.4622|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200&response_type=id_token&scope=openid&state=1e3d568b22904388861fe408b57e53e2&nonce=0bba73b50bbb494486e1bc7081e1b984&prompt=none   
2018-03-28 23:38:57.4792|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:57.5047|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:57.5211|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-28 23:38:57.5381|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-28 23:38:57.5551|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-28 23:38:57.5753|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-28 23:38:57.5914|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:38:57.6109|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-28 23:38:57.6289|0|IdentityServer4.Validation.AuthorizeRequestValidator|ERROR|Invalid redirect_uri: http://localhost:5200
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e3d568b22904388861fe408b57e53e2",
    "nonce": "0bba73b50bbb494486e1bc7081e1b984",
    "prompt": "none"
  }
} 
2018-03-28 23:38:57.6513|0|IdentityServer4.Endpoints.AuthorizeEndpoint|ERROR|Request validation failed 
2018-03-28 23:38:57.6685|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "RequestedScopes": "",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200",
    "response_type": "id_token",
    "scope": "openid",
    "state": "1e3d568b22904388861fe408b57e53e2",
    "nonce": "0bba73b50bbb494486e1bc7081e1b984",
    "prompt": "none"
  }
} 
2018-03-28 23:38:57.6948|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 222.2005ms 302  
2018-03-28 23:38:57.7189|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/home/error?errorId=CfDJ8BC_M7YetWVIrJcwI8SRrsrHrJ_XC1zPGXJ2-Ln-3_srvAVU2qz7UtupF2PlXPISbaKcKi7b-1lUdZS_7vOWtBUIbpNOJpnZfgrR58SqWNg8AFrAvrlB9hm24PTai1nqJBbeCephITzfk5SpU0oRvPe_kONTE4lAT2Odyl_SF4sue7rccS73FubF2vVJq2bmR7VI3X4z5TAOn6w0Q7soqVfkndeu4sFN5stsfQImTdwGT9407hERhnlvQPapSn7FL9PLrtKxRbNE0gOSGdlkvGm0kFtNPAYC2Z13koB-58mDs45qzM_B-qZbynulPCjtzA   
2018-03-28 23:38:57.7456|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:57.7687|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:38:57.9819|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrHrJ_XC1zPGXJ2-Ln-3_srvAVU2qz7UtupF2PlXPISbaKcKi7b-1lUdZS_7vOWtBUIbpNOJpnZfgrR58SqWNg8AFrAvrlB9hm24PTai1nqJBbeCephITzfk5SpU0oRvPe_kONTE4lAT2Odyl_SF4sue7rccS73FubF2vVJq2bmR7VI3X4z5TAOn6w0Q7soqVfkndeu4sFN5stsfQImTdwGT9407hERhnlvQPapSn7FL9PLrtKxRbNE0gOSGdlkvGm0kFtNPAYC2Z13koB-58mDs45qzM_B-qZbynulPCjtzA) - ModelState is Valid 
2018-03-28 23:38:58.2105|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Error.cshtml. 
2018-03-28 23:38:58.2295|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Error (KiraNet.Camellia.AuthorizationServer) in 441.2143ms 
2018-03-28 23:38:58.2480|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 529.2774ms 200 text/html; charset=utf-8 
2018-03-28 23:39:00.8347|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:39:00.8520|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:39:00.8828|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:39:01.0040|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:39:01.0635|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:39:01.0947|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:39:01.1160|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:39:01.1357|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:39:01.1573|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:39:01.1797|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 336.4957ms 200 application/json; charset=UTF-8 
2018-03-28 23:39:10.3497|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-28 23:39:10.4116|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-28 23:39:10.4338|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-28 23:39:10.4556|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-28 23:39:10.4772|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-28 23:39:10.4976|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-28 23:39:10.5232|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-28 23:39:10.5515|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-28 23:39:10.5711|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-28 23:39:10.5983|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 240.4563ms 200 application/json; charset=UTF-8 
2018-03-28 23:39:10.6231|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-28 23:39:10.6368|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:10.6503|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:10.6643|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-28 23:39:10.6905|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-28 23:39:10.7280|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-28 23:39:10.7474|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-28 23:39:10.7728|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 145.087ms 200 text/html; charset=UTF-8 
2018-03-28 23:39:12.2502|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession?post_logout_redirect_uri=http%3A%2F%2Flocalhost%3A5200   
2018-03-28 23:39:12.2670|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:12.2948|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:12.3118|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession matched to endpoint type Endsession 
2018-03-28 23:39:12.3296|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint 
2018-03-28 23:39:12.3486|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession 
2018-03-28 23:39:12.3764|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Processing signout request for 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-28 23:39:12.4002|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|Start end session request validation 
2018-03-28 23:39:12.4250|0|IdentityServer4.Validation.EndSessionRequestValidator|INFO|End session request validation success
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "Raw": {
    "post_logout_redirect_uri": "http://localhost:5200"
  }
} 
2018-03-28 23:39:12.4433|0|IdentityServer4.Endpoints.EndSessionEndpoint|DEBUG|Success validating end session request from (null) 
2018-03-28 23:39:12.4612|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 216.8595ms 302  
2018-03-28 23:39:12.4906|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/account/logout?logoutId=CfDJ8BC_M7YetWVIrJcwI8SRrsrgTpCr0dqx8EpXo5Sf5mFzRiXnL0FrpvNX5_M9YfzTk_LJAvHyE97zolvsXe1phWvoOfyaypbHJ6Vf2AxVl95DZErilWqG3_lKptcSQlZcbRAqLoh39dcPuD5nRTWQoQAOrV3Num9Bw7n4RFN_TD_rA5fYY1PzgjmL7sLoRubrdo-iYqsRnXKa7ep_fl9d7O-s6He9OB5RGyq9QLfEXglcL-usCiNIWwOKOQh6wKrkAgI7fwCaXEg9ErB0myGGeQjsAObEixqJFJFzzSq4SMQLsklrd1ItuHjN5KqMvb2qTNotTfMkt2zx8G2sY6Jx-HyFWzCHV5AyKIMEfUY7I3by   
2018-03-28 23:39:12.5105|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:12.5312|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:12.5507|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (CfDJ8BC_M7YetWVIrJcwI8SRrsrgTpCr0dqx8EpXo5Sf5mFzRiXnL0FrpvNX5_M9YfzTk_LJAvHyE97zolvsXe1phWvoOfyaypbHJ6Vf2AxVl95DZErilWqG3_lKptcSQlZcbRAqLoh39dcPuD5nRTWQoQAOrV3Num9Bw7n4RFN_TD_rA5fYY1PzgjmL7sLoRubrdo-iYqsRnXKa7ep_fl9d7O-s6He9OB5RGyq9QLfEXglcL-usCiNIWwOKOQh6wKrkAgI7fwCaXEg9ErB0myGGeQjsAObEixqJFJFzzSq4SMQLsklrd1ItuHjN5KqMvb2qTNotTfMkt2zx8G2sY6Jx-HyFWzCHV5AyKIMEfUY7I3by) - ModelState is Valid 
2018-03-28 23:39:12.5698|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/Logout.cshtml. 
2018-03-28 23:39:12.7081|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 45.4321ms 
2018-03-28 23:39:12.7753|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 254.8092ms 200 text/html; charset=utf-8 
2018-03-28 23:39:17.3491|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/Account/Logout application/x-www-form-urlencoded 603 
2018-03-28 23:39:17.3669|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:17.3967|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-28 23:39:17.4309|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Account.LogoutInputModel) - ModelState is Valid 
2018-03-28 23:39:17.4646|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed out. 
2018-03-28 23:39:17.4826|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.External signed out. 
2018-03-28 23:39:17.5099|11|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.TwoFactorUserId signed out. 
2018-03-28 23:39:17.5317|0|KiraNet.Camellia.AuthorizationServer.Controllers.AccountController|INFO|User logged out. 
2018-03-28 23:39:17.5537|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Account/LoggedOut.cshtml. 
2018-03-28 23:39:17.5939|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.AccountController.Logout (KiraNet.Camellia.AuthorizationServer) in 157.7286ms 
2018-03-28 23:39:17.6645|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/endsession/callback?endSessionId=CfDJ8BC_M7YetWVIrJcwI8SRrsrpFfzziRYoU-UQeR0MaZyLHcw-ZqrKGajkmEwOGJrGqNB04Xpqc0GkVw1jEJFPeSxx0AkkVk1xCCkJPgE_QWhFMzvXZ5BfdMaUETzjP7k6dPw2wOtIZvGXieU9bgoIE3cyH2H_ILMDC-uJmlHruiOiZ6i57jwsP8V-bXtdeOvE44M_5InxTWLSCwJm8hIT7aMWrMLJh7KqhY_OrvNURYLY9ZnEt3TLDcydEOkMbsmN3OYLEfcu_D-vtquvFainpro1WsGILe7gQBvfxvy926NTNNPlCPnaXc2bGkAVk9OjDmDy72v2NK2G598ZSDDTM8o   
2018-03-28 23:39:17.7076|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 292.8931ms 200 text/html; charset=utf-8 
2018-03-28 23:39:17.7376|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/endsession/callback matched to endpoint type Endsession 
2018-03-28 23:39:17.9588|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint 
2018-03-28 23:39:18.0564|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback 
2018-03-28 23:39:18.0793|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|Processing signout callback request 
2018-03-28 23:39:18.0988|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client front-channel logout URLs 
2018-03-28 23:39:18.1129|0|IdentityServer4.Validation.EndSessionRequestValidator|DEBUG|No client back-channel logout URLs 
2018-03-28 23:39:18.1318|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|INFO|Successful signout callback. 
2018-03-28 23:39:18.1465|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client front-channel iframe urls 
2018-03-28 23:39:18.1622|0|IdentityServer4.Endpoints.EndSessionCallbackEndpoint|DEBUG|No client back-channel iframe urls 
2018-03-28 23:39:18.2152|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 559.91ms 200 text/html; charset=UTF-8 
2018-03-28 23:39:27.5568|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-28 23:39:27.6042|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-28 23:39:27.6392|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-28 23:39:27.6630|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 81.8765ms 
2018-03-28 23:39:27.6836|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 159.9352ms 200 text/html; charset=utf-8 
