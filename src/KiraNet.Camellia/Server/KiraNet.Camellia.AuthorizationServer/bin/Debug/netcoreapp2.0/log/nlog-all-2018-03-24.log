2018-03-24 19:09:12.7086|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:09:12.9898|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:09:13.0051|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:09:13.0147|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:09:13.0147|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:11:00.1834|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:11:00.3101|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:11:00.3149|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:11:00.3149|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:11:00.3329|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:13:23.0903|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:13:23.2235|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:13:23.2235|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:13:23.2374|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:13:23.2374|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:19:56.4573|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:19:56.5760|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:19:56.5824|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:19:56.5824|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:19:56.5924|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:24:22.5610|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:24:22.6727|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:24:22.6727|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:24:22.6727|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:24:22.6885|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:26:21.4577|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:26:21.5898|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:26:21.6032|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:26:21.6107|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:26:21.6107|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:27:08.3185|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:27:08.4374|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:27:08.4374|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:27:08.4374|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:27:08.4556|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:28:34.6630|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:28:34.7986|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:28:34.7986|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:28:34.8136|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:28:34.8136|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:30:58.5956|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:30:58.7197|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:30:58.7197|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:30:58.7197|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:30:58.7397|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:34:13.0204|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:34:13.1730|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:34:13.1730|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:34:13.1730|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:34:13.1956|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:35:44.5923|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:35:44.7389|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:35:44.7389|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:35:44.7512|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:35:44.7512|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:37:29.9509|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:37:30.0828|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:37:30.0828|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:37:30.0967|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:37:30.0967|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:38:21.7252|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:38:21.8371|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:38:21.8430|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:38:21.8430|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:38:21.8430|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:39:59.8504|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:39:59.9846|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:39:59.9846|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:39:59.9995|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:40:00.0247|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:46:25.7257|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:46:25.8507|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:46:25.8507|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:46:25.8619|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:46:25.8619|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 19:47:17.7856|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 19:47:17.9047|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 19:47:17.9047|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 19:47:17.9047|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 19:47:17.9231|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 20:03:10.2722|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 20:03:10.5437|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 20:03:10.5725|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 20:03:10.5910|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 20:03:10.6119|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 20:03:12.1748|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 20:03:13.8121|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 20:03:14.9386|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:03:16.7142|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (202ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:03:17.0442|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 20:03:17.2101|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 20:03:17.2931|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 20:03:17.4498|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 20:03:17.5118|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:03:17.6181|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:03:18.2274|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 20:03:24.7267|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 20:03:24.9860|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 20:03:25.0478|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:03:25.0844|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:03:25.1334|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:03:25.1741|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 20:03:25.3840|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 20:03:25.4672|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 20:03:25.5672|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 20:03:26.9935|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=f10d7a6ca19e46cdb437bcded467309e&nonce=fbbc76e624cc49289023f5db830f3218   
2018-03-24 20:03:27.0635|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2117.0831ms 200 application/json; charset=UTF-8 
2018-03-24 20:03:27.1188|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:03:27.1795|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (30ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:03:27.2608|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 20:03:27.3574|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 20:03:27.4250|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 20:03:27.4683|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 20:03:27.5249|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:03:27.5511|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:03:27.5943|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-24 20:03:27.6502|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-24 20:03:27.6931|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-24 20:03:27.7503|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-24 20:03:27.8995|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:03:27.9831|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:03:28.4443|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:03:28.8445|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "f10d7a6ca19e46cdb437bcded467309e",
  "Nonce": "fbbc76e624cc49289023f5db830f3218",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "f10d7a6ca19e46cdb437bcded467309e",
    "nonce": "fbbc76e624cc49289023f5db830f3218"
  }
} 
2018-03-24 20:03:29.1817|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 20:03:30.3651|20102|Microsoft.EntityFrameworkCore.Database.Command|ERROR|Failed executing DbCommand (134ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 Invalid column name 'Data'.
2018-03-24 20:03:33.4165|10100|Microsoft.EntityFrameworkCore.Query|ERROR|An exception occurred in the database while iterating the results of a query for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Data'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_1`1.<CompileQueryCore>b__0(QueryContext qc)
ClientConnectionId:91122e9b-0e3b-4aa6-a33b-3245757cec8f
Error Number:207,State:1,Class:16 Invalid column name 'Data'.
2018-03-24 20:03:34.4887|0|IdentityServer4.Hosting.IdentityServerMiddleware|FATAL|Unhandled exception: Invalid column name 'Data'. Invalid column name 'Data'.
2018-03-24 20:03:35.6586|0|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|ERROR|An unhandled exception has occurred while executing the request Invalid column name 'Data'.
2018-03-24 20:03:36.9623|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 9996.7488ms 500 text/html; charset=utf-8 
2018-03-24 20:03:39.2834|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 20:03:43.4000|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 25241.9267ms 
2018-03-24 20:03:43.4430|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 29889.3552ms 200 text/html; charset=utf-8 
2018-03-24 20:19:33.7651|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 20:19:33.9171|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 20:19:33.9423|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 20:19:33.9642|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 20:19:33.9829|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 20:19:34.6611|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 20:19:36.2946|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 20:19:36.6251|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:19:36.6975|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:19:37.4448|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 20:19:46.2137|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 20:19:49.7063|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 12414.8472ms 
2018-03-24 20:19:49.7661|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 13565.6733ms 200 text/html; charset=utf-8 
2018-03-24 20:20:30.5824|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 20:20:30.6277|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 20:20:30.6966|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:20:30.7273|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:20:30.7509|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:20:30.8064|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 20:20:30.8416|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 20:20:30.8584|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 20:20:30.8877|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 20:20:31.4724|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 892.3152ms 200 application/json; charset=UTF-8 
2018-03-24 20:20:31.5199|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=109d10e5942a4922a291b7900f9b8489&nonce=cd7c335e45e947f6bdcc16a619e4abf4   
2018-03-24 20:20:31.5606|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:31.6641|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:31.7319|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-24 20:20:31.8394|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-24 20:20:31.9427|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-24 20:20:32.0259|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-24 20:20:32.0963|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:20:32.1374|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:20:32.3557|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:20:32.5401|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "109d10e5942a4922a291b7900f9b8489",
  "Nonce": "cd7c335e45e947f6bdcc16a619e4abf4",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "109d10e5942a4922a291b7900f9b8489",
    "nonce": "cd7c335e45e947f6bdcc16a619e4abf4"
  }
} 
2018-03-24 20:20:33.2661|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:20:34.4752|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (117ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:20:34.7071|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 20:20:34.8026|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-24 20:20:34.8267|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: False 
2018-03-24 20:20:34.8467|0|IdentityServer4.Stores.DefaultUserConsentStore|DEBUG|user_consent grant with value: client_id|4b0bf01c-6fae-4ecc-9202-feada77ad388 not found in store. 
2018-03-24 20:20:34.8657|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Found no prior consent from consent store, consent is required 
2018-03-24 20:20:34.8852|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing consent: User has not yet consented 
2018-03-24 20:20:34.9322|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3429.4071ms 302  
2018-03-24 20:20:34.9593|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520client_name%26state%3D109d10e5942a4922a291b7900f9b8489%26nonce%3Dcd7c335e45e947f6bdcc16a619e4abf4   
2018-03-24 20:20:34.9794|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:35.0019|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:35.2076|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=109d10e5942a4922a291b7900f9b8489&nonce=cd7c335e45e947f6bdcc16a619e4abf4) - ModelState is Valid 
2018-03-24 20:20:35.2775|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:20:35.3073|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:20:37.3958|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Consent/Index.cshtml. 
2018-03-24 20:20:38.7078|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) in 3554.5314ms 
2018-03-24 20:20:38.7585|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3765.9853ms 200 text/html; charset=utf-8 
2018-03-24 20:20:43.3006|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/consent application/x-www-form-urlencoded 664 
2018-03-24 20:20:43.3191|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:43.3388|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:43.4640|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentInputModel) - ModelState is Valid 
2018-03-24 20:20:43.4981|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:20:43.5193|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:20:43.6129|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=109d10e5942a4922a291b7900f9b8489&nonce=cd7c335e45e947f6bdcc16a619e4abf4. 
2018-03-24 20:20:43.6407|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) in 249.7424ms 
2018-03-24 20:20:43.6903|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 372.8458ms 302  
2018-03-24 20:20:43.7169|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=109d10e5942a4922a291b7900f9b8489&nonce=cd7c335e45e947f6bdcc16a619e4abf4   
2018-03-24 20:20:43.7388|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:43.7571|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:20:43.7756|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-24 20:20:43.8003|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-24 20:20:43.8225|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-24 20:20:43.8585|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-24 20:20:44.0892|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:20:44.1130|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:20:44.1387|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:20:44.1653|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "109d10e5942a4922a291b7900f9b8489",
  "Nonce": "cd7c335e45e947f6bdcc16a619e4abf4",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "109d10e5942a4922a291b7900f9b8489",
    "nonce": "cd7c335e45e947f6bdcc16a619e4abf4"
  }
} 
2018-03-24 20:20:44.1912|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:20:44.2455|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:20:44.2733|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 20:20:44.3019|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (1ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-24 20:20:44.3560|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: False 
2018-03-24 20:20:44.3949|0|IdentityServer4.Stores.DefaultUserConsentStore|DEBUG|user_consent grant with value: client_id|4b0bf01c-6fae-4ecc-9202-feada77ad388 not found in store. 
2018-03-24 20:20:44.4252|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Found no prior consent from consent store, consent is required 
2018-03-24 20:20:44.4889|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|User consented to scopes: openid, profile, client_name 
2018-03-24 20:20:44.5182|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|DEBUG|User indicated to remember consent for scopes: openid, profile, client_name 
2018-03-24 20:20:44.5440|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Client allows remembering consent, and consent given. Updating consent store for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:20:44.6368|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (2ms) [Parameters=[@__token_Key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__token_Key_0 
2018-03-24 20:20:44.6583|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= not found in database 
2018-03-24 20:20:45.0480|20102|Microsoft.EntityFrameworkCore.Database.Command|ERROR|Failed executing DbCommand (32ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?', @p3='?' (Size = 4000), @p4='?', @p5='?' (Size = 200), @p6='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [CreationTime], [Data], [Expiration], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); Cannot insert the value NULL into column 'Expiration', table 'KiraNet.Camellia.AuthorizationServer.dbo.PersistedGrants'; column does not allow nulls. INSERT fails.
The statement has been terminated.
2018-03-24 20:20:45.3913|10000|Microsoft.EntityFrameworkCore.Update|ERROR|An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.PersistedGrantDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Cannot insert the value NULL into column 'Expiration', table 'KiraNet.Camellia.AuthorizationServer.dbo.PersistedGrants'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(Tuple`2 parameters)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess) An error occurred while updating the entries. See the inner exception for details.
2018-03-24 20:20:45.8052|0|IdentityServer4.Hosting.IdentityServerMiddleware|FATAL|Unhandled exception: An error occurred while updating the entries. See the inner exception for details. An error occurred while updating the entries. See the inner exception for details.
2018-03-24 20:20:46.1893|0|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|ERROR|An unhandled exception has occurred while executing the request An error occurred while updating the entries. See the inner exception for details.
2018-03-24 20:20:46.9726|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3253.1471ms 500 text/html; charset=utf-8 
2018-03-24 20:26:48.1618|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 20:26:48.3425|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 20:26:48.3670|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 20:26:48.3870|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 20:26:48.4027|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 20:26:49.4361|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 20:26:50.7116|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 20:26:51.1932|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:26:51.2882|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:26:51.9460|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 20:27:01.8091|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 20:27:05.5090|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 13593.6399ms 
2018-03-24 20:27:05.5566|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 14905.729ms 200 text/html; charset=utf-8 
2018-03-24 20:27:39.9660|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 20:27:40.0328|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 20:27:40.0994|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:27:40.1239|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:27:40.1523|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:27:40.2657|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 20:27:40.3197|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 20:27:40.3399|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 20:27:40.3698|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 20:27:41.0445|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1058.7514ms 200 application/json; charset=UTF-8 
2018-03-24 20:27:41.0989|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=ce234f3a0dbf4d949f354454ac7c8ebd&nonce=bcf5e551e884489194a5c1635773b64b   
2018-03-24 20:27:41.1293|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:41.1604|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:41.1950|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-24 20:27:41.2563|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-24 20:27:41.2781|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-24 20:27:41.3157|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-24 20:27:41.3750|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:27:41.4092|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:27:41.6572|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:27:41.8960|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "ce234f3a0dbf4d949f354454ac7c8ebd",
  "Nonce": "bcf5e551e884489194a5c1635773b64b",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "ce234f3a0dbf4d949f354454ac7c8ebd",
    "nonce": "bcf5e551e884489194a5c1635773b64b"
  }
} 
2018-03-24 20:27:42.7816|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:27:44.1493|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (177ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:27:44.4438|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 20:27:44.5577|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-24 20:27:44.6167|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: False 
2018-03-24 20:27:44.6777|0|IdentityServer4.Stores.DefaultUserConsentStore|DEBUG|user_consent grant with value: client_id|4b0bf01c-6fae-4ecc-9202-feada77ad388 not found in store. 
2018-03-24 20:27:44.7139|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Found no prior consent from consent store, consent is required 
2018-03-24 20:27:44.7437|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|Showing consent: User has not yet consented 
2018-03-24 20:27:44.8343|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3705.9658ms 302  
2018-03-24 20:27:44.8680|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dclient_id%26redirect_uri%3Dhttp%253A%252F%252Flocalhost%253A5200%252Flogin-callback%26response_type%3Did_token%2520token%26scope%3Dopenid%2520profile%2520client_name%26state%3Dce234f3a0dbf4d949f354454ac7c8ebd%26nonce%3Dbcf5e551e884489194a5c1635773b64b   
2018-03-24 20:27:44.8984|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:44.9267|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:45.1418|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) with arguments (/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=ce234f3a0dbf4d949f354454ac7c8ebd&nonce=bcf5e551e884489194a5c1635773b64b) - ModelState is Valid 
2018-03-24 20:27:45.2186|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:27:45.2428|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:27:47.5451|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Consent/Index.cshtml. 
2018-03-24 20:27:49.5752|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) in 4156.2593ms 
2018-03-24 20:27:49.8107|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4741.4905ms 200 text/html; charset=utf-8 
2018-03-24 20:27:51.7300|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 POST http://localhost:5000/consent application/x-www-form-urlencoded 664 
2018-03-24 20:27:51.7583|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:51.7790|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:51.9022|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) with arguments (KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentInputModel) - ModelState is Valid 
2018-03-24 20:27:51.9373|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:27:51.9627|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:27:52.0697|1|Microsoft.AspNetCore.Mvc.Internal.RedirectResultExecutor|INFO|Executing RedirectResult, redirecting to /connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=ce234f3a0dbf4d949f354454ac7c8ebd&nonce=bcf5e551e884489194a5c1635773b64b. 
2018-03-24 20:27:52.0985|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Quickstart.Consent.ConsentController.Index (KiraNet.Camellia.AuthorizationServer) in 266.9707ms 
2018-03-24 20:27:52.1470|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 398.894ms 302  
2018-03-24 20:27:52.1978|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize/callback?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=ce234f3a0dbf4d949f354454ac7c8ebd&nonce=bcf5e551e884489194a5c1635773b64b   
2018-03-24 20:27:52.2294|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:52.2480|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:27:52.2708|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize/callback matched to endpoint type Authorize 
2018-03-24 20:27:52.2924|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint 
2018-03-24 20:27:52.3151|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback 
2018-03-24 20:27:52.3533|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|Start authorize callback request 
2018-03-24 20:27:52.5741|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:27:52.5974|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 20:27:52.6247|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 20:27:52.6468|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "ce234f3a0dbf4d949f354454ac7c8ebd",
  "Nonce": "bcf5e551e884489194a5c1635773b64b",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "ce234f3a0dbf4d949f354454ac7c8ebd",
    "nonce": "bcf5e551e884489194a5c1635773b64b"
  }
} 
2018-03-24 20:27:52.6794|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:27:52.7399|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:27:52.7921|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 20:27:52.8418|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-24 20:27:52.8722|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: False 
2018-03-24 20:27:52.9414|0|IdentityServer4.Stores.DefaultUserConsentStore|DEBUG|user_consent grant with value: client_id|4b0bf01c-6fae-4ecc-9202-feada77ad388 not found in store. 
2018-03-24 20:27:52.9958|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Found no prior consent from consent store, consent is required 
2018-03-24 20:27:53.0642|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|INFO|User consented to scopes: openid, profile, client_name 
2018-03-24 20:27:53.1078|0|IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator|DEBUG|User indicated to remember consent for scopes: openid, profile, client_name 
2018-03-24 20:27:53.1575|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Client allows remembering consent, and consent given. Updating consent store for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:27:53.2771|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (6ms) [Parameters=[@__token_Key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__token_Key_0 
2018-03-24 20:27:53.3157|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= not found in database 
2018-03-24 20:27:53.5935|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 200), @p2='?', @p3='?' (Size = 4000), @p4='?', @p5='?' (Size = 200), @p6='?' (Size = 50)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PersistedGrants] ([Key], [ClientId], [CreationTime], [Data], [Expiration], [SubjectId], [Type])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6); 
2018-03-24 20:27:53.6485|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-24 20:27:53.7140|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-24 20:27:53.7431|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 20:27:54.1788|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (48ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 20:27:54.4225|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 20:27:54.4853|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 20:27:54.6067|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 20:27:55.0898|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-24 20:27:55.1610|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (35ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 20:27:55.2189|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 20:27:55.2547|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 20:27:55.2924|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (10ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 20:27:55.3778|0|IdentityServer4.Endpoints.AuthorizeCallbackEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "ce234f3a0dbf4d949f354454ac7c8ebd",
  "Scope": "openid profile client_name"
} 
2018-03-24 20:27:55.5393|0|IdentityServer4.Hosting.IdentityServerAuthenticationService|DEBUG|Augmenting SignInContext 
2018-03-24 20:27:55.5891|10|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application signed in. 
2018-03-24 20:27:55.6339|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3452.4991ms 302  
2018-03-24 20:27:59.0638|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 20:27:59.1392|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 20:27:59.1610|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:27:59.1831|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:27:59.2066|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:27:59.2266|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 20:27:59.2460|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 20:27:59.2714|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 20:27:59.3049|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 20:27:59.3369|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 276.4249ms 200 application/json; charset=UTF-8 
2018-03-24 20:27:59.3611|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-24 20:27:59.3897|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-24 20:27:59.4177|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:27:59.4561|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:27:59.4803|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:27:59.5115|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-24 20:27:59.5441|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-24 20:27:59.5765|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-24 20:27:59.6221|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-24 20:27:59.8201|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 338.5692ms 200 application/json; charset=UTF-8 
2018-03-24 20:27:59.8764|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-24 20:27:59.9034|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-24 20:27:59.9247|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:27:59.9443|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:27:59.9687|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:28:00.0060|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 127.3541ms 204  
2018-03-24 20:28:00.1129|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-24 20:28:00.1593|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-24 20:28:00.1865|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:28:00.2101|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:28:00.2291|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:28:00.2520|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-24 20:28:00.2787|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-24 20:28:00.2965|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-24 20:28:00.3348|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-24 20:28:00.3666|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-24 20:28:00.6694|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 20:28:00.7091|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (19ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 20:28:00.7895|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-24 20:28:00.8411|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1521894474,
    "exp": 1521895374,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1521887339,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "scope": [
      "openid",
      "profile",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-24 20:28:00.9038|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-24 20:28:01.0613|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 20:28:01.3274|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 20:28:01.4806|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at 
2018-03-24 20:28:01.5184|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 20:28:01.5749|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (32ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 20:28:01.6203|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 20:28:01.6803|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 20:28:01.7353|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (16ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 20:28:01.7693|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name 
2018-03-24 20:28:01.8677|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-24 20:28:02.0910|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1834.9391ms 200 application/json; charset=UTF-8 
2018-03-24 20:28:02.1449|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 20:28:02.1715|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:28:02.1927|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:28:02.2204|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 20:28:02.2597|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 20:28:02.2904|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 20:28:02.5894|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 20:28:02.7833|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 552.0884ms 200 text/html; charset=UTF-8 
2018-03-24 20:28:03.3802|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 20:28:03.4458|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 20:28:03.4853|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 20:28:03.5045|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 20:28:03.5228|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 20:28:03.5410|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 20:28:03.5582|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 20:28:03.5756|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 20:28:03.5951|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 20:28:03.6265|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 245.7006ms 200 application/json; charset=UTF-8 
2018-03-24 20:28:03.6399|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 20:28:03.6728|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:28:03.6930|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:28:03.7173|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 20:28:03.7425|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 20:28:03.7843|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 20:28:03.8415|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 20:28:04.0069|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 236.329ms 200 text/html; charset=UTF-8 
2018-03-24 20:30:13.9106|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 20:30:14.1368|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 20:30:14.1767|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 20:30:14.2056|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 20:30:14.2376|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 20:30:14.7890|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 20:30:15.6235|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 20:30:15.9250|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:30:16.0186|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 20:30:16.4435|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 20:30:25.2574|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 20:30:29.6008|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 13203.8816ms 
2018-03-24 20:30:29.6385|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 14055.7115ms 200 text/html; charset=utf-8 
2018-03-24 22:21:52.2342|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 22:21:52.4046|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 22:21:52.4391|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 22:21:52.4712|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 22:21:52.4995|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 22:21:53.0006|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 22:21:54.0681|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 22:21:55.0224|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 22:21:57.0134|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (622ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 22:21:57.3700|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (64ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 22:21:57.6665|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 22:21:57.7714|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (32ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 22:21:57.9324|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (15ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 22:21:57.9885|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:21:58.0768|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:21:59.0055|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 22:22:15.6732|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 22:22:25.3634|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 26381.2566ms 
2018-03-24 22:22:25.4098|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 31481.9602ms 200 text/html; charset=utf-8 
2018-03-24 22:22:25.5356|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/images/Butterfly.png   
2018-03-24 22:22:25.7421|6|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|INFO|The file /images/Butterfly.png was not modified 
2018-03-24 22:22:26.0488|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 247.7496ms 304 image/png 
2018-03-24 22:23:59.2472|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 22:23:59.9866|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 22:24:00.3238|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 22:24:00.7250|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 22:24:00.7828|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 22:24:02.8825|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 22:24:04.2263|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 22:24:04.5534|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:24:04.6521|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:24:05.4206|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 22:24:17.7832|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 22:24:22.7029|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 17170.2703ms 
2018-03-24 22:24:22.7665|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 18659.9739ms 200 text/html; charset=utf-8 
2018-03-24 22:33:07.9682|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:33:08.2814|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:33:08.6569|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:33:08.6806|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:33:08.7113|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:33:08.9576|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:33:09.1827|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:33:09.3152|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:33:09.3605|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:33:10.7821|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2830.7197ms 200 application/json; charset=UTF-8 
2018-03-24 22:33:12.5810|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:33:12.6365|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:33:12.6605|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:33:12.7373|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:33:12.7669|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:33:12.7871|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:33:12.8371|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:33:12.9392|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 315.9027ms 200 text/html; charset=UTF-8 
2018-03-24 22:33:23.7888|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:33:23.9406|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:33:23.9713|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:33:23.9914|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:33:24.0277|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:33:24.0564|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:33:24.4076|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:33:24.4275|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:33:24.4520|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:33:24.4768|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 734.6619ms 200 application/json; charset=UTF-8 
2018-03-24 22:33:24.5115|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:33:24.5346|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:33:24.6274|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:33:24.7306|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:33:24.9016|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:33:24.9231|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:33:24.9457|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:33:25.1380|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 462.0375ms 200 text/html; charset=UTF-8 
2018-03-24 22:34:17.6492|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:34:18.5001|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:34:19.9771|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:34:20.5231|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:34:22.3246|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:34:22.9443|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:34:23.0898|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:34:23.4312|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:34:23.8510|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:34:24.5110|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 6685.5949ms 200 application/json; charset=UTF-8 
2018-03-24 22:34:24.7502|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:34:25.1181|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:34:25.3237|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:34:25.6508|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:34:25.7829|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:34:25.8393|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:34:26.0008|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:34:26.7930|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1526.7226ms 200 text/html; charset=UTF-8 
2018-03-24 22:34:33.8952|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:34:33.9358|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:34:34.0010|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:34:34.0923|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:34:34.1108|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:34:34.1372|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:34:34.1588|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:34:34.1862|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:34:34.2153|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:34:34.4397|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 361.6524ms 200 application/json; charset=UTF-8 
2018-03-24 22:34:34.5176|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:34:34.5551|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:34:34.5797|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:34:34.6029|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:34:34.6281|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:34:34.6458|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:34:34.6800|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:34:34.7361|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 254.6243ms 200 text/html; charset=UTF-8 
2018-03-24 22:35:21.6281|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:35:21.6758|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:35:21.7741|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:35:21.8037|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:35:21.8243|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:35:21.8443|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:35:21.8947|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:35:21.9284|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:35:21.9634|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:35:22.0266|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 380.8312ms 200 application/json; charset=UTF-8 
2018-03-24 22:35:22.1244|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:35:22.1516|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:35:22.1815|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:35:22.2580|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:35:22.2848|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:35:22.3087|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:35:22.3357|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:35:22.4702|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 315.2869ms 200 text/html; charset=UTF-8 
2018-03-24 22:35:46.2156|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:35:46.3497|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:35:46.3949|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:35:46.4220|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:35:46.4557|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:35:46.4700|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:35:46.4903|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:35:46.5269|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:35:46.5725|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:35:46.6580|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 400.0747ms 200 application/json; charset=UTF-8 
2018-03-24 22:35:46.6822|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:35:46.7558|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:35:46.7829|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:35:46.8091|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:35:46.8360|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:35:47.0451|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:35:47.3760|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:35:47.4494|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 729.9896ms 200 text/html; charset=UTF-8 
2018-03-24 22:36:00.2356|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:36:00.2804|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:36:00.3689|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:00.3958|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:00.4348|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:00.4348|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:36:00.4756|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:36:00.4944|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:36:00.5130|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:36:00.5553|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 296.2424ms 200 application/json; charset=UTF-8 
2018-03-24 22:36:00.5784|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:36:00.5971|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:00.6199|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:00.6424|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:36:00.6840|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:36:00.7082|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:36:00.7300|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:36:00.9772|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 188.5223ms 200 text/html; charset=UTF-8 
2018-03-24 22:36:34.4250|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:36:34.4699|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:36:34.5329|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:34.6105|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:34.6492|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:34.6672|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:36:34.6992|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:36:34.7755|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:36:34.8328|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:36:34.9926|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 426.1664ms 200 application/json; charset=UTF-8 
2018-03-24 22:36:35.1413|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:36:35.1645|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:35.1921|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:35.2346|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:36:35.2653|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:36:35.2899|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:36:35.3222|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:36:35.3998|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 212.2296ms 200 text/html; charset=UTF-8 
2018-03-24 22:36:43.9044|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:36:43.9267|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:36:43.9472|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:43.9636|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:43.9809|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:44.0012|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:36:44.0270|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:36:44.0501|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:36:44.0774|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:36:44.1528|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 241.4591ms 200 application/json; charset=UTF-8 
2018-03-24 22:36:44.1859|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/authorize?client_id=client_id&redirect_uri=http%3A%2F%2Flocalhost%3A5200%2Flogin-callback&response_type=id_token%20token&scope=openid%20profile%20client_name&state=01b894ff612249e7b13794af361dad19&nonce=e27e4e4046114d509a7668936907d64c   
2018-03-24 22:36:44.2623|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:44.2974|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:36:44.3568|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/authorize matched to endpoint type Authorize 
2018-03-24 22:36:44.4241|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint 
2018-03-24 22:36:44.4636|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize 
2018-03-24 22:36:44.6036|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|Start authorize request 
2018-03-24 22:36:44.7695|0|IdentityServer4.Endpoints.AuthorizeEndpoint|DEBUG|User in authorize request: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 22:36:44.8212|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Start authorize request protocol validation 
2018-03-24 22:36:45.3396|0|IdentityServer4.Validation.AuthorizeRequestValidator|DEBUG|Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator 
2018-03-24 22:36:45.6190|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|ValidatedAuthorizeRequest
{
  "ClientId": "client_id",
  "ClientName": "client_name",
  "RedirectUri": "http://localhost:5200/login-callback",
  "AllowedRedirectUris": [
    "http://localhost:5200/login-callback"
  ],
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile client_name",
  "State": "01b894ff612249e7b13794af361dad19",
  "Nonce": "e27e4e4046114d509a7668936907d64c",
  "SessionId": "a4784acf521e1e32eeeef3124a8a3e83",
  "Raw": {
    "client_id": "client_id",
    "redirect_uri": "http://localhost:5200/login-callback",
    "response_type": "id_token token",
    "scope": "openid profile client_name",
    "state": "01b894ff612249e7b13794af361dad19",
    "nonce": "e27e4e4046114d509a7668936907d64c"
  }
} 
2018-03-24 22:36:46.6960|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 22:36:48.5000|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (352ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 22:36:48.7772|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'PersistedGrantDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=KiraNet.Camellia.AuthorizationServer  
2018-03-24 22:36:49.2386|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (369ms) [Parameters=[@__key_0='?' (Size = 200)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Key], [x].[ClientId], [x].[CreationTime], [x].[Data], [x].[Expiration], [x].[SubjectId], [x].[Type]
FROM [PersistedGrants] AS [x]
WHERE [x].[Key] = @__key_0 
2018-03-24 22:36:49.3964|0|IdentityServer4.EntityFramework.Stores.PersistedGrantStore|DEBUG|ziDYl0wVbeUB5GMXmKZHGhpoXs9bjRe8ti7zHtwfzlI= found in database: True 
2018-03-24 22:36:49.6080|0|IdentityServer4.Services.DefaultConsentService|DEBUG|Consent found in consent store is same as current request, consent is not required 
2018-03-24 22:36:49.6686|0|IdentityServer4.ResponseHandling.AuthorizeResponseGenerator|DEBUG|Creating Implicit Flow response. 
2018-03-24 22:36:49.7214|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for client: client_id 
2018-03-24 22:36:49.7437|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for access token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 
2018-03-24 22:36:50.2036|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (262ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 22:36:50.6620|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (342ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 22:36:50.9875|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (260ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 22:36:51.1038|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (21ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 22:36:51.6724|0|IdentityServer4.Services.DefaultClaimsService|DEBUG|Getting claims for identity token for subject: 4b0bf01c-6fae-4ecc-9202-feada77ad388 and client: client_id 
2018-03-24 22:36:52.0001|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (298ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 22:36:52.2934|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (259ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 22:36:52.5747|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (261ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 22:36:52.6118|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (17ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 22:36:52.6979|0|IdentityServer4.Endpoints.AuthorizeEndpoint|INFO|Authorize endpoint response
{
  "SubjectId": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
  "ClientId": "client_id",
  "RedirectUri": "http://localhost:5200/login-callback",
  "State": "01b894ff612249e7b13794af361dad19",
  "Scope": "openid profile client_name"
} 
2018-03-24 22:36:52.8800|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 8660.1507ms 302  
2018-03-24 22:36:58.1803|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:36:58.2124|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:36:58.2372|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:58.2595|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:58.2771|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:58.2945|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:36:58.3109|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:36:58.3282|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:36:58.3464|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:36:58.3933|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 286.4299ms 200 application/json; charset=UTF-8 
2018-03-24 22:36:58.4185|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-24 22:36:58.4360|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:5200 
2018-03-24 22:36:58.4749|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:58.5015|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:58.5227|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:58.5479|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-24 22:36:58.5941|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-24 22:36:58.6269|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-24 22:36:58.6602|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-24 22:36:59.0285|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 307.5724ms 200 application/json; charset=UTF-8 
2018-03-24 22:36:59.1484|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 OPTIONS http://localhost:5000/connect/userinfo   
2018-03-24 22:36:59.2010|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-24 22:36:59.3021|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:59.3495|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:59.3705|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:59.4047|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 308.321ms 204  
2018-03-24 22:36:59.4414|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/userinfo   
2018-03-24 22:36:59.4594|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /connect/userinfo from origin: http://localhost:5200 
2018-03-24 22:36:59.4793|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:36:59.5000|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:36:59.5176|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:36:59.5355|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/userinfo matched to endpoint type Userinfo 
2018-03-24 22:36:59.5804|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint 
2018-03-24 22:36:59.6024|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo 
2018-03-24 22:36:59.6513|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|Start userinfo request 
2018-03-24 22:36:59.6952|0|IdentityServer4.Validation.BearerTokenUsageValidator|DEBUG|Bearer token found in header 
2018-03-24 22:37:00.1009|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 22:37:00.4193|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (298ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 22:37:00.4435|0|IdentityServer4.Validation.TokenValidator|DEBUG|Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator 
2018-03-24 22:37:00.4975|0|IdentityServer4.Validation.TokenValidator|DEBUG|Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1521902211,
    "exp": 1521903111,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "client_name"
    ],
    "client_id": "client_id",
    "sub": "4b0bf01c-6fae-4ecc-9202-feada77ad388",
    "auth_time": 1521887339,
    "idp": "local",
    "preferred_username": "admin",
    "name": "admin",
    "scope": [
      "openid",
      "profile",
      "client_name"
    ],
    "amr": "pwd"
  }
} 
2018-03-24 22:37:00.5593|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Creating userinfo response 
2018-03-24 22:37:00.6354|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 22:37:00.6663|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 22:37:00.6957|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at 
2018-03-24 22:37:00.7219|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|DEBUG|Scopes in access token: openid profile client_name 
2018-03-24 22:37:00.8227|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (74ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 22:37:00.8909|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 22:37:00.9130|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 22:37:00.9418|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 22:37:00.9656|0|IdentityServer4.ResponseHandling.UserInfoResponseGenerator|INFO|Profile service returned to the following claim types: sub preferred_username name 
2018-03-24 22:37:01.0334|0|IdentityServer4.Endpoints.UserInfoEndpoint|DEBUG|End userinfo request 
2018-03-24 22:37:01.2888|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1625.2125ms 200 application/json; charset=UTF-8 
2018-03-24 22:37:01.5498|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:37:02.0587|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:02.0994|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:02.1502|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:37:02.2726|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:37:02.8335|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:37:03.2009|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:37:03.2479|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1941.1947ms 200 text/html; charset=UTF-8 
2018-03-24 22:37:06.6889|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:37:06.7098|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:37:06.7258|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:37:06.7511|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:37:06.7891|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:37:06.8065|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:37:06.8431|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:37:06.8603|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:37:06.8829|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:37:06.9445|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 360.6486ms 200 application/json; charset=UTF-8 
2018-03-24 22:37:07.2277|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:37:07.2636|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:07.4254|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:07.4482|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:37:07.4688|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:37:07.4895|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:37:07.6349|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:37:07.7665|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 700.6548ms 200 text/html; charset=UTF-8 
2018-03-24 22:37:33.4217|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:37:33.5498|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:37:33.6294|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:37:33.7193|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:37:34.7086|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:37:35.0691|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:37:35.1196|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:37:35.3165|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:37:35.4265|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:37:35.9212|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2083.0509ms 200 application/json; charset=UTF-8 
2018-03-24 22:37:35.9927|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:37:36.1016|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:36.2535|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:37:36.3544|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:37:36.3906|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:37:36.4344|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:37:36.4783|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:37:36.6108|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 576.629ms 200 text/html; charset=UTF-8 
2018-03-24 22:38:05.9492|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:38:06.2158|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:38:07.1898|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:38:07.4730|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:38:07.8224|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:38:08.1407|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:38:08.2457|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:38:08.3076|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:38:08.3453|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:38:08.5939|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3512.8631ms 200 application/json; charset=UTF-8 
2018-03-24 22:38:08.7517|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:38:08.8331|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:38:08.8652|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:38:08.9164|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:38:08.9807|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:38:09.0105|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:38:09.0700|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:38:09.1846|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 483.7089ms 200 text/html; charset=UTF-8 
2018-03-24 22:38:10.1941|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:38:10.2092|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:38:10.2280|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:38:10.2444|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:38:10.2623|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:38:10.2886|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 84.4191ms 200 application/json; charset=UTF-8 
2018-03-24 22:38:10.5543|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-24 22:38:10.5682|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-24 22:38:10.6154|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-24 22:38:10.6327|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-24 22:38:10.6585|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-24 22:38:10.6817|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 122.7904ms 200 application/json; charset=UTF-8 
2018-03-24 22:38:36.4520|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:38:36.4945|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:38:36.5646|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:38:36.5857|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:38:36.6217|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:38:36.6549|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:38:36.6944|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:38:36.9289|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:38:37.1388|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:38:37.2242|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 848.6805ms 200 application/json; charset=UTF-8 
2018-03-24 22:38:37.4546|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:38:37.7738|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:38:37.8093|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:38:38.0042|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:38:38.0517|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:38:38.0974|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:38:38.1251|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:38:38.2242|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 922.6048ms 200 text/html; charset=UTF-8 
2018-03-24 22:39:23.7283|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:39:24.1239|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:39:24.6528|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:39:24.6797|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:39:24.7232|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:39:24.7685|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:39:24.8072|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:39:24.8371|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:39:24.8772|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:39:24.9782|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:39:24.9782|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1174.5697ms 200 application/json; charset=UTF-8 
2018-03-24 22:39:25.0370|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:39:25.0587|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:39:25.0784|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:39:25.1216|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:39:25.1477|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:39:25.1739|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:39:25.2621|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 258.9544ms 200 text/html; charset=UTF-8 
2018-03-24 22:40:09.5310|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:40:09.5921|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:40:09.7240|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:40:09.7475|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:40:09.7912|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:40:09.8189|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:40:09.8474|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:40:09.8689|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:40:09.8930|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:40:10.0966|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:40:10.1229|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 390.8771ms 200 application/json; charset=UTF-8 
2018-03-24 22:40:10.2071|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:40:10.2631|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:40:10.2978|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:40:10.4941|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:40:10.8166|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:40:10.8856|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:40:11.1087|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 903.4024ms 200 text/html; charset=UTF-8 
2018-03-24 22:42:02.2156|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:42:02.2351|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:42:02.2873|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:42:02.3117|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:42:02.3398|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:42:02.4804|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:42:02.5281|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:42:02.5466|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:42:02.6032|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:42:02.6364|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 404.0863ms 200 application/json; charset=UTF-8 
2018-03-24 22:42:03.5704|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:42:03.5924|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:42:03.6135|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:42:03.6371|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:42:03.6794|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:42:03.7066|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:42:03.7256|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:42:03.7513|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 173.8939ms 200 text/html; charset=UTF-8 
2018-03-24 22:42:52.3439|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:42:52.3763|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:42:52.4411|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:42:52.4697|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:42:52.5234|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:42:52.5798|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:42:52.6206|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:42:52.6484|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:42:52.6716|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:42:53.0217|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 525.6947ms 200 application/json; charset=UTF-8 
2018-03-24 22:42:53.2477|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:42:53.3237|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:42:53.3536|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:42:53.3751|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:42:53.3963|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:42:53.5766|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:42:53.6336|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:42:53.7222|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 618.8771ms 200 text/html; charset=UTF-8 
2018-03-24 22:43:07.2127|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:43:07.2468|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:43:07.2822|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:43:07.3121|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:43:07.3391|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:43:07.3678|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:43:07.3985|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:43:07.4218|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:43:07.4670|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:43:07.9486|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 445.5758ms 200 application/json; charset=UTF-8 
2018-03-24 22:43:07.9924|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:43:08.0302|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:43:08.0675|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:43:08.1527|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:43:08.2177|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:43:08.2662|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:43:08.3892|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:43:08.7089|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 456.6497ms 200 text/html; charset=UTF-8 
2018-03-24 22:45:06.4809|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:45:06.5289|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:45:06.5890|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:45:06.6147|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:45:06.6408|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:45:06.6674|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:45:06.6976|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:45:07.3823|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:45:08.5431|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:45:08.8873|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2219.8591ms 200 application/json; charset=UTF-8 
2018-03-24 22:45:08.9318|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:45:08.9538|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:45:08.9739|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:45:08.9967|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:45:09.0317|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:45:09.1183|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:45:09.3490|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:45:09.4159|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 442.5294ms 200 text/html; charset=UTF-8 
2018-03-24 22:46:56.6218|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:46:56.6446|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:46:56.8384|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:46:56.8637|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:46:57.3501|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:46:57.4921|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:46:57.5613|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:46:57.7589|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:46:58.4120|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:46:58.9766|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 2034.8417ms 200 application/json; charset=UTF-8 
2018-03-24 22:46:59.0373|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:46:59.3202|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:46:59.4048|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:46:59.5074|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:46:59.7657|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:46:59.8189|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:46:59.8444|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:47:00.0558|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 945.5054ms 200 text/html; charset=UTF-8 
2018-03-24 22:47:39.9244|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:47:39.9583|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:47:40.0216|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:47:40.2703|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:47:40.2920|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:47:40.3415|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:47:40.4464|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:47:40.8607|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:47:41.0788|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:47:41.1581|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1244.6899ms 200 application/json; charset=UTF-8 
2018-03-24 22:47:41.4018|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:47:41.9179|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:47:42.0565|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:47:42.1428|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:47:42.1690|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:47:42.1930|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:47:42.2159|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:47:42.2909|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1046.5526ms 200 text/html; charset=UTF-8 
2018-03-24 22:51:32.4792|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:51:32.6961|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:51:32.9656|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:51:33.7245|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:51:34.1721|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:51:34.6112|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:51:35.5829|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:51:36.0181|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:51:36.3457|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:51:36.5209|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3946.0626ms 200 application/json; charset=UTF-8 
2018-03-24 22:51:36.5873|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:51:37.0165|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:51:37.1697|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:51:37.2190|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:51:37.5414|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:51:37.7622|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:51:38.0446|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:51:38.1859|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1533.6086ms 200 text/html; charset=UTF-8 
2018-03-24 22:52:22.3819|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:52:23.7207|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:52:24.6650|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:52:24.7652|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:52:25.2776|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:52:25.5670|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:52:25.7166|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:52:25.9905|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:52:26.1479|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:52:26.7114|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4261.2347ms 200 application/json; charset=UTF-8 
2018-03-24 22:52:26.8059|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:52:27.1378|10403|Microsoft.EntityFrameworkCore.Infrastructure|INFO|Entity Framework Core 2.0.2-rtm-10011 initialized 'AuthDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None 
2018-03-24 22:52:30.0448|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (596ms) [Parameters=[@__get_Item_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[AccessFailedCount], [e].[Alias], [e].[ConcurrencyStamp], [e].[Email], [e].[EmailConfirmed], [e].[LockoutEnabled], [e].[LockoutEnd], [e].[NormalizedEmail], [e].[NormalizedUserName], [e].[PasswordHash], [e].[PhoneNumber], [e].[PhoneNumberConfirmed], [e].[SecurityStamp], [e].[TwoFactorEnabled], [e].[UserName]
FROM [Users] AS [e]
WHERE [e].[Id] = @__get_Item_0 
2018-03-24 22:52:30.2711|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (45ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [uc].[Id], [uc].[ClaimType], [uc].[ClaimValue], [uc].[UserId]
FROM [UserClaims] AS [uc]
WHERE [uc].[UserId] = @__user_Id_0 
2018-03-24 22:52:30.7748|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (299ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [role].[Name]
FROM [UserRoles] AS [userRole]
INNER JOIN [Roles] AS [role] ON [userRole].[RoleId] = [role].[Id]
WHERE [userRole].[UserId] = @__userId_0 
2018-03-24 22:52:30.8552|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[Name], [r].[NormalizedName]
FROM [Roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0 
2018-03-24 22:52:30.9374|20101|Microsoft.EntityFrameworkCore.Database.Command|INFO|Executed DbCommand (12ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [rc].[ClaimType], [rc].[ClaimValue]
FROM [RoleClaims] AS [rc]
WHERE [rc].[RoleId] = @__role_Id_0 
2018-03-24 22:52:31.0596|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:52:31.1885|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:52:31.2368|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:52:31.3021|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:52:31.3537|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:52:31.4011|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:52:31.9796|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 4767.0493ms 200 text/html; charset=UTF-8 
2018-03-24 22:52:47.6408|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 22:52:47.7926|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 22:52:47.9277|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 22:52:47.9515|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 22:52:47.9749|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 22:52:48.0538|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 22:52:48.0845|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 22:52:48.1224|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 22:52:48.1444|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 22:52:48.2488|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 22:52:48.2688|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 589.6259ms 200 application/json; charset=UTF-8 
2018-03-24 22:52:48.3216|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:52:48.3579|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 22:52:48.4263|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 22:52:48.4637|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 22:52:48.5975|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 22:52:48.6551|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 22:52:48.8252|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 472.0041ms 200 text/html; charset=UTF-8 
2018-03-24 23:00:30.3032|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for authentication 
2018-03-24 23:00:30.5509|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-in 
2018-03-24 23:00:30.5881|0|IdentityServer4.Startup|DEBUG|Using Identity.External as default scheme for sign-out 
2018-03-24 23:00:30.6326|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for challenge 
2018-03-24 23:00:30.7059|0|IdentityServer4.Startup|DEBUG|Using Identity.Application as default scheme for forbid 
2018-03-24 23:00:31.5444|0|IdentityServer4.EntityFramework.TokenCleanup|DEBUG|Starting token cleanup 
2018-03-24 23:00:33.0587|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/   
2018-03-24 23:00:33.3542|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:00:33.4231|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:00:34.0746|1|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executing action method KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) with arguments ((null)) - ModelState is Valid 
2018-03-24 23:00:44.4394|1|Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ViewResultExecutor|INFO|Executing ViewResult, running view at path /Views/Home/Index.cshtml. 
2018-03-24 23:00:48.9874|2|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|INFO|Executed action KiraNet.Camellia.AuthorizationServer.Controllers.HomeController.Index (KiraNet.Camellia.AuthorizationServer) in 14851.1452ms 
2018-03-24 23:00:49.0366|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 16057.463ms 200 text/html; charset=utf-8 
2018-03-24 23:02:32.1429|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 23:02:32.5765|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 23:02:33.1554|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 23:02:33.2273|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 23:02:33.4699|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 23:02:33.7878|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 23:02:34.0495|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 23:02:34.0844|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 23:02:34.1236|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 23:02:35.0929|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 23:02:35.0929|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 3278.3331ms 200 application/json; charset=UTF-8 
2018-03-24 23:02:35.1324|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:02:35.1549|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:02:35.1731|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 23:02:35.2011|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 23:02:35.2212|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 23:02:35.2458|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 23:02:35.3128|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 209.8179ms 200 text/html; charset=UTF-8 
2018-03-24 23:03:09.6682|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 23:03:09.7315|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:5200 
2018-03-24 23:03:10.0027|0|IdentityServer4.Services.InMemoryCorsPolicyService|DEBUG|Client list checked and origin: http://localhost:5200 is allowed 
2018-03-24 23:03:10.0927|0|IdentityServer4.Hosting.CorsPolicyProvider|DEBUG|CorsPolicyService allowed origin: http://localhost:5200 
2018-03-24 23:03:10.2123|4|Microsoft.AspNetCore.Cors.Infrastructure.CorsService|INFO|Policy execution successful. 
2018-03-24 23:03:10.4125|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 23:03:10.4971|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 23:03:10.5729|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 23:03:10.6361|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 23:03:10.8203|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 1320.2187ms 200 application/json; charset=UTF-8 
2018-03-24 23:03:10.8641|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/connect/checksession   
2018-03-24 23:03:10.9147|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:03:10.9636|8|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler|INFO|AuthenticationScheme: Identity.Application was successfully authenticated. 
2018-03-24 23:03:11.0667|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /connect/checksession matched to endpoint type Checksession 
2018-03-24 23:03:11.1574|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Checksession, successfully created handler: IdentityServer4.Endpoints.CheckSessionEndpoint 
2018-03-24 23:03:11.1828|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.CheckSessionEndpoint for /connect/checksession 
2018-03-24 23:03:11.2070|0|IdentityServer4.Endpoints.CheckSessionEndpoint|DEBUG|Rendering check session result 
2018-03-24 23:03:11.3869|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 407.2037ms 200 text/html; charset=UTF-8 
2018-03-24 23:03:23.7425|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration   
2018-03-24 23:03:23.7609|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration matched to endpoint type Discovery 
2018-03-24 23:03:23.7877|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint 
2018-03-24 23:03:23.8309|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration 
2018-03-24 23:03:23.8553|0|IdentityServer4.Endpoints.DiscoveryEndpoint|DEBUG|Start discovery request 
2018-03-24 23:03:23.9317|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 134.1686ms 200 application/json; charset=UTF-8 
2018-03-24 23:03:24.2754|1|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request starting HTTP/1.1 GET http://localhost:5000/.well-known/openid-configuration/jwks   
2018-03-24 23:03:24.3321|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery 
2018-03-24 23:03:24.3993|0|IdentityServer4.Hosting.EndpointRouter|DEBUG|Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint 
2018-03-24 23:03:24.4207|0|IdentityServer4.Hosting.IdentityServerMiddleware|INFO|Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks 
2018-03-24 23:03:24.4541|0|IdentityServer4.Endpoints.DiscoveryKeyEndpoint|DEBUG|Start key discovery request 
2018-03-24 23:03:24.9224|2|Microsoft.AspNetCore.Hosting.Internal.WebHost|INFO|Request finished in 562.0582ms 200 application/json; charset=UTF-8 
